(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){"use strict";(function(e,r){var o=n(3),i=n.n(o),a=n(0),s=n.n(a),u=n(1),c=n.n(u),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function f(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function v(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}var h=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)};function p(e){return!0===h(e)&&"[object Object]"===Object.prototype.toString.call(e)}var y=function(e){var t,n;return!1!==p(e)&&("function"===typeof(t=e.constructor)&&(!1!==p(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},m=5,g=1<<m,k=g-1,_={};function b(e){e&&(e.value=!0)}function w(){}function x(e){return void 0===e.size&&(e.size=e.__iterate(A)),e.size}function O(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?x(e)+t:t}function A(){return!0}function E(e,t,n){return(0===e&&!C(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function S(e,t){return T(e,t,0)}function N(e,t){return T(e,t,t)}function T(e,t,n){return void 0===e?n:C(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function C(e){return e<0||0===e&&1/e===-1/0}var B="@@__IMMUTABLE_ITERABLE__@@";function F(e){return Boolean(e&&e[B])}var j="@@__IMMUTABLE_KEYED__@@";function P(e){return Boolean(e&&e[j])}var z="@@__IMMUTABLE_INDEXED__@@";function I(e){return Boolean(e&&e[z])}function D(e){return P(e)||I(e)}var R=function(e){return F(e)?e:le(e)},M=function(e){function t(e){return P(e)?e:fe(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(R),L=function(e){function t(e){return I(e)?e:de(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(R),q=function(e){function t(e){return F(e)&&!D(e)?e:ve(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(R);R.Keyed=M,R.Indexed=L,R.Set=q;var K="@@__IMMUTABLE_SEQ__@@";function U(e){return Boolean(e&&e[K])}var J="@@__IMMUTABLE_RECORD__@@";function V(e){return Boolean(e&&e[J])}function W(e){return F(e)||V(e)}var H="@@__IMMUTABLE_ORDERED__@@";function $(e){return Boolean(e&&e[H])}var Y=0,G=1,X=2,Q="function"===typeof Symbol&&Symbol.iterator,Z="@@iterator",ee=Q||Z,te=function(e){this.next=e};function ne(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function re(){return{value:void 0,done:!0}}function oe(e){return!!se(e)}function ie(e){return e&&"function"===typeof e.next}function ae(e){var t=se(e);return t&&t.call(e)}function se(e){var t=e&&(Q&&e[Q]||e[Z]);if("function"===typeof t)return t}te.prototype.toString=function(){return"[Iterator]"},te.KEYS=Y,te.VALUES=G,te.ENTRIES=X,te.prototype.inspect=te.prototype.toSource=function(){return this.toString()},te.prototype[ee]=function(){return this};var ue=Object.prototype.hasOwnProperty;function ce(e){return!(!Array.isArray(e)&&"string"!==typeof e)||e&&"object"===typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var le=function(e){function t(e){return null===e||void 0===e?ge():W(e)?e.toSeq():function(e){var t=be(e);if(t)return t;if("object"===typeof e)return new pe(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[t?r-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,o=0;return new te(function(){if(o===r)return{value:void 0,done:!0};var i=n[t?r-++o:o++];return ne(e,i[0],i[1])})}return this.__iteratorUncached(e,t)},t}(R),fe=function(e){function t(e){return null===e||void 0===e?ge().toKeyedSeq():F(e)?P(e)?e.toSeq():e.fromEntrySeq():V(e)?e.toSeq():ke(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(le),de=function(e){function t(e){return null===e||void 0===e?ge():F(e)?P(e)?e.entrySeq():e.toIndexedSeq():V(e)?e.toSeq().entrySeq():_e(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(le),ve=function(e){function t(e){return(F(e)&&!D(e)?e:de(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(le);le.isSeq=U,le.Keyed=fe,le.Set=ve,le.Indexed=de,le.prototype[K]=!0;var he=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[O(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,o=0;o!==r;){var i=t?r-++o:o++;if(!1===e(n[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,o=0;return new te(function(){if(o===r)return{value:void 0,done:!0};var i=t?r-++o:o++;return ne(e,i,n[i])})},t}(de),pe=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return ue.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[t?o-++i:i++];if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length,i=0;return new te(function(){if(i===o)return{value:void 0,done:!0};var a=r[t?o-++i:i++];return ne(e,a,n[a])})},t}(fe);pe.prototype[H]=!0;var ye,me=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=ae(this._collection),r=0;if(ie(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=ae(this._collection);if(!ie(n))return new te(re);var r=0;return new te(function(){var t=n.next();return t.done?t:ne(e,r++,t.value)})},t}(de);function ge(){return ye||(ye=new he([]))}function ke(e){var t=Array.isArray(e)?new he(e):oe(e)?new me(e):void 0;if(t)return t.fromEntrySeq();if("object"===typeof e)return new pe(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function _e(e){var t=be(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function be(e){return ce(e)?new he(e):oe(e)?new me(e):void 0}var we="@@__IMMUTABLE_MAP__@@";function xe(e){return Boolean(e&&e[we])}function Oe(e){return xe(e)&&$(e)}function Ae(e){return Boolean(e&&"function"===typeof e.equals&&"function"===typeof e.hashCode)}function Ee(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Ae(e)&&Ae(t)&&e.equals(t))}var Se="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ne(e){return e>>>1&1073741824|3221225471&e}var Te=Object.prototype.valueOf;function Ce(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!==e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return Ne(t)}(e);case"string":return e.length>Re?function(e){var t=qe[e];void 0===t&&(t=Be(e),Le===Me&&(Le=0,qe={}),Le++,qe[e]=t);return t}(e):Be(e);case"object":case"function":return null===e?1108378658:"function"===typeof e.hashCode?Ne(e.hashCode(e)):(e.valueOf!==Te&&"function"===typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(ze&&void 0!==(t=Pe.get(e)))return t;if(void 0!==(t=e[De]))return t;if(!je){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[De]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++Ie,1073741824&Ie&&(Ie=0);if(ze)Pe.set(e,t);else{if(void 0!==Fe&&!1===Fe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(je)Object.defineProperty(e,De,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[De]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[De]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"===typeof e.toString)return Be(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Be(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ne(t)}var Fe=Object.isExtensible,je=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Pe,ze="function"===typeof WeakMap;ze&&(Pe=new WeakMap);var Ie=0,De="__immutablehash__";"function"===typeof Symbol&&(De=Symbol(De));var Re=16,Me=255,Le=0,qe={},Ke=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=$e(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=He(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(fe);Ke.prototype[H]=!0;var Ue=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&x(this),this._iter.__iterate(function(o){return e(o,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(G,t),o=0;return t&&x(this),new te(function(){var i=r.next();return i.done?i:ne(e,t?n.size-++o:o++,i.value,i)})},t}(de),Je=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(G,t);return new te(function(){var t=n.next();return t.done?t:ne(e,t.value,t.value,t)})},t}(ve),Ve=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){ot(t);var r=F(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(G,t);return new te(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){ot(r);var o=F(r);return ne(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},t}(fe);function We(e){var t=at(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=st,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===X){var r=e.__iterator(t,n);return new te(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===G?Y:G,n)},t}function He(e,t,n){var r=at(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,_);return i===_?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(X,o);return new te(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return ne(r,s,t.call(n,a[1],s,e),o)})},r}function $e(e,t){var n=this,r=at(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=We(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=st,r.__iterate=function(n,r){var o=this,i=0;return r&&x(e),e.__iterate(function(e,a){return n(e,t?a:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&x(e);var a=e.__iterator(X,!o);return new te(function(){var e=a.next();if(e.done)return e;var s=e.value;return ne(r,t?s[0]:o?n.size-++i:i++,s[1],e)})},r}function Ye(e,t,n,r){var o=at(e);return r&&(o.has=function(r){var o=e.get(r,_);return o!==_&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,_);return i!==_&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(X,i),s=0;return new te(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return ne(o,r?c:s++,l,i)}})},o}function Ge(e,t,n,r){var o=e.size;if(E(t,n,o))return e;var i=S(t,o),a=N(n,o);if(i!==i||a!==a)return Ge(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=at(e);return c.size=0===s?s:e.size&&s||void 0,!r&&U(e)&&s>=0&&(c.get=function(t,n){return(t=O(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate(function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new te(re);var o=e.__iterator(t,n),a=0,u=0;return new te(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var e=o.next();return r||t===G||e.done?e:ne(t,u-1,t===Y?void 0:e.value[1],e)})},c}function Xe(e,t,n,r){var o=at(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(X,i),u=!0,c=0;return new te(function(){var e,i,l;do{if((e=s.next()).done)return r||o===G?e:ne(o,c++,o===Y?void 0:e.value[1],e);var f=e.value;i=f[0],l=f[1],u&&(u=t.call(n,l,i,a))}while(u);return o===X?e:ne(o,i,l,e)})},o}function Qe(e,t,n){var r=at(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(u,c){u.__iterate(function(i,u){return(!t||c<t)&&F(i)?e(i,c+1):(a++,!1===o(i,n?u:a-1,r)&&(s=!0)),!s},i)}(e,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(r,o),a=[],s=0;return new te(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===X&&(u=u[1]),t&&!(a.length<t)||!F(u))return n?e:ne(r,s++,u,e);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}})},r}function Ze(e,t,n){t||(t=ut);var r=P(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).valueSeq().toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?fe(i):I(e)?de(i):ve(i)}function et(e,t,n){if(t||(t=ut),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return tt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return tt(t,e,n)?n:e})}function tt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function nt(e,t,n,r){var o=at(e),i=new he(n).map(function(e){return e.size});return o.size=r?i.max():i.min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(G,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map(function(e){return e=R(e),ae(o?e.reverse():e)}),a=0,s=!1;return new te(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),s?{value:void 0,done:!0}:ne(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function rt(e,t){return e===t?e:U(e)?t:e.constructor(t)}function ot(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function it(e){return P(e)?M:I(e)?L:q}function at(e){return Object.create((P(e)?fe:I(e)?de:ve).prototype)}function st(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):le.prototype.cacheResult.call(this)}function ut(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function ct(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function lt(e,t){if(!e)throw new Error(t)}function ft(e){lt(e!==1/0,"Cannot perform this action with an infinite size.")}function dt(e){if(ce(e)&&"string"!==typeof e)return e;if($(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function vt(e){return e&&("function"!==typeof e.constructor||"Object"===e.constructor.name)}function ht(e){return"object"===typeof e&&(W(e)||Array.isArray(e)||vt(e))}function pt(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function yt(e,t){return W(e)?e.has(t):ht(e)&&ue.call(e,t)}function mt(e,t,n){return W(e)?e.get(t,n):yt(e,t)?"function"===typeof e.get?e.get(t):e[t]:n}function gt(e){if(Array.isArray(e))return ct(e);var t={};for(var n in e)ue.call(e,n)&&(t[n]=e[n]);return t}function kt(e,t){if(!ht(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(W(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!ue.call(e,t))return e;var n=gt(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function _t(e,t,n){if(!ht(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(W(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(ue.call(e,t)&&n===e[t])return e;var r=gt(e);return r[t]=n,r}function bt(e,t,n,r){r||(r=n,n=void 0);var o=function e(t,n,r,o,i,a){var s=n===_;if(o===r.length){var u=s?i:n,c=a(u);return c===u?n:c}if(!s&&!ht(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(pt)+"]: "+n);var l=r[o];var f=s?_:mt(n,l,_);var d=e(f===_?t:W(f),f,r,o+1,i,a);return d===f?n:d===_?kt(n,l):_t(s?t?en():{}:n,l,d)}(W(e),e,dt(t),0,n,r);return o===_?n:o}function wt(e,t,n){return bt(e,t,_,function(){return n})}function xt(e,t){return wt(this,e,t)}function Ot(e,t){return bt(e,t,function(){return _})}function At(e){return Ot(this,e)}function Et(e,t,n,r){return bt(e,[t],n,r)}function St(e,t,n){return 1===arguments.length?e(this):Et(this,e,t,n)}function Nt(e,t,n){return bt(this,e,t,n)}function Tt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Bt(this,e)}function Ct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!==typeof e)throw new TypeError("Invalid merger function: "+e);return Bt(this,t,e)}function Bt(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=M(t[o]);0!==i.size&&r.push(i)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){Et(e,r,_,function(e){return e===_?t:n(e,t,r)})}:function(t,n){e.set(n,t)},o=0;o<r.length;o++)r[o].forEach(t)}):e.constructor(r[0])}function Ft(e,t,n){return jt(e,t,function(e){return function t(n,r,o){return ht(n)&&ht(r)?jt(n,[r],t):e?e(n,r,o):r}}(n))}function jt(e,t,n){if(!ht(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(W(e))return"function"===typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?L:M,a=r?function(t){o===e&&(o=gt(o)),o.push(t)}:function(t,r){var i=ue.call(o,r),a=i&&n?n(o[r],t,r):t;i&&a===o[r]||(o===e&&(o=gt(o)),o[r]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function Pt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ft(this,e)}function zt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ft(this,t,e)}function It(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return bt(this,e,en(),function(e){return jt(e,t)})}function Dt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return bt(this,e,en(),function(e){return Ft(e,t)})}function Rt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Mt(){return this.__ownerID?this:this.__ensureOwner(new w)}function Lt(){return this.__ensureOwner()}function qt(){return this.__altered}Ue.prototype.cacheResult=Ke.prototype.cacheResult=Je.prototype.cacheResult=Ve.prototype.cacheResult=st;var Kt=function(e){function t(t){return null===t||void 0===t?en():xe(t)&&!$(t)?t:en().withMutations(function(n){var r=e(t);ft(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return en().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return tn(this,e,t)},t.prototype.remove=function(e){return tn(this,e,_)},t.prototype.deleteAll=function(e){var t=R(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):en()},t.prototype.sort=function(e){return Sn(Ze(this,e))},t.prototype.sortBy=function(e,t){return Sn(Ze(this,t,e))},t.prototype.map=function(e,t){return this.withMutations(function(n){n.forEach(function(r,o){n.set(o,e.call(t,r,o,n))})})},t.prototype.__iterator=function(e,t){return new Gt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Zt(this.size,this._root,e,this.__hash):0===this.size?en():(this.__ownerID=e,this.__altered=!1,this)},t}(M);Kt.isMap=xe;var Ut=Kt.prototype;Ut[we]=!0,Ut.delete=Ut.remove,Ut.removeAll=Ut.deleteAll,Ut.setIn=xt,Ut.removeIn=Ut.deleteIn=At,Ut.update=St,Ut.updateIn=Nt,Ut.merge=Ut.concat=Tt,Ut.mergeWith=Ct,Ut.mergeDeep=Pt,Ut.mergeDeepWith=zt,Ut.mergeIn=It,Ut.mergeDeepIn=Dt,Ut.withMutations=Rt,Ut.wasAltered=qt,Ut.asImmutable=Lt,Ut["@@transducer/init"]=Ut.asMutable=Mt,Ut["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Ut["@@transducer/result"]=function(e){return e.asImmutable()};var Jt=function(e,t){this.ownerID=e,this.entries=t};Jt.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Ee(n,o[i][0]))return o[i][1];return r},Jt.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===_,u=this.entries,c=0,l=u.length;c<l&&!Ee(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(b(a),(s||!f)&&b(i),!s||1!==u.length){if(!f&&!s&&u.length>=un)return function(e,t,n,r){e||(e=new w);for(var o=new $t(e,Ce(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,u,r,o);var d=e&&e===this.ownerID,v=d?u:ct(u);return f?s?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new Jt(e,v)}};var Vt=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Vt.prototype.get=function(e,t,n,r){void 0===t&&(t=Ce(n));var o=1<<((0===e?t:t>>>e)&k),i=this.bitmap;return 0===(i&o)?r:this.nodes[an(i&o-1)].get(e+m,t,n,r)},Vt.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=(0===t?n:n>>>t)&k,u=1<<s,c=this.bitmap,l=0!==(c&u);if(!l&&o===_)return this;var f=an(c&u-1),d=this.nodes,v=l?d[f]:void 0,h=nn(v,e,t+m,n,r,o,i,a);if(h===v)return this;if(!l&&h&&d.length>=cn)return function(e,t,n,r,o){for(var i=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Wt(e,i+1,a)}(e,d,c,s,h);if(l&&!h&&2===d.length&&rn(d[1^f]))return d[1^f];if(l&&h&&1===d.length&&rn(h))return h;var p=e&&e===this.ownerID,y=l?h?c:c^u:c|u,b=l?h?sn(d,f,h,p):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(d,f,p):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(d,f,h,p);return p?(this.bitmap=y,this.nodes=b,this):new Vt(e,y,b)};var Wt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Wt.prototype.get=function(e,t,n,r){void 0===t&&(t=Ce(n));var o=(0===e?t:t>>>e)&k,i=this.nodes[o];return i?i.get(e+m,t,n,r):r},Wt.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=(0===t?n:n>>>t)&k,u=o===_,c=this.nodes,l=c[s];if(u&&!l)return this;var f=nn(l,e,t+m,n,r,o,i,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<ln)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new Vt(e,o,a)}(e,c,d,s)}else d++;var v=e&&e===this.ownerID,h=sn(c,s,f,v);return v?(this.count=d,this.nodes=h,this):new Wt(e,d,h)};var Ht=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Ht.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Ee(n,o[i][0]))return o[i][1];return r},Ht.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ce(r));var s=o===_;if(n!==this.keyHash)return s?this:(b(a),b(i),on(this,e,t,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!Ee(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===o:s)return this;if(b(a),(s||!f)&&b(i),s&&2===l)return new $t(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,v=d?u:ct(u);return f?s?c===l-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new Ht(e,this.keyHash,v)};var $t=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};$t.prototype.get=function(e,t,n,r){return Ee(n,this.entry[0])?this.entry[1]:r},$t.prototype.update=function(e,t,n,r,o,i,a){var s=o===_,u=Ee(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(b(a),s?void b(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new $t(e,this.keyHash,[r,o]):(b(i),on(this,e,t,Ce(r),[r,o])))},Jt.prototype.iterate=Ht.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Vt.prototype.iterate=Wt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},$t.prototype.iterate=function(e,t){return e(this.entry)};var Yt,Gt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Qt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o=void 0;if(n.entry){if(0===r)return Xt(e,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Xt(e,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Xt(e,i.entry);t=this._stack=Qt(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(te);function Xt(e,t){return ne(e,t[0],t[1])}function Qt(e,t){return{node:e,index:0,__prev:t}}function Zt(e,t,n,r){var o=Object.create(Ut);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function en(){return Yt||(Yt=Zt(0))}function tn(e,t,n){var r,o;if(e._root){var i={value:!1},a={value:!1};if(r=nn(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===_?-1:1:0)}else{if(n===_)return e;o=1,r=new Jt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Zt(o,r):en()}function nn(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===_?e:(b(s),b(a),new $t(t,r,[o,i]))}function rn(e){return e.constructor===$t||e.constructor===Ht}function on(e,t,n,r,o){if(e.keyHash===r)return new Ht(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&k,s=(0===n?r:r>>>n)&k,u=a===s?[on(e,t,n+m,r,o)]:(i=new $t(t,r,o),a<s?[e,i]:[i,e]);return new Vt(t,1<<a|1<<s,u)}function an(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function sn(e,t,n,r){var o=r?e:ct(e);return o[t]=n,o}var un=g/4,cn=g/2,ln=g/4,fn="@@__IMMUTABLE_LIST__@@";function dn(e){return Boolean(e&&e[fn])}var vn=function(e){function t(t){var n=_n();if(null===t||void 0===t)return n;if(dn(t))return t;var r=e(t),o=r.size;return 0===o?n:(ft(o),o>0&&o<g?kn(0,o,m,null,new pn(r.toArray())):n.withMutations(function(e){e.setSize(o),r.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=O(this,e))>=0&&e<this.size){var n=xn(this,e+=this._origin);return n&&n.array[e&k]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=O(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?On(e,t).set(0,n):On(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i={value:!1};t>=An(e._capacity)?r=bn(r,e.__ownerID,0,t,n,i):o=bn(o,e.__ownerID,e._level,t,n,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return kn(e._origin,e._capacity,e._level,o,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=m,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):_n()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){On(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return On(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){On(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return On(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var o=t[r],i=e("string"!==typeof o&&oe(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return On(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){for(var o=0;o<n.size;o++)r.set(o,e.call(t,r.get(o),o,r))})},t.prototype.slice=function(e,t){var n=this.size;return E(e,t,n)?this:On(this,S(e,n),N(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=gn(this,t);return new te(function(){var o=r();return o===mn?{value:void 0,done:!0}:ne(e,t?--n:n++,o)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,o=gn(this,t);(n=o())!==mn&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?_n():(this.__ownerID=e,this.__altered=!1,this)},t}(L);vn.isList=dn;var hn=vn.prototype;hn[fn]=!0,hn.delete=hn.remove,hn.merge=hn.concat,hn.setIn=xt,hn.deleteIn=hn.removeIn=At,hn.update=St,hn.updateIn=Nt,hn.mergeIn=It,hn.mergeDeepIn=Dt,hn.withMutations=Rt,hn.wasAltered=qt,hn.asImmutable=Lt,hn["@@transducer/init"]=hn.asMutable=Mt,hn["@@transducer/step"]=function(e,t){return e.push(t)},hn["@@transducer/result"]=function(e){return e.asImmutable()};var pn=function(e,t){this.array=e,this.ownerID=t};pn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&k;if(r>=this.array.length)return new pn([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-m,n))===a&&i)return this}if(i&&!o)return this;var s=wn(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},pn.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&k;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-m,n))===i&&o===this.array.length-1)return this}var a=wn(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var yn,mn={};function gn(e,t){var n=e._origin,r=e._capacity,o=An(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>n?0:n-a,c=r-a;c>g&&(c=g);return function(){if(u===c)return mn;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,o,i){var s,u=e&&e.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);l>g&&(l=g);return function(){for(;;){if(s){var e=s();if(e!==mn)return e;s=null}if(c===l)return mn;var n=t?--l:c++;s=a(u&&u[n],o-m,i+(n<<o))}}}(e,s,u)}}function kn(e,t,n,r,o,i,a){var s=Object.create(hn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function _n(){return yn||(yn=kn(0,0,m))}function bn(e,t,n,r,o,i){var a,s=r>>>n&k,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(n>0){var c=e&&e.array[s],l=bn(c,t,n-m,r,o,i);return l===c?e:((a=wn(e,t)).array[s]=l,a)}return u&&e.array[s]===o?e:(i&&b(i),a=wn(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function wn(e,t){return t&&e&&t===e.ownerID?e:new pn(e?e.array.slice():[],t)}function xn(e,t){if(t>=An(e._capacity))return e._tail;if(t<1<<e._level+m){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&k],r-=m;return n}}function On(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new w,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new pn(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=m);l&&(a+=l,o+=l,s+=l,i+=l);for(var f=An(i),d=An(s);d>=1<<u+m;)c=new pn(c&&c.array.length?[c]:[],r),u+=m;var v=e._tail,h=d<f?xn(e,s-1):d>f?new pn([],r):v;if(v&&d>f&&a<i&&v.array.length){for(var p=c=wn(c,r),y=u;y>m;y-=m){var g=f>>>y&k;p=p.array[g]=wn(p.array[g],r)}p.array[f>>>m&k]=v}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=m,c=null,h=h&&h.removeBefore(r,0,a);else if(a>o||d<f){for(l=0;c;){var _=a>>>u&k;if(_!==d>>>u&k)break;_&&(l+=(1<<u)*_),u-=m,c=c.array[_]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&d<f&&(c=c.removeAfter(r,u,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):kn(a,s,u,c,h)}function An(e){return e<g?0:e-1>>>m<<m}var En,Sn=function(e){function t(e){return null===e||void 0===e?Tn():Oe(e)?e:Tn().withMutations(function(t){var n=M(e);ft(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Tn()},t.prototype.set=function(e,t){return Cn(this,e,t)},t.prototype.remove=function(e){return Cn(this,e,_)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Nn(t,n,e,this.__hash):0===this.size?Tn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(Kt);function Nn(e,t,n,r){var o=Object.create(Sn.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Tn(){return En||(En=Nn(en(),_n()))}function Cn(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===_){if(!u)return e;a.size>=g&&a.size>=2*i.size?(r=(o=a.filter(function(e,t){return void 0!==e&&s!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Nn(r,o)}Sn.isOrderedMap=Oe,Sn.prototype[H]=!0,Sn.prototype.delete=Sn.prototype.remove;var Bn="@@__IMMUTABLE_STACK__@@";function Fn(e){return Boolean(e&&e[Bn])}var jn=function(e){function t(e){return null===e||void 0===e?Dn():Fn(e)?e:Dn().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=O(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Fn(t))return t;ft(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):In(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Dn()},t.prototype.slice=function(t,n){if(E(t,n,this.size))return this;var r=S(t,this.size);if(N(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):In(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?In(this.size,this._head,e,this.__hash):0===this.size?Dn():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new he(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,o=this._head;o&&!1!==e(o.value,r++,this);)o=o.next;return r},t.prototype.__iterator=function(e,t){if(t)return new he(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new te(function(){if(r){var t=r.value;return r=r.next,ne(e,n++,t)}return{value:void 0,done:!0}})},t}(L);jn.isStack=Fn;var Pn,zn=jn.prototype;function In(e,t,n,r){var o=Object.create(zn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Dn(){return Pn||(Pn=In(0))}zn[Bn]=!0,zn.shift=zn.pop,zn.unshift=zn.push,zn.unshiftAll=zn.pushAll,zn.withMutations=Rt,zn.wasAltered=qt,zn.asImmutable=Lt,zn["@@transducer/init"]=zn.asMutable=Mt,zn["@@transducer/step"]=function(e,t){return e.unshift(t)},zn["@@transducer/result"]=function(e){return e.asImmutable()};var Rn="@@__IMMUTABLE_SET__@@";function Mn(e){return Boolean(e&&e[Rn])}function Ln(e){return Mn(e)&&$(e)}function qn(e,t){if(e===t)return!0;if(!F(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||P(e)!==P(t)||I(e)!==I(t)||$(e)!==$(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!D(e);if($(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&Ee(o[1],e)&&(n||Ee(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!Ee(t,e.get(r,_)):!Ee(e.get(r,_),t))return a=!1,!1});return a&&e.size===s}function Kn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Un(e){if(!e||"object"!==typeof e)return e;if(!F(e)){if(!ht(e))return e;e=le(e)}if(P(e)){var t={};return e.__iterate(function(e,n){t[n]=Un(e)}),t}var n=[];return e.__iterate(function(e){n.push(Un(e))}),n}var Jn=function(e){function t(t){return null===t||void 0===t?Yn():Mn(t)&&!$(t)?t:Yn().withMutations(function(n){var r=e(t);ft(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(M(e).keySeq())},t.intersect=function(e){return(e=R(e).toArray()).length?Wn.intersect.apply(t(e.pop()),e):Yn()},t.union=function(e){return(e=R(e).toArray()).length?Wn.union.apply(t(e.pop()),e):Yn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Hn(this,this._map.set(e,e))},t.prototype.remove=function(e){return Hn(this,this._map.remove(e))},t.prototype.clear=function(){return Hn(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],o=[];return this.forEach(function(i){var a=e.call(t,i,i,n);a!==i&&(r.push(i),o.push(a))}),this.withMutations(function(e){r.forEach(function(t){return e.remove(t)}),o.forEach(function(t){return e.add(t)})})},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return vr(Ze(this,e))},t.prototype.sortBy=function(e,t){return vr(Ze(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(q);Jn.isSet=Mn;var Vn,Wn=Jn.prototype;function Hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function $n(e,t){var n=Object.create(Wn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Yn(){return Vn||(Vn=$n(en()))}Wn[Rn]=!0,Wn.delete=Wn.remove,Wn.merge=Wn.concat=Wn.union,Wn.withMutations=Rt,Wn.asImmutable=Lt,Wn["@@transducer/init"]=Wn.asMutable=Mt,Wn["@@transducer/step"]=function(e,t){return e.add(t)},Wn["@@transducer/result"]=function(e){return e.asImmutable()},Wn.__empty=Yn,Wn.__make=$n;var Gn,Xn=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(lt(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Gn)return Gn;Gn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+O(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return E(e,n,this.size)?this:(e=S(e,this.size),(n=N(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==e(o,t?n-++i:i++,this);)o+=t?-r:r;return i},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;return new te(function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=t?-r:r,ne(e,t?n-++i:i++,a)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:qn(this,e)},t}(de);function Qn(e,t,n){for(var r=dt(t),o=0;o!==r.length;)if((e=mt(e,r[o++],_))===_)return n;return e}function Zn(e,t){return Qn(this,e,t)}function er(e,t){return Qn(e,t,_)!==_}function tr(){ft(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}R.isIterable=F,R.isKeyed=P,R.isIndexed=I,R.isAssociative=D,R.isOrdered=$,R.Iterator=te,Kn(R,{toArray:function(){ft(this.size);var e=new Array(this.size||0),t=P(this),n=0;return this.__iterate(function(r,o){e[n++]=t?[o,r]:r}),e},toIndexedSeq:function(){return new Ue(this)},toJS:function(){return Un(this)},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Kt(this.toKeyedSeq())},toObject:tr,toOrderedMap:function(){return Sn(this.toKeyedSeq())},toOrderedSet:function(){return vr(P(this)?this.valueSeq():this)},toSet:function(){return Jn(P(this)?this.valueSeq():this)},toSetSeq:function(){return new Je(this)},toSeq:function(){return I(this)?this.toIndexedSeq():P(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return jn(P(this)?this.valueSeq():this)},toList:function(){return vn(P(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return rt(this,function(e,t){var n=P(e),r=[e].concat(t).map(function(e){return F(e)?n&&(e=M(e)):e=n?ke(e):_e(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&P(o)||I(e)&&I(o))return o}var i=new he(r);return n?i=i.toKeyedSeq():I(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),i}(this,e))},includes:function(e){return this.some(function(t){return Ee(t,e)})},entries:function(){return this.__iterator(X)},every:function(e,t){ft(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return rt(this,Ye(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return ft(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ft(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(Y)},map:function(e,t){return rt(this,He(this,e,t))},reduce:function(e,t,n){return ir(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return ir(this,e,t,n,arguments.length<2,!0)},reverse:function(){return rt(this,$e(this,!0))},slice:function(e,t){return rt(this,Ge(this,e,t,!0))},some:function(e,t){return!this.every(ur(e),t)},sort:function(e){return rt(this,Ze(this,e))},values:function(){return this.__iterator(G)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return x(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Kt().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return qn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new he(e._cache);var t=e.toSeq().map(sr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(ur(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(A,null,e)},flatMap:function(e,t){return rt(this,function(e,t,n){var r=it(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return rt(this,Qe(this,e,!0))},fromEntrySeq:function(){return new Ve(this)},get:function(e,t){return this.find(function(t,n){return Ee(n,e)},void 0,t)},getIn:Zn,groupBy:function(e,t){return function(e,t,n){var r=P(e),o=($(e)?Sn():Kt()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=it(e);return o.map(function(t){return rt(e,i(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,_)!==_},hasIn:function(e){return er(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:R(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:R(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return Ee(t,e)})},keySeq:function(){return this.toSeq().map(ar).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return et(this,e)},maxBy:function(e,t){return et(this,t,e)},min:function(e){return et(this,e?cr(e):fr)},minBy:function(e,t){return et(this,t?cr(t):fr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return rt(this,Xe(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(ur(e),t)},sortBy:function(e,t){return rt(this,Ze(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return rt(this,function(e,t,n){var r=at(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(X,o),s=!0;return new te(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?r===X?e:ne(r,u,c,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(ur(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=$(e),n=P(e),r=t?1:0;return function(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ne((t=Se(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+dr(Ce(e),Ce(t))|0}:function(e,t){r=r+dr(Ce(e),Ce(t))|0}:t?function(e){r=31*r+Ce(e)|0}:function(e){r=r+Ce(e)|0}),r)}(this))}});var nr=R.prototype;nr[B]=!0,nr[ee]=nr.values,nr.toJSON=nr.toArray,nr.__toStringMapper=pt,nr.inspect=nr.toSource=function(){return this.toString()},nr.chain=nr.flatMap,nr.contains=nr.includes,Kn(M,{flip:function(){return rt(this,We(this))},mapEntries:function(e,t){var n=this,r=0;return rt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return rt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var rr=M.prototype;rr[j]=!0,rr[ee]=nr.entries,rr.toJSON=tr,rr.__toStringMapper=function(e,t){return pt(t)+": "+pt(e)},Kn(L,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(e,t){return rt(this,Ye(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return rt(this,$e(this,!1))},slice:function(e,t){return rt(this,Ge(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=S(e,e<0?this.count():this.size);var r=this.slice(0,e);return rt(this,1===n?r:r.concat(ct(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return rt(this,Qe(this,e,!1))},get:function(e,t){return(e=O(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=O(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return rt(this,function(e,t){var n=at(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(G,r),a=0;return new te(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?ne(n,a++,t):ne(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(ct(arguments)),t=nt(this.toSeq(),de.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),rt(this,n)},keySeq:function(){return Xn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return rt(this,Xe(this,e,t,!1))},zip:function(){return rt(this,nt(this,lr,[this].concat(ct(arguments))))},zipAll:function(){return rt(this,nt(this,lr,[this].concat(ct(arguments)),!0))},zipWith:function(e){var t=ct(arguments);return t[0]=this,rt(this,nt(this,e,t))}});var or=L.prototype;function ir(e,t,n,r,o,i){return ft(e.size),e.__iterate(function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)},i),n}function ar(e,t){return t}function sr(e,t){return[t,e]}function ur(e){return function(){return!e.apply(this,arguments)}}function cr(e){return function(){return-e.apply(this,arguments)}}function lr(){return ct(arguments)}function fr(e,t){return e<t?1:e>t?-1:0}function dr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}or[z]=!0,or[H]=!0,Kn(q,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),q.prototype.has=nr.includes,q.prototype.contains=q.prototype.includes,Kn(fe,M.prototype),Kn(de,L.prototype),Kn(ve,q.prototype);var vr=function(e){function t(e){return null===e||void 0===e?mr():Ln(e)?e:mr().withMutations(function(t){var n=q(e);ft(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(M(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Jn);vr.isOrderedSet=Ln;var hr,pr=vr.prototype;function yr(e,t){var n=Object.create(pr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function mr(){return hr||(hr=yr(Tn()))}pr[H]=!0,pr.zip=or.zip,pr.zipWith=or.zipWith,pr.__empty=mr,pr.__make=yr;var gr=function(e,t){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(e),u=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var c=0;c<s.length;c++){var l=s[c];u[l]=c,o[l]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+wr(this)+' with property "'+l+'" since that property name is part of the Record API.'):Or(o,l)}}this.__ownerID=void 0,this._values=vn().withMutations(function(e){e.setSize(a._keys.length),M(i).forEach(function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)})})},o=r.prototype=Object.create(_r);return o.constructor=r,t&&(r.displayName=t),r};gr.prototype.toString=function(){for(var e,t=wr(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)t+=(r?", ":"")+(e=n[r])+": "+pt(this.get(e));return t+" }"},gr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&xr(this).equals(xr(e))},gr.prototype.hashCode=function(){return xr(this).hashCode()},gr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},gr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},gr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return br(this,n)}return this},gr.prototype.remove=function(e){return this.set(e)},gr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:br(this,e)},gr.prototype.wasAltered=function(){return this._values.wasAltered()},gr.prototype.toSeq=function(){return xr(this)},gr.prototype.toJS=function(){return Un(this)},gr.prototype.entries=function(){return this.__iterator(X)},gr.prototype.__iterator=function(e,t){return xr(this).__iterator(e,t)},gr.prototype.__iterate=function(e,t){return xr(this).__iterate(e,t)},gr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?br(this,t,e):(this.__ownerID=e,this._values=t,this)},gr.isRecord=V,gr.getDescriptiveName=wr;var kr,_r=gr.prototype;function br(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function wr(e){return e.constructor.displayName||e.constructor.name||"Record"}function xr(e){return ke(e._keys.map(function(t){return[t,e.get(t)]}))}function Or(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){lt(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(n){}}function Ar(e,t){return P(t)?t.toMap():t.toList()}_r[J]=!0,_r.delete=_r.remove,_r.deleteIn=_r.removeIn=At,_r.getIn=Zn,_r.hasIn=nr.hasIn,_r.merge=Tt,_r.mergeWith=Ct,_r.mergeIn=It,_r.mergeDeep=Pt,_r.mergeDeepWith=zt,_r.mergeDeepIn=Dt,_r.setIn=xt,_r.update=St,_r.updateIn=Nt,_r.withMutations=Rt,_r.asMutable=Mt,_r.asImmutable=Lt,_r[ee]=_r.entries,_r.toJSON=_r.toObject=nr.toObject,_r.inspect=_r.toSource=function(){return this.toString()};var Er={version:"4.0.0-rc.11",Collection:R,Iterable:R,Seq:le,Map:Kt,OrderedMap:Sn,List:vn,Stack:jn,Set:Jn,OrderedSet:vr,Record:gr,Range:Xn,Repeat:function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(kr)return kr;kr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return Ee(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return E(e,n,r)?this:new t(this._value,N(n,r)-S(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return Ee(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return Ee(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,o=0;return new te(function(){return o===r?{value:void 0,done:!0}:ne(e,t?r-++o:o++,n._value)})},t.prototype.equals=function(e){return e instanceof t?Ee(this._value,e._value):qn(e)},t}(de),is:Ee,fromJS:function(e,t){return function e(t,n,r,o,i,a){var s=Array.isArray(r)?de:vt(r)?fe:null;if(s){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&""!==o&&i.push(o);var u=n.call(a,o,s(r).map(function(o,a){return e(t,n,o,a,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),u}return r}([],t||Ar,e,"",t&&t.length>2?[]:void 0,{"":e})},hash:Ce,isImmutable:W,isCollection:F,isKeyed:P,isIndexed:I,isAssociative:D,isOrdered:$,isValueObject:Ae,isSeq:U,isList:dn,isMap:xe,isOrderedMap:Oe,isStack:Fn,isSet:Mn,isOrderedSet:Ln,isRecord:V,get:mt,getIn:Qn,has:yt,hasIn:er,merge:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return jt(e,t)},mergeDeep:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ft(e,t)},mergeWith:function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return jt(t,n,e)},mergeDeepWith:function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ft(t,n,e)},remove:kt,removeIn:Ot,set:_t,setIn:wt,update:Et,updateIn:bt},Sr=function(e,t){0},Nr=!0,Tr="Invariant failed";function Cr(e,t){if(!e)throw Nr?new Error(Tr):new Error(Tr+": "+(t||""))}var Br="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function Fr(e,t){return e(t={exports:{}},t.exports),t.exports}var jr=1e3,Pr=60*jr,zr=60*Pr,Ir=24*zr,Dr=7*Ir,Rr=365.25*Ir,Mr=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Rr;case"weeks":case"week":case"w":return n*Dr;case"days":case"day":case"d":return n*Ir;case"hours":case"hour":case"hrs":case"hr":case"h":return n*zr;case"minutes":case"minute":case"mins":case"min":case"m":return n*Pr;case"seconds":case"second":case"secs":case"sec":case"s":return n*jr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=Ir)return Lr(e,t,Ir,"day");if(t>=zr)return Lr(e,t,zr,"hour");if(t>=Pr)return Lr(e,t,Pr,"minute");if(t>=jr)return Lr(e,t,jr,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Ir)return Math.round(e/Ir)+"d";if(t>=zr)return Math.round(e/zr)+"h";if(t>=Pr)return Math.round(e/Pr)+"m";if(t>=jr)return Math.round(e/jr)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Lr(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var qr=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var i;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a,s=Number(new Date),u=s-(i||s);o.diff=u,o.prev=i,o.curr=s,i=s,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"===typeof i){var a=t[c];e=i.call(o,a),t.splice(c,1),c--}return e}),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"===typeof n.init&&n.init(a),n.instances.push(a),a}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+("undefined"===typeof t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=Mr,Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},Kr=Fr(function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/react-richeditor-skeleton"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=qr(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),Ur=(Kr.log,Kr.formatArgs,Kr.save,Kr.load,Kr.useColors,Kr.storage,Kr.colors,Array.isArray),Jr="object"==typeof Br&&Br&&Br.Object===Object&&Br,Vr="object"==typeof self&&self&&self.Object===Object&&self,Wr=Jr||Vr||Function("return this")(),Hr=Wr.Symbol,$r=Object.prototype,Yr=$r.hasOwnProperty,Gr=$r.toString,Xr=Hr?Hr.toStringTag:void 0;var Qr=function(e){var t=Yr.call(e,Xr),n=e[Xr];try{e[Xr]=void 0}catch(o){}var r=Gr.call(e);return t?e[Xr]=n:delete e[Xr],r},Zr=Object.prototype.toString;var eo=function(e){return Zr.call(e)},to="[object Null]",no="[object Undefined]",ro=Hr?Hr.toStringTag:void 0;var oo=function(e){return null==e?void 0===e?no:to:ro&&ro in Object(e)?Qr(e):eo(e)};var io=function(e){return null!=e&&"object"==typeof e},ao="[object Symbol]";var so=function(e){return"symbol"==typeof e||io(e)&&oo(e)==ao},uo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,co=/^\w*$/;var lo=function(e,t){if(Ur(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!so(e))||co.test(e)||!uo.test(e)||null!=t&&e in Object(t)};var fo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},vo="[object AsyncFunction]",ho="[object Function]",po="[object GeneratorFunction]",yo="[object Proxy]";var mo=function(e){if(!fo(e))return!1;var t=oo(e);return t==ho||t==po||t==vo||t==yo},go=Wr["__core-js_shared__"],ko=function(){var e=/[^.]+$/.exec(go&&go.keys&&go.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var _o=function(e){return!!ko&&ko in e},bo=Function.prototype.toString;var wo=function(e){if(null!=e){try{return bo.call(e)}catch(t){}try{return e+""}catch(t){}}return""},xo=/^\[object .+?Constructor\]$/,Oo=Function.prototype,Ao=Object.prototype,Eo=Oo.toString,So=Ao.hasOwnProperty,No=RegExp("^"+Eo.call(So).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var To=function(e){return!(!fo(e)||_o(e))&&(mo(e)?No:xo).test(wo(e))};var Co=function(e,t){return null==e?void 0:e[t]};var Bo=function(e,t){var n=Co(e,t);return To(n)?n:void 0},Fo=Bo(Object,"create");var jo=function(){this.__data__=Fo?Fo(null):{},this.size=0};var Po=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zo="__lodash_hash_undefined__",Io=Object.prototype.hasOwnProperty;var Do=function(e){var t=this.__data__;if(Fo){var n=t[e];return n===zo?void 0:n}return Io.call(t,e)?t[e]:void 0},Ro=Object.prototype.hasOwnProperty;var Mo=function(e){var t=this.__data__;return Fo?void 0!==t[e]:Ro.call(t,e)},Lo="__lodash_hash_undefined__";var qo=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fo&&void 0===t?Lo:t,this};function Ko(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ko.prototype.clear=jo,Ko.prototype.delete=Po,Ko.prototype.get=Do,Ko.prototype.has=Mo,Ko.prototype.set=qo;var Uo=Ko;var Jo=function(){this.__data__=[],this.size=0};var Vo=function(e,t){return e===t||e!==e&&t!==t};var Wo=function(e,t){for(var n=e.length;n--;)if(Vo(e[n][0],t))return n;return-1},Ho=Array.prototype.splice;var $o=function(e){var t=this.__data__,n=Wo(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ho.call(t,n,1),--this.size,!0)};var Yo=function(e){var t=this.__data__,n=Wo(t,e);return n<0?void 0:t[n][1]};var Go=function(e){return Wo(this.__data__,e)>-1};var Xo=function(e,t){var n=this.__data__,r=Wo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Qo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qo.prototype.clear=Jo,Qo.prototype.delete=$o,Qo.prototype.get=Yo,Qo.prototype.has=Go,Qo.prototype.set=Xo;var Zo=Qo,ei=Bo(Wr,"Map");var ti=function(){this.size=0,this.__data__={hash:new Uo,map:new(ei||Zo),string:new Uo}};var ni=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ri=function(e,t){var n=e.__data__;return ni(t)?n["string"==typeof t?"string":"hash"]:n.map};var oi=function(e){var t=ri(this,e).delete(e);return this.size-=t?1:0,t};var ii=function(e){return ri(this,e).get(e)};var ai=function(e){return ri(this,e).has(e)};var si=function(e,t){var n=ri(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ui(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ui.prototype.clear=ti,ui.prototype.delete=oi,ui.prototype.get=ii,ui.prototype.has=ai,ui.prototype.set=si;var ci=ui,li="Expected a function";function fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(li);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(fi.Cache||ci),n}fi.Cache=ci;var di=fi,vi=500;var hi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pi=/\\(\\)?/g,yi=function(e){var t=di(e,function(e){return n.size===vi&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(hi,function(e,n,r,o){t.push(r?o.replace(pi,"$1"):n||e)}),t});var mi=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},gi=1/0,ki=Hr?Hr.prototype:void 0,_i=ki?ki.toString:void 0;var bi=function e(t){if("string"==typeof t)return t;if(Ur(t))return mi(t,e)+"";if(so(t))return _i?_i.call(t):"";var n=t+"";return"0"==n&&1/t==-gi?"-0":n};var wi=function(e){return null==e?"":bi(e)};var xi=function(e,t){return Ur(e)?e:lo(e,t)?[e]:yi(wi(e))},Oi=1/0;var Ai=function(e){if("string"==typeof e||so(e))return e;var t=e+"";return"0"==t&&1/e==-Oi?"-0":t};var Ei=function(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Ai(t[n++])];return n&&n==r?e:void 0},Si=function(){try{var e=Bo(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Ni=function(e,t,n){"__proto__"==t&&Si?Si(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ti=Object.prototype.hasOwnProperty;var Ci=function(e,t,n){var r=e[t];Ti.call(e,t)&&Vo(r,n)&&(void 0!==n||t in e)||Ni(e,t,n)},Bi=9007199254740991,Fi=/^(?:0|[1-9]\d*)$/;var ji=function(e,t){var n=typeof e;return!!(t=null==t?Bi:t)&&("number"==n||"symbol"!=n&&Fi.test(e))&&e>-1&&e%1==0&&e<t};var Pi=function(e,t,n,r){if(!fo(e))return e;for(var o=-1,i=(t=xi(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=Ai(t[o]),c=n;if(o!=a){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=fo(l)?l:ji(t[o+1])?[]:{})}Ci(s,u,c),s=s[u]}return e};var zi=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Ei(e,a);n(s,a)&&Pi(i,xi(a,e),s)}return i};var Ii=function(e,t){return null!=e&&t in Object(e)},Di="[object Arguments]";var Ri=function(e){return io(e)&&oo(e)==Di},Mi=Object.prototype,Li=Mi.hasOwnProperty,qi=Mi.propertyIsEnumerable,Ki=Ri(function(){return arguments}())?Ri:function(e){return io(e)&&Li.call(e,"callee")&&!qi.call(e,"callee")},Ui=9007199254740991;var Ji=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ui};var Vi=function(e,t,n){for(var r=-1,o=(t=xi(t,e)).length,i=!1;++r<o;){var a=Ai(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ji(o)&&ji(a,o)&&(Ur(e)||Ki(e))};var Wi=function(e,t){return null!=e&&Vi(e,t,Ii)};var Hi=function(e,t){return zi(e,t,function(t,n){return Wi(e,n)})};var $i=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Yi=Hr?Hr.isConcatSpreadable:void 0;var Gi=function(e){return Ur(e)||Ki(e)||!!(Yi&&e&&e[Yi])};var Xi=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Gi),i||(i=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):$i(i,u):o||(i[i.length]=u)}return i};var Qi=function(e){return null!=e&&e.length?Xi(e,1):[]};var Zi=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ea=Math.max;var ta=function(e,t,n){return t=ea(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ea(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Zi(e,this,s)}};var na=function(e){return function(){return e}};var ra=Si?function(e,t){return Si(e,"toString",{configurable:!0,enumerable:!1,value:na(t),writable:!0})}:function(e){return e},oa=800,ia=16,aa=Date.now;var sa=function(e){var t=0,n=0;return function(){var r=aa(),o=ia-(r-n);if(n=r,o>0){if(++t>=oa)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ra);var ua=function(e){return sa(ta(e,void 0,Qi),e+"")},ca=ua(function(e,t){return null==e?{}:Hi(e,t)}),la=Fr(function(e,t){!function(n){var r=t,o=e&&e.exports==r&&e,i="object"==typeof Br&&Br;i.global!==i&&i.window!==i||(n=i);var a=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u={version:"0.2.0",reverse:function e(t){for(var n="",r=(t=t.replace(a,function(t,n,r){return e(r)+n}).replace(s,"$2$1")).length;r--;)n+=t.charAt(r);return n}};if(r&&!r.nodeType)if(o)o.exports=u;else for(var c in u)u.hasOwnProperty(c)&&(r[c]=u[c]);else n.esrever=u}(Br)}).reverse;var fa=function(){this.__data__=new Zo,this.size=0};var da=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var va=function(e){return this.__data__.get(e)};var ha=function(e){return this.__data__.has(e)},pa=200;var ya=function(e,t){var n=this.__data__;if(n instanceof Zo){var r=n.__data__;if(!ei||r.length<pa-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ci(r)}return n.set(e,t),this.size=n.size,this};function ma(e){var t=this.__data__=new Zo(e);this.size=t.size}ma.prototype.clear=fa,ma.prototype.delete=da,ma.prototype.get=va,ma.prototype.has=ha,ma.prototype.set=ya;var ga=ma;var ka=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var _a=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?Ni(n,s,u):Ci(n,s,u)}return n};var ba=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var wa=function(){return!1},xa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Wr.Buffer:void 0,i=(o?o.isBuffer:void 0)||wa;e.exports=i}),Oa={};Oa["[object Float32Array]"]=Oa["[object Float64Array]"]=Oa["[object Int8Array]"]=Oa["[object Int16Array]"]=Oa["[object Int32Array]"]=Oa["[object Uint8Array]"]=Oa["[object Uint8ClampedArray]"]=Oa["[object Uint16Array]"]=Oa["[object Uint32Array]"]=!0,Oa["[object Arguments]"]=Oa["[object Array]"]=Oa["[object ArrayBuffer]"]=Oa["[object Boolean]"]=Oa["[object DataView]"]=Oa["[object Date]"]=Oa["[object Error]"]=Oa["[object Function]"]=Oa["[object Map]"]=Oa["[object Number]"]=Oa["[object Object]"]=Oa["[object RegExp]"]=Oa["[object Set]"]=Oa["[object String]"]=Oa["[object WeakMap]"]=!1;var Aa=function(e){return io(e)&&Ji(e.length)&&!!Oa[oo(e)]};var Ea=function(e){return function(t){return e(t)}},Sa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&Jr.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i}),Na=Sa&&Sa.isTypedArray,Ta=Na?Ea(Na):Aa,Ca=Object.prototype.hasOwnProperty;var Ba=function(e,t){var n=Ur(e),r=!n&&Ki(e),o=!n&&!r&&xa(e),i=!n&&!r&&!o&&Ta(e),a=n||r||o||i,s=a?ba(e.length,String):[],u=s.length;for(var c in e)!t&&!Ca.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ji(c,u))||s.push(c);return s},Fa=Object.prototype;var ja=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fa)};var Pa=function(e,t){return function(n){return e(t(n))}},za=Pa(Object.keys,Object),Ia=Object.prototype.hasOwnProperty;var Da=function(e){if(!ja(e))return za(e);var t=[];for(var n in Object(e))Ia.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ra=function(e){return null!=e&&Ji(e.length)&&!mo(e)};var Ma=function(e){return Ra(e)?Ba(e):Da(e)};var La=function(e,t){return e&&_a(t,Ma(t),e)};var qa=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Ka=Object.prototype.hasOwnProperty;var Ua=function(e){if(!fo(e))return qa(e);var t=ja(e),n=[];for(var r in e)("constructor"!=r||!t&&Ka.call(e,r))&&n.push(r);return n};var Ja=function(e){return Ra(e)?Ba(e,!0):Ua(e)};var Va=function(e,t){return e&&_a(t,Ja(t),e)},Wa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Wr.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}});var Ha=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var $a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Ya=function(){return[]},Ga=Object.prototype.propertyIsEnumerable,Xa=Object.getOwnPropertySymbols,Qa=Xa?function(e){return null==e?[]:(e=Object(e),$a(Xa(e),function(t){return Ga.call(e,t)}))}:Ya;var Za=function(e,t){return _a(e,Qa(e),t)},es=Pa(Object.getPrototypeOf,Object),ts=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$i(t,Qa(e)),e=es(e);return t}:Ya;var ns=function(e,t){return _a(e,ts(e),t)};var rs=function(e,t,n){var r=t(e);return Ur(e)?r:$i(r,n(e))};var os=function(e){return rs(e,Ma,Qa)};var is=function(e){return rs(e,Ja,ts)},as=Bo(Wr,"DataView"),ss=Bo(Wr,"Promise"),us=Bo(Wr,"Set"),cs=Bo(Wr,"WeakMap"),ls=wo(as),fs=wo(ei),ds=wo(ss),vs=wo(us),hs=wo(cs),ps=oo;(as&&"[object DataView]"!=ps(new as(new ArrayBuffer(1)))||ei&&"[object Map]"!=ps(new ei)||ss&&"[object Promise]"!=ps(ss.resolve())||us&&"[object Set]"!=ps(new us)||cs&&"[object WeakMap]"!=ps(new cs))&&(ps=function(e){var t=oo(e),n="[object Object]"==t?e.constructor:void 0,r=n?wo(n):"";if(r)switch(r){case ls:return"[object DataView]";case fs:return"[object Map]";case ds:return"[object Promise]";case vs:return"[object Set]";case hs:return"[object WeakMap]"}return t});var ys=ps,ms=Object.prototype.hasOwnProperty;var gs=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ms.call(e,"index")&&(n.index=e.index,n.input=e.input),n};Wr.Uint8Array;var ks=Hr?Hr.prototype:void 0;ks&&ks.valueOf;var _s=Object.create,bs=function(){function e(){}return function(t){if(!fo(t))return{};if(_s)return _s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var ws=function(e){return"function"!=typeof e.constructor||ja(e)?{}:bs(es(e))},xs="[object Map]";var Os=function(e){return io(e)&&ys(e)==xs},As=Sa&&Sa.isMap,Es=As?Ea(As):Os,Ss="[object Set]";var Ns=function(e){return io(e)&&ys(e)==Ss},Ts=Sa&&Sa.isSet,Cs=Ts?Ea(Ts):Ns,Bs=1,Fs=2,js=4,Ps="[object Arguments]",zs="[object Function]",Is="[object GeneratorFunction]",Ds="[object Object]";var Rs=function e(t,n,r,o,i,a){var s,u=n&Bs,c=n&Fs,l=n&js;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!fo(t))return t;var f=Ur(t);if(f){if(s=gs(t),!u)return Ha(t,s)}else{var d=ys(t),v=d==zs||d==Is;if(xa(t))return Wa(t,u);if(d!=Ds&&d!=Ps&&(!v||i))return i?t:{};if(s=c||v?{}:ws(t),!u)return c?ns(t,Va(s,t)):Za(t,La(s,t))}a||(a=new ga);var h=a.get(t);if(h)return h;if(a.set(t,s),Cs(t))return t.forEach(function(o){s.add(e(o,n,r,o,t,a))}),s;if(Es(t))return t.forEach(function(o,i){s.set(i,e(o,n,r,i,t,a))}),s;var p=l?c?is:os:c?keysIn:Ma,y=f?void 0:p(t);return ka(y||t,function(o,i){y&&(o=t[i=o]),Ci(s,i,e(o,n,r,i,t,a))}),s};var Ms=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Ls=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var qs=function(e,t){return t.length<2?e:Ei(e,Ls(t,0,-1))};var Ks=function(e,t){return t=xi(t,e),null==(e=qs(e,t))||delete e[Ai(Ms(t))]},Us="[object Object]",Js=Function.prototype,Vs=Object.prototype,Ws=Js.toString,Hs=Vs.hasOwnProperty,$s=Ws.call(Object);var Ys=function(e){if(!io(e)||oo(e)!=Us)return!1;var t=es(e);if(null===t)return!0;var n=Hs.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ws.call(n)==$s};var Gs,Xs,Qs=function(e){return Ys(e)?void 0:e},Zs=ua(function(e,t){var n={};if(null==e)return n;var r=!1;t=mi(t,function(t){return t=xi(t,e),r||(r=t.length>1),t}),_a(e,is(e),n),r&&(n=Rs(n,7,Qs));for(var o=t.length;o--;)Ks(n,t[o]);return n});Gs=new RegExp("^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),Xs=new RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]");var eu=function(e){return e=e.toString(),Xs.test(e)?"rtl":Gs.test(e)?"ltr":"neutral"},tu=void 0,nu=void 0;function ru(){tu=0,nu=function(){return""+tu++}}ru();var ou={create:function(e){if(null==e)return nu();if("string"===typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){nu=e},resetGenerator:ru},iu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},su=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),uu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cu=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},lu=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},fu=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},du=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),vu=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},hu=function(){function e(){au(this,e)}return su(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Kt.isMap(t))return t;if(y(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new Kt(e)}}]),e}();hu.fromJS=hu.fromJSON;var pu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(e))return e;if((vn.isList(e)||Array.isArray(e))&&(e={nodes:e}),y(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ou.create():o,a=e.nodes,s=void 0===a?[]:a;return new t({key:i,data:new Kt(r),nodes:Nu.createList(s)})}}]),t}(gr({data:void 0,key:void 0,nodes:void 0})),yu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),y(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ou.create():o,a=e.nodes,s=void 0===a?[]:a,u=e.type;if("string"!=typeof u)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:i,type:u,data:new Kt(r),nodes:Nu.createList(s)})}},{key:"isInlineList",value:function(e){return vn.isList(e)&&e.every(function(e){return t.isInline(e)})}}]),t}(gr({data:void 0,key:void 0,nodes:void 0,type:void 0})),mu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),y(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(Jn.isSet(e)||Array.isArray(e))return new Jn(e.map(t.create));if(null==e)return Jn();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(y(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=hu.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:o,data:new Kt(r)})}},{key:"isMarkSet",value:function(e){return Jn.isSet(e)&&e.every(function(e){return t.isMark(e)})}}]),t}(gr({data:void 0,type:void 0})),gu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations(function(n){n.remove(e).add(t)});return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),y(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=vn().withMutations(function(n){e.findLast(function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)})});return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[vn(),e];if(0===e.size)return[vn(),vn()];var n=0,r=-1,o=void 0,i=void 0;return e.find(function(e){r++;var a=n,s=e.text;if((n+=s.length)<t)return!1;if(a>t)return!1;var u=t-a;return o=e.set("text",s.slice(0,u)),i=e.set("text",s.slice(u)),!0}),o?""===o.text?0===r?[vn.of(o),e]:[e.take(r),e.skip(r)]:""===i.text?r===e.size-1?[e,vn.of(i)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(i)]:[e,vn()]}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,r=void 0===n?"":n,o=e.marks;return new t({text:r,marks:Jn((void 0===o?[]:o).map(mu.fromJSON))})}},{key:"isLeafList",value:function(e){return vn.isList(e)&&e.every(function(e){return t.isLeaf(e)})}}]),t}(gr({marks:void 0,text:void 0})),ku=!0,_u=Symbol("LEAF"),bu=Symbol("STORE_KEY"),wu=Symbol("undefined"),xu=Symbol("null"),Ou=void 0,Au=new WeakMap;function Eu(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!ku)return n.apply(this,r);Au.has(this)||Au.set(this,{noArgs:{},hasArgs:{}});var i=Au.get(this),a=i.noArgs,s=i.hasArgs,u=0!==r.length,c=void 0,l=void 0;if((c=u?function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===s?s=wu:null===s&&(s=xu),(e="object"===("undefined"===typeof s?"undefined":iu(s))?e[bu]&&e[bu].get(s):e[s])===Ou)return Ou}}catch(u){r=!0,o=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e[_u]}(s,l=[t].concat(r)):a[t])!==Ou)return c===wu?void 0:c;var f=n.apply(this,r),d=void 0===f?wu:f;return u?function(e,t,n){var r=e,o=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(void 0===c?c=wu:null===c&&(c=xu),"object"===("undefined"===typeof c?"undefined":iu(c)))if(r[bu]||(r[bu]=new WeakMap),r[bu].has(c))r=r[bu].get(c);else{var l={};r[bu].set(c,l),r=l}else r[c]||(r[c]={}),r=r[c]}}catch(f){i=!0,a=f}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}r[_u]=n}(s,l,d):a[t]=d,f}},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}var Su=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"searchLeafAtOffset",value:function(e){var t=0,n=0,r=-1;return{leaf:this.leaves.find(function(o){return r++,(t=(n=t)+o.text.length)>=e}),endOffset:t,index:r,startOffset:n}}},{key:"addMark",value:function(e,t,n){var r=Jn.of(n);return this.addMarks(e,t,r)}},{key:"addMarks",value:function(e,t,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this.set("leaves",vn.of(gu.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",vn.of(o))}if(""===this.text)return this;if(0===t)return this;if(e>=this.text.length)return this;var i=gu.splitLeaves(this.leaves,e),a=du(i,2),s=a[0],u=a[1],c=gu.splitLeaves(u,t),l=du(c,2),f=l[0],d=l[1],v=s.concat(f.map(function(e){return e.addMarks(n)}),d);return this.setLeaves(v)}},{key:"getLeaves",value:function(e){var t=this.leaves;if(!e||0===e.size)return t;if(0===t.size){var n=e.map(function(e){return e.mark}),r=gu.create({marks:n});return vn([r])}if(0===this.text.length){var o=e.map(function(e){return e.mark}),i=gu.create({marks:o});return vn([i])}var a=this.key,s=this.text;return e.forEach(function(e){var n=e.start,r=e.end,o=e.mark,i=n.key==a,u=r.key==a;if(i&&u){var c=i?n.offset:0,l=u?r.offset-c:s.length-c;if(l<1)return;if(c>=s.length)return;if(0!==c||l<s.length){var f=gu.splitLeaves(t,c),d=du(f,2),v=d[0],h=d[1],p=gu.splitLeaves(h,l),y=du(p,2),m=y[0],g=y[1];return void(t=v.concat(m.map(function(e){return e.addMark(o)}),g))}}t=t.map(function(e){return e.addMark(o)})}),t===this.leaves?t:gu.createLeaves(t)}},{key:"getActiveMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getActiveMarks();if(e>=t)return Jn();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=e)){if(i>=t)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}}),n||Jn()}},{key:"getActiveMarks",value:function(){var e=this;if(0===this.leaves.size)return Jn();var t=this.leaves.first().marks;return 0===t.size?t:t.toOrderedSet().withMutations(function(t){e.leaves.forEach(function(e){if(t.intersect(e.marks),0===t.size)return!1})})}},{key:"getMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getMarks();if(e>=t)return Jn();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=e))return!(i>=t)&&void(n=n?n.union(o.marks):o.marks)}),n||Jn()}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return new vr(e)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var e=this.leaves.first().marks;if(1===this.leaves.size)return e.toArray();var t=[];return this.leaves.forEach(function(e){t.push(e.marks.toArray())}),Array.prototype.concat.apply(e.toArray(),t)}},{key:"getMarksAtIndex",value:function(e){var t=this.searchLeafAtOffset(e).leaf;return t?t.marks:Jn()}},{key:"insertText",value:function(e,t,n){if(""===this.text)return this.set("leaves",vn.of(gu.create({text:t,marks:n})));if(0===t.length)return this;n||(n=Jn());var r=this.searchLeafAtOffset(e),o=r.startOffset,i=r.leaf,a=r.index,s=e-o,u=i.text.slice(0,s),c=i.text.slice(s),l=this.leaves;if(i.marks.equals(n))return this.set("leaves",l.set(a,i.set("text",u+t+c)));var f=l.splice(a,1,i.set("text",u),gu.create({text:t,marks:n}),i.set("text",c));return this.setLeaves(f)}},{key:"removeMark",value:function(e,t,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",vn.of(o))}if(t<=0)return this;if(e>=this.text.length)return this;var i=gu.splitLeaves(this.leaves,e),a=du(i,2),s=a[0],u=a[1],c=gu.splitLeaves(u,t),l=du(c,2),f=l[0],d=l[1],v=s.concat(f.map(function(e){return e.removeMark(n)}),d);return this.setLeaves(v)}},{key:"removeText",value:function(e,t){if(t<=0)return this;if(e>=this.text.length)return this;if(1===t){var n=this.searchLeafAtOffset(e+1),r=n.leaf,o=n.index,i=e-n.startOffset;if(r){if(1===r.text.length){var a=this.leaves.remove(o);return this.setLeaves(a)}var s=r.text.slice(0,i)+r.text.slice(i+t);if(s.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",s)))}}var u=gu.splitLeaves(this.leaves,e),c=du(u,2),l=c[0],f=c[1],d=gu.splitLeaves(f,t)[1],v=gu.createLeaves(l.concat(d));if(1===v.size){var h=v.first();if(""===h.text)return this.set("leaves",vn.of(h.set("marks",this.getActiveMarks())))}return this.set("leaves",v)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,leaves:this.getLeaves().toArray().map(function(e){return e.toJSON()})};return e.preserveKeys&&(t.key=this.key),t}},{key:"updateMark",value:function(e,t,n,r){var o=n.merge(r);if(""===this.text&&0===t&&0===e){var i=this.leaves.first();if(!i)return this;var a=i.updateMark(n,o);return a===i?this:this.set("leaves",vn.of(a))}if(t<=0)return this;if(e>=this.text.length)return this;var s=gu.splitLeaves(this.leaves,e),u=du(s,2),c=u[0],l=u[1],f=gu.splitLeaves(l,t),d=du(f,2),v=d[0],h=d[1],p=c.concat(v.map(function(e){return e.updateMark(n,o)}),h);return this.setLeaves(p)}},{key:"splitText",value:function(e){var t=gu.splitLeaves(this.leaves,e);return[this.set("leaves",t[0]),this.set("leaves",t[1]).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.leaves.concat(e.leaves);return this.setLeaves(t)}},{key:"setLeaves",value:function(e){if(1===(e=gu.createLeaves(e)).size){var t=e.first();if((!t.marks||0===t.marks.size)&&""===t.text)return this.set("leaves",vn([gu.create()]))}return 0===e.size&&(e=e.push(gu.create())),this.set("leaves",e)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={leaves:[{text:e}]}),y(e)){if(e.text){var n=e,r=n.text,o=n.marks;e={key:n.key,leaves:[{text:r,marks:o}]}}return t.fromJSON(e)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;var n=e.key,r=void 0===n?ou.create():n,o=e.leaves;if(o||(e.ranges?(Sr(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=e.ranges):o=vn()),Array.isArray(o))o=vn(o.map(function(e){return gu.create(e)}));else{if(!vn.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map(function(e){return gu.create(e)})}return 0===o.size&&(o=o.push(gu.create())),new t({leaves:gu.createLeaves(o),key:r})}},{key:"isTextList",value:function(e){return vn.isList(e)&&e.every(function(e){return t.isText(e)})}}]),t}(gr({leaves:void 0,key:void 0}));Eu(Su.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var Nu=function(){function e(){au(this,e)}return su(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(t))return t;if(y(t)){var n=t.object;switch(!n&&t.kind&&(Sr(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return Tu.create(t);case"document":return pu.create(t);case"inline":return yu.create(t);case"text":return Su.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(t)||Array.isArray(t))return vn(t.map(e.create));throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Tu.isBlock(e)||yu.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(y(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=hu.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(Sr(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return Tu.fromJSON(e);case"document":return pu.fromJSON(e);case"inline":return yu.fromJSON(e);case"text":return Su.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return Tu.isBlock(e)||pu.isDocument(e)||yu.isInline(e)||Su.isText(e)}},{key:"isNodeList",value:function(t){return vn.isList(t)&&t.every(function(t){return e.isNode(t)})}}]),e}(),Tu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),y(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ou.create():o,a=e.nodes,s=void 0===a?[]:a,u=e.type;if("string"!=typeof u)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:i,type:u,data:Kt(r),nodes:Nu.createList(s)})}},{key:"isBlockList",value:function(e){return vn.isList(e)&&e.every(function(e){return t.isBlock(e)})}}]),t}(gr({data:void 0,key:void 0,nodes:void 0,type:void 0}));function Cu(e,t){for(var n=Ru(e,t),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.size===t.size?0:null}function Bu(e){if(null==e)return null;if(vn.isList(e))return e;if(Array.isArray(e))return vn(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ru(e,t);return[e.slice(0,n),t.slice(0,n)]}function ju(e){return Pu(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1)}function Pu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n)+t;return e.set(n,r)}function zu(e,t){var n=Fu(e,t),r=du(n,2),o=r[0],i=r[1];return e.size<t.size&&0===Cu(o,i)}function Iu(e,t){return e.equals(t)}function Du(e,t){var n=e.size-1,r=Fu(e,t,n),o=du(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return Iu(i,a)&&s<u}function Ru(e,t){return Math.min(e.size,t.size)}var Mu={compare:Cu,create:Bu,crop:Fu,decrement:ju,getAncestors:function(e){for(var t=new vn,n=0;n<e.size;n++)t=t.push(e.slice(0,n));return t},increment:Pu,isAbove:zu,isAfter:function(e,t){var n=Fu(e,t),r=du(n,2);return 1===Cu(r[0],r[1])},isBefore:function(e,t){var n=Fu(e,t),r=du(n,2);return-1===Cu(r[0],r[1])},isEqual:Iu,isOlder:function(e,t){var n=e.size-1,r=Fu(e,t,n),o=du(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return Iu(i,a)&&s>u},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:Du,lift:function(e){return e.slice(0,-1)},max:function(e,t){return Math.max(e.size,t.size)},min:Ru,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return Bu(n)},transform:function(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return vn([e]);var i=o.size-1,a=Iu(o,e),s=Du(o,e),u=zu(o,e);if("insert_node"===n&&(a||s||u)&&(e=Pu(e,1,i)),"remove_node"===n&&(s?e=ju(e,1,i):(a||u)&&(e=[])),"merge_node"===n&&(a||s?e=ju(e,1,i):u&&(e=Pu(e=ju(e,1,i),r,i+1))),"split_node"===n&&(a?e=[e,Pu(e)]:s?e=Pu(e,1,i):u&&e.get(i+1)>=r&&(e=ju(e=Pu(e,1,i),r,i+1))),"move_node"===n){var c=t.newPath,l=c.size-1,f=Iu(c,e);if(Iu(o,c))return vn([e]);var d=Du(c,e),v=zu(c,e);u?e=c.concat(e.slice(o.size)):a?e=c:(s&&(e=ju(e,1,i)),(f||d||v)&&(e=Pu(e,1,l)))}var h=Array.isArray(e)?e:[e];return vn(h)}},Lu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===Mu.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===Mu.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!=this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveForward(-e):this.setOffset(this.offset-e)}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveBackward(-e):this.setOffset(this.offset+e)}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;return"number"===typeof e?(t=e,e=this.path):"string"===typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null,this.merge({key:n,path:e,offset:t})}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=e.getNode(n||o);if(!i){Sr(!1,"A point's `path` or `key` invalid and was reset!");var a=e.getFirstText();return a?this.merge({key:a.key,offset:0,path:e.getPath(a.key)}):t.create()}if("text"!==i.object){Sr(!1,"A point should not reference a non-text node!");var s=i.getTextAtOffset(r),u=i.getOffset(s.key);return this.merge({offset:r-u,key:s.key,path:e.getPath(s.key)})}return i&&o&&n&&n!==i.key&&Sr(!1,"A point's `key` did not match its `path`!"),this.merge({key:i.key,path:null==o?e.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)})}},{key:"setKey",value:function(e){return null!==e&&(e=ou.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!==e&&(e=Mu.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return e;if(y(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(y(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=Mu.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=void 0===n?null:n,o=e.offset,i=void 0===o?null:o,a=e.path,s=void 0===a?null:a;return new t({key:r,offset:i,path:Mu.create(s)})}}]),t}(gr({key:void 0,offset:void 0,path:void 0})),qu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=n.mark,a={};return r&&(a.anchor=Lu.create(r)),o&&(a.focus=Lu.create(o)),i&&(a.mark=mu.create(i)),this.merge(a)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return e;if(Ju.isRange(e))return t.fromJSON(Ju.createProperties(e));if(y(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return{anchor:Lu.createProperties(e.anchor),focus:Lu.createProperties(e.focus),mark:mu.create(e.mark)};if(y(e)){var n={};return"anchor"in e&&(n.anchor=Lu.create(e.anchor)),"focus"in e&&(n.focus=Lu.create(e.focus)),"mark"in e&&(n.mark=mu.create(e.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new t({anchor:Lu.fromJSON(n||{}),focus:Lu.fromJSON(r||{}),mark:mu.fromJSON(o)})}}]),t}(gr({anchor:void 0,focus:void 0,mark:void 0})),Ku={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function Uu(e,t){return!(!t||!t[Ku[e]])}var Ju=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(y(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return{anchor:Lu.createProperties(e.anchor),focus:Lu.createProperties(e.focus)};if(y(e)){var n={};return"anchor"in e&&(n.anchor=Lu.create(e.anchor)),"focus"in e&&(n.focus=Lu.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:Lu.fromJSON(n||{}),focus:Lu.fromJSON(r||{})})}},{key:"isRange",value:function(e){return Uu("range",e)||qu.isDecoration(e)||Vu.isSelection(e)}}]),t}(gr({anchor:void 0,focus:void 0})),Vu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=lu(n,["anchor","focus"]);return r&&(i.anchor=Lu.create(r)),o&&(i.focus=Lu.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()})}}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return e;if(Ju.isRange(e))return t.fromJSON(Ju.createProperties(e));if(y(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return{anchor:Lu.createProperties(e.anchor),focus:Lu.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(Ju.isRange(e))return{anchor:Lu.createProperties(e.anchor),focus:Lu.createProperties(e.focus)};if(y(e)){var n={};return"anchor"in e&&(n.anchor=Lu.create(e.anchor)),"focus"in e&&(n.focus=Lu.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:mu.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.isFocused,i=void 0!==o&&o,a=e.marks,s=void 0===a?null:a;return new t({anchor:Lu.fromJSON(n||{}),focus:Lu.fromJSON(r||{}),isFocused:i,marks:null==s?null:new Jn(s.map(mu.fromJSON))})}}]),t}(gr({anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0})),Wu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"addMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.addMark(e,t,n,r),o=this.set("document",i)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"insertText",value:function(e,t,n,r){var o=this,i=o.document,a=i.assertNode(e);return i=i.insertText(e,t,n,r),o=(o=o.set("document",i)).mapRanges(function(e){return e.updatePoints(function(e){return e.key===a.key&&e.offset>=t?e.setOffset(e.offset+n.length):e})})}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=Mu.decrement(e),i=n.getNode(o),a=n.getNode(e);return t=(t=t.set("document",r)).mapRanges(function(e){if("text"===a.object){var t=i.text.length;e.anchor.key===a.key&&(e=e.moveAnchorTo(i.key,t+e.anchor.offset)),e.focus.key===a.key&&(e=e.moveFocusTo(i.key,t+e.focus.offset))}return e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r.document;return o=o.moveNode(e,t,n),r=(r=r.set("document",o)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.removeMark(e,t,n,r),o=this.set("document",i)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"==r.object?r:r.getFirstText()||r,i="text"==r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges(function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=a?e.moveStartTo(a.key,a.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=a?e.moveEndTo(a.key,a.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var a=n.length,s=t,u=t+a;return r=r.mapRanges(function(e){return e.updatePoints(function(e){return e.key!==i.key?e:e.offset>=u?e.setOffset(e.offset-a):e.offset>s?e.setOffset(s):e})})}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n,r,o){var i=this,a=i.document;return a=a.setMark(e,t,n,r,o),i=i.set("document",a)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.decorations,i={};return r&&(i.data=r),o&&(i.decorations=o.map(function(e){return e.isSet?e:n.resolveDecoration(e)})),t=t.merge(i)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=o.setProperties(e);return o=r.resolveSelection(i),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,i=o.splitNode(e,t,n),a=o.assertNode(e);return r=(r=r.set("document",i)).mapRanges(function(e){var n=i.getNextText(a.key),r=e,o=r.start,s=r.end;return a.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),a.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=n.decorations,a=o.isSet?e(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),t=t.set("selection",a);var s=i.map(function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n});return s=s.filter(function(e){return!!e}),t=t.set("decorations",s)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map(function(t){return t.toJSON(e)})),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){Cr(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new Jn:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new Jn:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new vn:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?pu.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new vn:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new vn:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Cr(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(e))return e;if(y(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(e))return{data:e.data,decorations:e.decorations};if(y(e)){var n={};return"data"in e&&(n.data=hu.create(e.data)),"decorations"in e&&(n.decorations=qu.createList(e.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.decorations,i=void 0===o?[]:o,a=e.document,s=void 0===a?{}:a,u=e.selection,c=void 0===u?{}:u;if(r=hu.fromJSON(r),c=(s=pu.fromJSON(s)).createSelection(c),i=vn(i.map(function(e){return qu.fromJSON(e)})),c.isUnset){var l=s.getFirstText();l&&(c=c.moveToStartOfNode(l)),c=s.createSelection(c)}return new t({data:r,decorations:i,document:s,selection:c})}}]),t}(gr({data:void 0,decorations:void 0,document:void 0,selection:void 0})),Hu=Kr("slate:operation:apply");function $u(e,t){var n=(t=Qu.create(t)).type;switch(Hu(n,t),n){case"add_mark":var r=t,o=r.path,i=r.offset,a=r.length,s=r.mark;return e.addMark(o,i,a,s);case"insert_node":var u=t,c=u.path,l=u.node;return e.insertNode(c,l);case"insert_text":var f=t,d=f.path,v=f.offset,h=f.text,p=f.marks;return e.insertText(d,v,h,p);case"merge_node":var y=t.path;return e.mergeNode(y);case"move_node":var m=t,g=m.path,k=m.newPath;return Mu.isEqual(g,k)?e:e.moveNode(g,k);case"remove_mark":var _=t,b=_.path,w=_.offset,x=_.length,O=_.mark;return e.removeMark(b,w,x,O);case"remove_node":var A=t.path;return e.removeNode(A);case"remove_text":var E=t,S=E.path,N=E.offset,T=E.text;return e.removeText(S,N,T);case"set_mark":var C=t,B=C.path,F=C.offset,j=C.length,P=C.mark,z=C.properties;return e.setMark(B,F,j,P,z);case"set_node":var I=t,D=I.path,R=I.properties;return e.setNode(D,R);case"set_selection":var M=t.properties;return e.setSelection(M);case"set_value":var L=t.properties;return e.setProperties(L);case"split_node":var q=t,K=q.path,U=q.position,J=q.properties;return e.splitNode(K,U,J);default:throw new Error('Unknown operation type: "'+n+'".')}}var Yu=Kr("slate:operation:invert");function Gu(e){var t=(e=Qu.create(e)).type;switch(Yu(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(Mu.isEqual(r,o))return e;var i=r,a=o,s=o.size-1,u=r.size-1;return o.size<i.size&&o.slice(0,s).every(function(e,t){return e==i.get(t)})&&o.last()<i.get(s)&&(i=i.slice(0,s).concat(i.get(s)-1).concat(i.slice(s+1,i.size))),r.size<a.size&&r.slice(0,u).every(function(e,t){return e==a.get(t)})&&r.last()<=a.get(u)&&(a=a.slice(0,u).concat(a.get(u)+1).concat(a.slice(u+1,a.size))),e.set("path",i).set("newPath",a);case"merge_node":var c=e.path,l=Mu.decrement(c);return e.set("type","split_node").set("path",l);case"split_node":var f=e.path,d=Mu.increment(f);return e.set("type","merge_node").set("path",d);case"set_node":var v=e,h=v.properties,p=v.node,y=p.merge(h),m=ca(p,Object.keys(h));return e.set("node",y).set("properties",m);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");case"set_mark":var g=e,k=g.properties,_=g.mark,b=_.merge(k),w=ca(_,Object.keys(k));return e.set("mark",b).set("properties",w);case"set_selection":var x=e,O=x.properties,A=x.selection,E=A.merge(O),S=ca(A,Object.keys(O));return e.set("selection",E).set("properties",S);case"set_value":var N=e,T=N.properties,C=N.value,B=C.merge(T),F=ca(C,Object.keys(T));return e.set("value",B).set("properties",F);default:throw new Error('Unknown operation type: "'+t+'".')}}var Xu={add_mark:["value","path","offset","length","mark","data"],insert_node:["value","path","node","data"],insert_text:["value","path","offset","text","marks","data"],merge_node:["value","path","position","properties","target","data"],move_node:["value","path","newPath","data"],remove_mark:["value","path","offset","length","mark","data"],remove_node:["value","path","node","data"],remove_text:["value","path","offset","text","marks","data"],set_mark:["value","path","offset","length","mark","properties","data"],set_node:["value","path","node","properties","data"],set_selection:["value","selection","properties","data"],set_value:["value","properties","data"],split_node:["value","path","position","properties","target","data"]},Qu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"apply",value:function(e){return $u(e,this)}},{key:"invert",value:function(){return Gu(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=Xu[t],o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=this[c];if("document"!=c&&("selection"!=c&&"value"!=c&&("node"!=c||"insert_node"==t))){if("mark"!=c&&"marks"!=c&&"node"!=c&&"path"!=c&&"newPath"!=c||(l=l.toJSON()),"properties"==c&&"merge_node"==t){var f={};"data"in l&&(f.data=l.data.toJS()),"type"in l&&(f.type=l.type),l=f}if("properties"==c&&"set_mark"==t){var d={};"data"in l&&(d.data=l.data.toJS()),"type"in l&&(d.type=l.type),l=d}if("properties"==c&&"set_node"==t){var v={};"data"in l&&(v.data=l.data.toJS()),"type"in l&&(v.type=l.type),l=v}if("properties"==c&&"set_selection"==t){var h={};"anchor"in l&&(h.anchor=l.anchor.toJSON()),"focus"in l&&(h.focus=l.focus.toJSON()),"isFocused"in l&&(h.isFocused=l.isFocused),"marks"in l&&(h.marks=l.marks&&l.marks.toJSON()),l=h}if("properties"==c&&"set_value"==t){var p={};"data"in l&&(p.data=l.data.toJS()),"decorations"in l&&(p.decorations=l.decorations.toJS()),l=p}if("properties"==c&&"split_node"==t){var y={};"data"in l&&(y.data=l.data.toJS()),"type"in l&&(y.type=l.type),l=y}"data"===c&&(l=l.toJSON()),n[c]=l}}}catch(m){i=!0,a=m}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(e))return e;if(y(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(vn.isList(e)||Array.isArray(e))return new vn(e.map(t.create));throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,r=Xu[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value,f=e[l];if("data"===l&&void 0===f&&(f={}),void 0===f){if("document"==l)continue;if("selection"==l)continue;if("value"==l)continue;if("node"==l&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+l+'" attribute.')}"path"!==l&&"newPath"!==l||(f=Mu.create(f)),"mark"===l&&(f=mu.create(f)),"marks"===l&&null!=f&&(f=mu.createSet(f)),"node"===l&&(f=Nu.create(f)),"selection"===l&&(f=Vu.create(f)),"value"===l&&(f=Wu.create(f)),"properties"===l&&"merge_node"===n&&(f=Nu.createProperties(f)),"properties"===l&&"set_mark"===n&&(f=mu.createProperties(f)),"properties"===l&&"set_node"===n&&(f=Nu.createProperties(f)),"properties"===l&&"set_selection"===n&&(f=Vu.createProperties(f)),"properties"===l&&"set_value"===n&&(f=Wu.createProperties(f)),"properties"===l&&"split_node"===n&&(f=Nu.createProperties(f)),"data"===l&&(f=Kt(f)),o[l]=f}}catch(d){a=!0,s=d}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return new t(o)}},{key:"isOperationList",value:function(e){return vn.isList(e)&&e.every(function(e){return t.isOperation(e)})}}]),t}(gr({length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0,data:void 0})),Zu=function(e){function t(){return au(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return cu(t,e),su(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(t){return t.toJSON(e)})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isChange(e))return e;if(y(e))return t.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.value,r=e.operations,o=void 0===r?[]:r;return new t({value:Wu.create(n),operations:Qu.createList(o)})}}]),t}(gr({operations:void 0,value:void 0}));function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onCommand:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();n.command.apply(n,[a].concat(vu(i)))},onConstruct:function(t,n){for(var r in e)t.registerCommand(r);return n()}}}var tc=55296,nc=57343,rc=/\s/,oc=/['\u2018\u2019]/,ic=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function ac(e){return tc<=e&&e<=nc}function sc(e,t){if(rc.test(e))return!1;if(oc.test(e)){var n=t.charAt(0),r=uc(n);if(sc(n=t.slice(0,r),t.slice(r)))return!0}return!ic.test(e)}function uc(e){return ac(e.charCodeAt(0))?2:1}function cc(e){return uc(e.charAt(0))}function lc(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var i=uc(o);if(sc(o=e.slice(n,n+i),e.slice(n+i)))r=!0,t+=i;else{if(r)break;t+=i}n+=i}return t}var fc={getCharLength:uc,getCharOffset:cc,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),cc(e=la(e))},getCharOffsetForward:function(e,t){return cc(e=e.slice(t))},getWordOffset:lc,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),lc(e=la(e))},getWordOffsetForward:function(e,t){return lc(e=e.slice(t))},isSurrogate:ac,isWord:sc};function dc(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,i=r.end;return t=n.hasDescendant(o.key)?t.moveToStart():t.moveTo(i.key,0).normalize(n)}var vc={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,i=t.end,a=r.getTextsAtRange(t);e.withoutNormalizing(function(){a.forEach(function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.addMarkByKey(r,a,s,n)})})}},addMarksAtRange:function(e,t,n){n.forEach(function(n){return e.addMarkAtRange(t,n)})},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=n.document,l=c.hasVoidParent(i,e),f=c.hasVoidParent(s,e),d=c.getClosestBlock(i),v=c.getClosestBlock(s),h=0==a&&0==u&&0==l&&i==d.getFirstText().key&&s==v.getFirstText().key;if(h&&f){var p=c.getPreviousText(s);s=p.key,u=p.text.length,f=c.hasVoidParent(s,e)}e.withoutNormalizing(function(){for(;l;){var t=c.getClosestVoid(i,e),n=c.getNextText(i);if(e.removeNodeByKey(t.key),i==s)return;if(!n)return;c=e.value.document,i=n.key,a=0,l=c.hasVoidParent(i,e)}for(;f;){var r=c.getClosestVoid(s,e),o=c.getPreviousText(s);e.removeNodeByKey(r.key),c=e.value.document,s=o.key,u=o.text.length,f=c.hasVoidParent(s,e)}if(i==s&&h)e.removeNodeByKey(d.key);else if(i!=s){d=c.getClosestBlock(i),v=c.getClosestBlock(s);var p=c.getNode(i),y=c.getNode(s),m=p.text.length-a,g=u,k=c.getCommonAncestor(i,s),_=k.getFurthestAncestor(i),b=k.getFurthestAncestor(s),w=c.getParent(d.key),x=w.nodes.indexOf(d),O=w.nodes.indexOf(v),A=void 0;for(A=p;A.key!=_.key;){var E=c.getParent(A.key),S=E.nodes.indexOf(A);E.nodes.slice(S+1).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),A=E}var N=k.nodes.indexOf(_),T=k.nodes.indexOf(b);for(k.nodes.slice(N+1,T).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),A=y;A.key!=b.key;){var C=c.getParent(A.key),B=C.nodes.indexOf(A);C.nodes.slice(0,B).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),A=C}if(0!=m&&e.removeTextByKey(i,a,m),0!=g&&e.removeTextByKey(s,0,u),d.key!=v.key){var F=(c=e.value.document).getFurthestOnlyChildAncestor(v.key);O!=x+1&&e.moveNodeByKey(v.key,w.key,x+1),h?e.removeNodeByKey(d.key):e.mergeNodeByKey(v.key),F&&e.removeNodeByKey(F.key)}}else{var j=a,P=u-a;e.removeTextByKey(i,j,P)}})},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(i.key,e);if(s)e.removeNodeByKey(s.key);else if(!i.isAtStartOfNode(r)){var u=r.getClosestBlock(i.key);if(1!==r.nodes.size&&u&&""===u.text&&1===u.nodes.size)e.removeNodeByKey(u.key);else{var c=r.getDescendant(i.key);if(i.isAtStartOfNode(c)){var l=r.getPreviousText(c.key);r.getClosestInline(c.key)&&""===l.text&&(l=r.getPreviousText(l.key));var f=r.getClosestBlock(l.key),d=r.getClosestVoid(l.key,e);if(d)return void e.removeNodeByKey(d.key);if(1==n&&f!=u)return t=t.moveAnchorTo(l.key,l.text.length),void e.deleteAtRange(t)}if(n<a.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var v=c,h=0,p=a.offset;n>p;){var y=p+(v=r.getPreviousText(v.key)).text.length;if(n<=y){h=y-n;break}p=y}t=t.moveAnchorTo(v.key,h),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getCharOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getCharOffsetForward(a,i);e.deleteForwardAtRange(t,s)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(i.key,e);if(s)e.removeNodeByKey(s.key);else{var u=r.getClosestBlock(i.key);if(u&&!e.isVoid(u)&&""===u.text&&1!==r.nodes.size){var c=r.getNextBlock(u.key);return e.removeNodeByKey(u.key),void(c&&c.key&&e.moveToStartOfNode(c))}if(!i.isAtEndOfNode(r)){var l=r.getDescendant(i.key);if(i.isAtEndOfNode(l)){var f=r.getNextText(l.key),d=r.getClosestBlock(f.key),v=r.getClosestVoid(f.key,e);if(v)return void e.removeNodeByKey(v.key);if(1==n&&d!=u)return t=t.moveFocusTo(f.key,0),void e.deleteAtRange(t)}if(n<=l.text.length-a.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var h=l,p=a.offset,y=l.text.length-a.offset;n>y;){var m=y+(h=r.getNextText(h.key)).text.length;if(n<=m){p=n-y;break}y=m}t=t.moveFocusTo(h.key,p),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-i)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:fc.getWordOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getWordOffsetForward(a,i),u=0===s?1:s;e.deleteForwardAtRange(t,u)}},insertBlockAtRange:function(e,t,n){t=dc(e,t),n=Tu.create(n);var r=e.value.document,o=t.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),u=r.getClosestInline(i),c=r.getParent(s.key),l=c.nodes.indexOf(s);if(e.isVoid(s)){var f=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(c.key,l+f,n)}else if(u||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(c.key,l,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(c.key,l+1,n);else{if(u&&e.isVoid(u)){var d=o.isAtEndOfNode(u),v=d?r.getNextText(i):r.getPreviousText(i),h=d?t.moveToStartOfNode(v):t.moveToEndOfNode(v);i=h.start.key,a=h.start.offset}e.withoutNormalizing(function(){e.splitDescendantsByKey(s.key,i,a),e.insertNodeByKey(c.key,l+1,n)})}else e.insertNodeByKey(c.key,l+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing(function(){if(t=dc(e,t),n.nodes.size){n=n.mapDescendants(function(e){return e.regenerateKey()});var r=t.start,o=e.value.document,i=o.getDescendant(r.key),a=o.getClosestBlock(i.key),s=a.getFurthestAncestor(i.key),u=r.isAtStartOfNode(a),c=o.getParent(a.key),l=c.nodes.indexOf(a),f=n.getBlocks(),d=n.nodes.first(),v=n.nodes.last(),h=f.first(),p=f.last(),y=hc(n,o,a.key);if(h===p&&e.isVoid(h))e.insertBlockAtRange(t,h);else if(y!==n||!d.hasBlockChildren()&&!v.hasBlockChildren()){if(h!=p){var m=y.getFurthest(h.key,function(e){return 1==e.nodes.size})||h,g=c.nodes.indexOf(a);y.removeNode(m.key).nodes.forEach(function(t,n){var r=g+n+1;e.insertNodeByKey(c.key,r,t)})}if(0!=r.offset&&e.splitDescendantsByKey(s.key,r.key,r.offset),i=(o=e.value.document).getDescendant(r.key),s=(a=o.getClosestBlock(r.key)).getFurthestAncestor(i.key),h!=p){var k=u?s:a.getNextSibling(s.key),_=k?a.nodes.skipUntil(function(e){return e.key==k.key}):vn(),b=p.nodes.size;_.forEach(function(t,n){var r=b+n;e.moveNodeByKey(t.key,p.key,r)})}if(e.isVoid(a)||""!==a.text){var w=a.getFurthestAncestor(i.key),x=a.nodes.indexOf(w);h.nodes.forEach(function(t,n){var o=0==r.offset?0:1,i=x+n+o;e.insertNodeByKey(a.key,i,t)})}else e.removeNodeByKey(a.key),e.insertNodeByKey(c.key,l,h)}else n.nodes.reverse().forEach(function(n){e.insertBlockAtRange(t,n)})}})}},hc=function(e,t,n){var r=function(e){return e&&1===e.nodes.size},o=function(e){return e&&e.nodes.first()},i=e;if(r(e)){var a=o(e),s=t.getFurthest(n,function(e){return e.type===a.type});for(s===t.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};vc.insertInlineAtRange=function(e,t,n){n=yu.create(n),e.withoutNormalizing(function(){t=dc(e,t);var r=e.value.document,o=t.start,i=r.getParent(o.key),a=r.assertDescendant(o.key),s=i.nodes.indexOf(a);e.isVoid(i)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(i.key,s+1,n))})},vc.insertTextAtRange=function(e,t,n,r){t=dc(e,t);var o=e.value.document,i=t.start,a=i.offset,s=o.getParent(i.key);e.isVoid(s)||e.insertTextByKey(i.key,a,n,r)},vc.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,i=t.end;e.withoutNormalizing(function(){r.forEach(function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.removeMarkByKey(r,a,s,n)})})}},vc.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=t.start,a=t.end,s=t.isCollapsed,u=r.hasVoidParent(i.key,e),c=r.getClosestBlock(i.key),l=r.getClosestBlock(a.key),f=0==s&&0==i.offset&&0==a.offset&&0==u&&i.key==c.getFirstText().key&&a.key==l.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing(function(){f.forEach(function(t){e.setNodeByKey(t.key,n)})})},vc.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing(function(){r.forEach(function(t){e.setNodeByKey(t.key,n)})})},vc.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t=dc(e,t),o=r.start,i=r.end,a=e.value,s=a.document,u=s.assertDescendant(o.key),c=s.getClosestBlock(u.key),l=0;c&&"block"==c.object&&l<n;)u=c,c=s.getClosestBlock(c.key),l++;e.withoutNormalizing(function(){if(e.splitDescendantsByKey(u.key,o.key,o.offset),a=e.value,s=a.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=s.getNextBlock(u.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===i.key&&(t=t.moveFocusTo(t.anchor.key,i.offset-o.offset)),t=s.resolveRange(t),e.deleteAtRange(t)}})},vc.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=(t=dc(e,t)).start,o=e.value.document,i=o.assertDescendant(r.key),a=o.getClosestInline(i.key),s=0;a&&"inline"==a.object&&s<n;)i=a,a=o.getClosestInline(a.key),s++;e.splitDescendantsByKey(i.key,r.key,r.offset)},vc.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=mu.create(n),e.value.document.getActiveMarksAtRange(t).some(function(e){return e.equals(n)})?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},vc.unwrapBlockAtRange=function(e,t,n){n=Nu.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.map(function(e){return r.getClosest(e.key,function(e){return"block"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){i.forEach(function(t){var n=t.nodes.first(),i=t.nodes.last(),a=r.getParent(t.key),s=a.nodes.indexOf(t),u=t.nodes.filter(function(e){return o.some(function(t){return e==t||e.hasDescendant(t.key)})}),c=u.first(),l=u.last();if(n==c&&i==l)t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+n)}),e.removeNodeByKey(t.key);else if(i==l)t.nodes.skipUntil(function(e){return e==c}).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+1+n)});else if(n==c)t.nodes.takeUntil(function(e){return e==l}).push(l).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+n)});else{var f=c.getFirstText();e.splitDescendantsByKey(t.key,f.key,0),r=e.value.document,u.forEach(function(t,n){if(0==n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,a.key,s+1+n)})}})})},vc.unwrapInlineAtRange=function(e,t,n){n=Nu.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map(function(e){return r.getClosest(e.key,function(e){return"inline"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){o.forEach(function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach(function(t,o){e.moveNodeByKey(t.key,n.key,r+o)}),e.removeNodeByKey(t.key)})})},vc.wrapBlockAtRange=function(e,t,n){n=(n=Tu.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.first(),a=o.last(),s=void 0,u=void 0,c=void 0;if(1===o.length?(s=r.getParent(i.key),u=o):s=r.getClosest(i.key,function(e){return!!r.getClosest(a.key,function(t){return e==t})}),null==s&&(s=r),null==u){var l=s.nodes.reduce(function(e,t,n){return(t==i||t.hasDescendant(i.key))&&(e[0]=n),(t==a||t.hasDescendant(a.key))&&(e[1]=n),e},[]);c=l[0],u=s.nodes.slice(l[0],l[1]+1)}null==c&&(c=s.nodes.indexOf(u.first())),e.withoutNormalizing(function(){e.insertNodeByKey(s.key,c,n),u.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r)})})},vc.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,i=t.end;if(t.isCollapsed){var a=r.getClosestInline(o.key);if(!a)return;if(!e.isVoid(a))return;return e.wrapInlineByKey(a.key,n)}n=(n=yu.create(n)).set("nodes",n.nodes.clear());var s=r.getLeafBlocksAtRange(t),u=r.getClosestBlock(o.key),c=r.getClosestBlock(i.key),l=r.getClosestInline(o.key),f=r.getClosestInline(i.key),d=u.getFurthestAncestor(o.key),v=c.getFurthestAncestor(i.key);e.withoutNormalizing(function(){l&&l==f||(e.splitDescendantsByKey(v.key,i.key,i.offset),e.splitDescendantsByKey(d.key,o.key,o.offset)),r=e.value.document,u=r.getDescendant(u.key),c=r.getDescendant(c.key),d=u.getFurthestAncestor(o.key),v=c.getFurthestAncestor(i.key);var a=u.nodes.indexOf(d),h=c.nodes.indexOf(v);if(l&&l==f){var p=u.getTextsAtRange(t).get(0).splitText(o.offset)[1].splitText(i.offset-o.offset)[0];n=n.set("nodes",vn([p])),e.insertInlineAtRange(t,n);var y=n.getFirstText().key,m={anchor:{key:y,offset:0},focus:{key:y,offset:i.offset-o.offset},isFocused:!0};e.select(m)}else if(u==c){r=e.value.document,u=r.getClosestBlock(o.key),d=u.getFurthestAncestor(o.key);var g=r.getNextSibling(d.key),k=u.nodes.indexOf(g),_=o.key==i.key?g:u.getFurthestAncestor(i.key),b=u.nodes.skipUntil(function(e){return e==g}).takeUntil(function(e){return e==_}).push(_),w=n.regenerateKey();e.insertNodeByKey(u.key,k,w),b.forEach(function(t,n){e.moveNodeByKey(t.key,w.key,n)})}else{var x=u.nodes.slice(a+1),O=c.nodes.slice(0,h+1),A=n.regenerateKey(),E=n.regenerateKey();e.insertNodeByKey(u.key,a+1,A),e.insertNodeByKey(c.key,h,E),x.forEach(function(t,n){e.moveNodeByKey(t.key,A.key,n)}),O.forEach(function(t,n){e.moveNodeByKey(t.key,E.key,n)}),s.slice(1,-1).forEach(function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n)})})}})},vc.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,i=t.end,a=t.moveToStart(),s=t.moveToEnd();o.key==i.key&&(s=s.moveForward(n.length)),e.withoutNormalizing(function(){e.insertTextAtRange(a,n,[]),e.insertTextAtRange(s,r,[])})};var pc={addMarkByPath:function(e,t,n,r,o){o=mu.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach(function(e){var n=l,r=n+e.text.length;if(l+=e.text.length,!(r<u||c<n)&&!e.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"add_mark",value:i,path:t,offset:a,length:f-a,mark:o})}}),s.forEach(function(t){return e.applyOperation(t)})},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach(function(r,o){e.insertNodeByPath(t,n+o,r)})},insertNodeByPath:function(e,t,n,r){var o=e.value;e.applyOperation({type:"insert_node",value:o,path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){var i=e.value,a=i.decorations,s=i.document.assertNode(t);o=o||s.getMarksAtIndex(n);var u=!1,c=s.key,l=a.filter(function(t){var r=t.start,o=t.end,i=t.mark;return!e.isAtomic(i)||(r.key!==c||(!(r.offset<n&&(o.key!==c||o.offset>n))||(u=!0,!1)))});u&&e.setDecorations(l),e.applyOperation({type:"insert_text",value:i,path:t,offset:n,text:r,marks:o})},mergeNodeByPath:function(e,t){var n=e.value,r=n.document,o=r.getDescendant(t),i=r.getPreviousSibling(t);if(!i)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"==i.object?i.text.length:i.nodes.size;e.applyOperation({type:"merge_node",value:n,path:t,position:a,properties:{type:o.type,data:o.data},target:null})},moveNodeByPath:function(e,t,n,r){var o=e.value;if(Mu.isEqual(t,n))return e;e.applyOperation({type:"move_node",value:o,path:t,newPath:n.concat(r)})},removeMarkByPath:function(e,t,n,r,o){o=mu.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,l=0;a.forEach(function(e){var n=l,r=n+e.text.length;if(l+=e.text.length,!(r<u||c<n)&&e.marks.has(o)){var a=Math.max(n,u),f=Math.min(r,c);s.push({type:"remove_mark",value:i,path:t,offset:a,length:f-a,mark:o})}}),s.forEach(function(t){return e.applyOperation(t)})},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach(function(t){t.getMarksAsArray().forEach(function(n){e.removeMarkByKey(t.key,0,t.text.length,n)})})},removeNodeByPath:function(e,t){var n=e.value,r=n.document.assertNode(t);e.applyOperation({type:"remove_node",value:n,path:t,node:r})},removeTextByPath:function(e,t,n,r){var o=e.value,i=o.decorations,a=o.document.assertNode(t),s=a.getLeaves(),u=a.text,c=!1,l=a.key,f=n,d=n+r,v=i.filter(function(t){var n=t.start,r=t.end,o=t.mark;return!e.isAtomic(o)||(n.key!==l||(n.offset<f&&(r.key!==l||r.offset>f)?(c=!0,!1):!(n.offset<d&&(r.key!==l||r.offset>d))||(c=!0,null)))});c&&e.setDecorations(v);var h=[],p=n,y=n+r,m=0;s.forEach(function(e){var n=m,r=n+e.text.length;if(m+=e.text.length,!(r<p||y<n)){var i=Math.max(n,p),a=Math.min(r,y),s=u.slice(i,a);h.push({type:"remove_text",value:o,path:t,offset:i,text:s,marks:e.marks})}}),h.reverse().forEach(function(t){return e.applyOperation(t)})},replaceNodeByPath:function(e,t,n){n=Nu.create(n);var r=t.last(),o=Mu.lift(t);e.withoutNormalizing(function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)})},replaceTextByPath:function(e,t,n,r,o,i){var a=e.value.document,s=a.assertNode(t);r+n>s.text.length&&(r=s.text.length-n);var u=a.createRange({anchor:{path:t,offset:n},focus:{path:t,offset:n+r}}),c=a.getActiveMarksAtRange(u);e.withoutNormalizing(function(){e.removeTextByPath(t,n,r),i?c&&(c=c.filter(function(e){return!i.find(function(t){return e.type===t.type})}),i=c.merge(i)):i=c||[],e.insertTextByPath(t,n,o,i)})},setMarkByPath:function(e,t,n,r,o,i){o=mu.create(o),i=mu.createProperties(i);var a=e.value;e.applyOperation({type:"set_mark",value:a,path:t,offset:n,length:r,mark:o,properties:i})},setNodeByPath:function(e,t,n){n=Nu.createProperties(n);var r=e.value,o=r.document.assertNode(t);e.applyOperation({type:"set_node",value:r,path:t,node:o,properties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).target,o=void 0===r?null:r,i=e.value,a=i.document.getDescendant(t);e.applyOperation({type:"split_node",value:i,path:t,position:n,target:o,properties:{type:a.type,data:a.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,i=o.assertNode(t),a=o.assertNode(n),s=o.getAncestors(n).skipUntil(function(e){return e.key==i.key}).reverse().unshift(a),u=void 0,c=void 0;e.withoutNormalizing(function(){s.forEach(function(t){var n=null==c?null:c;c=u?t.nodes.indexOf(u)+1:r,u=t,e.splitNodeByKey(t.key,c,{target:n})})})}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=Mu.lift(t),o=n.assertNode(r),i=t.last(),a=r.last(),s=Mu.lift(r),u=0===i,c=i===o.nodes.size-1;e.withoutNormalizing(function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,a+1),e.removeNodeByPath(r);else if(u)e.moveNodeByPath(t,s,a);else if(c)e.moveNodeByPath(t,s,a+1);else{var n=Mu.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,i),e.moveNodeByPath(n,s,a+1)}})},unwrapChildrenByPath:function(e,t){t=Mu.create(t);var n=e.value.document.assertNode(t),r=Mu.lift(t),o=t.last(),i=n.nodes;e.withoutNormalizing(function(){i.reverse().forEach(function(n,a){var s=i.size-a-1,u=t.push(s);e.moveNodeByPath(u,r,o+1)}),e.removeNodeByPath(t)})},wrapBlockByPath:function(e,t,n){n=(n=Tu.create(n)).set("nodes",n.nodes.clear());var r=Mu.lift(t),o=t.last(),i=Mu.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapInlineByPath:function(e,t,n){n=(n=yu.create(n)).set("nodes",n.nodes.clear());var r=Mu.lift(t),o=t.last(),i=Mu.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapNodeByPath:function(e,t,n){"block"===(n=Nu.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},yc=function(e){pc[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=t.value.document.assertPath(n);t[e+"ByPath"].apply(t,[a].concat(o))}},mc=!0,gc=!1,kc=void 0;try{for(var _c,bc=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(mc=(_c=bc.next()).done);mc=!0){yc(_c.value)}}catch(Ah){gc=!0,kc=Ah}finally{try{!mc&&bc.return&&bc.return()}finally{if(gc)throw kc}}pc.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,s=a.assertPath(t),u=a.assertPath(n);e.moveNodeByPath.apply(e,[s,u].concat(o))},pc.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,s=a.assertPath(t),u=a.assertPath(n);e.splitDescendantsByPath.apply(e,[s,u].concat(o))};var wc={};wc.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,i=o.save,a=o.merge;if(!1!==i){var s,u,c=r.get("undos")||vn(),l=c.last(),f=l&&l.last();if(null==a&&(0!==n.size?a=!0:(s=t,a=!!(u=f)&&("set_selection"===s.type&&"set_selection"===u.type||"insert_text"===s.type&&"insert_text"===u.type&&s.offset===u.offset+u.text.length&&s.path.equals(u.path)||"remove_text"===s.type&&"remove_text"===u.type&&s.offset+s.text.length===u.offset&&s.path.equals(u.path)))),a&&l){var d=l.push(t);c=(c=c.pop()).push(d)}else{var v=vn([t]);c=c.push(v)}c.size>100&&(c=c.takeLast(100)),e.withoutSaving(function(){var t=vn(),n=r.set("undos",c).set("redos",t);e.setData(n)})}},wc.redo=function(e){var t=e.value.data,n=t.get("redos")||vn(),r=t.get("undos")||vn(),o=n.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",Zs(o,"isFocused"))),e.applyOperation(t)}),n=n.pop(),r=r.push(o);var i=t.set("undos",r).set("redos",n);e.setData(i)})})},wc.undo=function(e){var t=e.value.data,n=t.get("redos")||vn(),r=t.get("undos")||vn(),o=r.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.slice().reverse().map(function(e){return e.invert()}).forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",Zs(o,"isFocused"))),e.applyOperation(t)}),n=n.push(o),r=r.pop();var i=t.set("undos",r).set("redos",n);e.setData(i)})})},wc.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},wc.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var xc={};function Oc(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=e.value.selection)[t].apply(n,o);e.select(a)}function Ac(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",u="text"==r?"getNode":"getClosest"+a,c=e.value,l=c.document,f=c.selection[t],d=l[u](f.key);d&&e[s](d)}function Ec(e,t,n,r,o){var i=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),u=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",l="text"==o?"getNode":"getClosest"+u,f="get"+s+u,d=e.value,v=d.document,h=d.selection[t],p=v[l](h.key);if(p){var y=v[f](p.key);y&&e[c](y)}}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Nc(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],u=i.hasVoidParent(s.path,e);if(!u&&s.offset-n>=0){var c=a["move"+r+"Backward"](n);e.select(c)}else{var l=i.getPreviousText(s.path);if(l){var f=i.getClosestBlock(s.path).hasNode(l.key),d=l&&i.hasVoidParent(l.key,e);if(e["move"+r+"ToEndOfNode"](l),!u&&!d&&f){var v=e.value.selection["move"+r+"Backward"](n);e.select(v)}}}}}function Nc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Sc(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],u=i.getNode(s.path),c=i.hasVoidParent(s.path,e);if(!c&&s.offset+n<=u.text.length){var l=a["move"+r+"Forward"](n);e.select(l)}else{var f=i.getNextText(s.path);if(f){var d=i.getClosestBlock(s.path).hasNode(f.key),v=i.hasVoidParent(f.key,e);if(e["move"+r+"ToStartOfNode"](f),!c&&!v&&d){var h=e.value.selection["move"+r+"Forward"](n);e.select(h)}}}}}function Tc(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=fc.getWordOffsetBackward(s,a);e.command(Sc,t,u>0?u:1)}function Cc(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=fc.getWordOffsetForward(s,a);e.command(Nc,t,u>0?u:1)}xc.blur=function(e){e.select({isFocused:!1})},xc.deselect=function(e){var t=Vu.create();e.select(t)},xc.focus=function(e){e.select({isFocused:!0})},xc.flip=function(e){e.command(Oc,"flip")},xc.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"anchor"].concat(n))},xc.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"anchor"].concat(n))},xc.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"anchor"].concat(n))},xc.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Cc,"anchor"].concat(n))},xc.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveAnchorTo"].concat(n))},xc.moveAnchorToEndOfBlock=function(e){e.command(Ac,"anchor","end","block")},xc.moveAnchorToEndOfInline=function(e){e.command(Ac,"anchor","end","inline")},xc.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},xc.moveAnchorToEndOfNextBlock=function(e){e.command(Ec,"anchor","end","next","block")},xc.moveAnchorToEndOfNextInline=function(e){e.command(Ec,"anchor","end","next","inline")},xc.moveAnchorToEndOfNextText=function(e){e.command(Ec,"anchor","end","next","text")},xc.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveAnchorToEndOfNode"].concat(n))},xc.moveAnchorToEndOfPreviousBlock=function(e){e.command(Ec,"anchor","end","previous","block")},xc.moveAnchorToEndOfPreviousInline=function(e){e.command(Ec,"anchor","end","previous","inline")},xc.moveAnchorToEndOfPreviousText=function(e){e.command(Ec,"anchor","end","previous","text")},xc.moveAnchorToEndOfText=function(e){e.command(Ac,"anchor","end","text")},xc.moveAnchorToStartOfBlock=function(e){e.command(Ac,"anchor","start","block")},xc.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},xc.moveAnchorToStartOfInline=function(e){e.command(Ac,"anchor","start","inline")},xc.moveAnchorToStartOfNextBlock=function(e){e.command(Ec,"anchor","start","next","block")},xc.moveAnchorToStartOfNextInline=function(e){e.command(Ec,"anchor","start","next","inline")},xc.moveAnchorToStartOfNextText=function(e){e.command(Ec,"anchor","start","next","text")},xc.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveAnchorToStartOfNode"].concat(n))},xc.moveAnchorToStartOfPreviousBlock=function(e){e.command(Ec,"anchor","start","previous","block")},xc.moveAnchorToStartOfPreviousInline=function(e){e.command(Ec,"anchor","start","previous","inline")},xc.moveAnchorToStartOfPreviousText=function(e){e.command(Ec,"anchor","start","previous","text")},xc.moveAnchorToStartOfText=function(e){e.command(Ac,"anchor","start","text")},xc.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},xc.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},xc.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"end"].concat(n))},xc.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"end"].concat(n))},xc.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"end"].concat(n))},xc.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Cc,"end"].concat(n))},xc.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveEndTo"].concat(n))},xc.moveEndToEndOfBlock=function(e){e.command(Ac,"end","end","block")},xc.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},xc.moveEndToEndOfInline=function(e){e.command(Ac,"end","end","inline")},xc.moveEndToEndOfNextBlock=function(e){e.command(Ec,"end","end","next","block")},xc.moveEndToEndOfNextInline=function(e){e.command(Ec,"end","end","next","inline")},xc.moveEndToEndOfNextText=function(e){e.command(Ec,"end","end","next","text")},xc.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveEndToEndOfNode"].concat(n))},xc.moveEndToEndOfPreviousBlock=function(e){e.command(Ec,"end","end","previous","block")},xc.moveEndToEndOfPreviousInline=function(e){e.command(Ec,"end","end","previous","inline")},xc.moveEndToEndOfPreviousText=function(e){e.command(Ec,"end","end","previous","text")},xc.moveEndToEndOfText=function(e){e.command(Ac,"end","end","text")},xc.moveEndToStartOfBlock=function(e){e.command(Ac,"end","start","block")},xc.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},xc.moveEndToStartOfInline=function(e){e.command(Ac,"end","start","inline")},xc.moveEndToStartOfNextBlock=function(e){e.command(Ec,"end","start","next","block")},xc.moveEndToStartOfNextInline=function(e){e.command(Ec,"end","start","next","inline")},xc.moveEndToStartOfNextText=function(e){e.command(Ec,"end","start","next","text")},xc.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveEndToStartOfNode"].concat(n))},xc.moveEndToStartOfPreviousBlock=function(e){e.command(Ec,"end","start","previous","block")},xc.moveEndToStartOfPreviousInline=function(e){e.command(Ec,"end","start","previous","inline")},xc.moveEndToStartOfPreviousText=function(e){e.command(Ec,"end","start","previous","text")},xc.moveEndToStartOfText=function(e){e.command(Ac,"end","start","text")},xc.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"focus"].concat(n))},xc.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"focus"].concat(n))},xc.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"focus"].concat(n))},xc.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Cc,"focus"].concat(n))},xc.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveFocusTo"].concat(n))},xc.moveFocusToEndOfBlock=function(e){e.command(Ac,"focus","end","block")},xc.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},xc.moveFocusToEndOfInline=function(e){e.command(Ac,"focus","end","inline")},xc.moveFocusToEndOfNextBlock=function(e){e.command(Ec,"focus","end","next","block")},xc.moveFocusToEndOfNextInline=function(e){e.command(Ec,"focus","end","next","inline")},xc.moveFocusToEndOfNextText=function(e){e.command(Ec,"focus","end","next","text")},xc.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveFocusToEndOfNode"].concat(n))},xc.moveFocusToEndOfPreviousBlock=function(e){e.command(Ec,"focus","end","previous","block")},xc.moveFocusToEndOfPreviousInline=function(e){e.command(Ec,"focus","end","previous","inline")},xc.moveFocusToEndOfPreviousText=function(e){e.command(Ec,"focus","end","previous","text")},xc.moveFocusToEndOfText=function(e){e.command(Ac,"focus","end","text")},xc.moveFocusToStartOfBlock=function(e){e.command(Ac,"focus","start","block")},xc.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},xc.moveFocusToStartOfInline=function(e){e.command(Ac,"focus","start","inline")},xc.moveFocusToStartOfNextBlock=function(e){e.command(Ec,"focus","start","next","block")},xc.moveFocusToStartOfNextInline=function(e){e.command(Ec,"focus","start","next","inline")},xc.moveFocusToStartOfNextText=function(e){e.command(Ec,"focus","start","next","text")},xc.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveFocusToStartOfNode"].concat(n))},xc.moveFocusToStartOfPreviousBlock=function(e){e.command(Ec,"focus","start","previous","block")},xc.moveFocusToStartOfPreviousInline=function(e){e.command(Ec,"focus","start","previous","inline")},xc.moveFocusToStartOfPreviousText=function(e){e.command(Ec,"focus","start","previous","text")},xc.moveFocusToStartOfText=function(e){e.command(Ac,"focus","start","text")},xc.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},xc.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},xc.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"start"].concat(n))},xc.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"start"].concat(n))},xc.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"start"].concat(n))},xc.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Cc,"start"].concat(n))},xc.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveStartTo"].concat(n))},xc.moveStartToEndOfBlock=function(e){e.command(Ac,"start","end","block")},xc.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},xc.moveStartToEndOfInline=function(e){e.command(Ac,"start","end","inline")},xc.moveStartToEndOfNextBlock=function(e){e.command(Ec,"start","end","next","block")},xc.moveStartToEndOfNextInline=function(e){e.command(Ec,"start","end","next","inline")},xc.moveStartToEndOfNextText=function(e){e.command(Ec,"start","end","next","text")},xc.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveStartToEndOfNode"].concat(n))},xc.moveStartToEndOfPreviousBlock=function(e){e.command(Ec,"start","end","previous","block")},xc.moveStartToEndOfPreviousInline=function(e){e.command(Ec,"start","end","previous","inline")},xc.moveStartToEndOfPreviousText=function(e){e.command(Ec,"start","end","previous","text")},xc.moveStartToEndOfText=function(e){e.command(Ac,"start","end","text")},xc.moveStartToStartOfBlock=function(e){e.command(Ac,"start","start","block")},xc.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},xc.moveStartToStartOfInline=function(e){e.command(Ac,"start","start","inline")},xc.moveStartToStartOfNextBlock=function(e){e.command(Ec,"start","start","next","block")},xc.moveStartToStartOfNextInline=function(e){e.command(Ec,"start","start","next","inline")},xc.moveStartToStartOfNextText=function(e){e.command(Ec,"start","start","next","text")},xc.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveStartToStartOfNode"].concat(n))},xc.moveStartToStartOfPreviousBlock=function(e){e.command(Ec,"start","start","previous","block")},xc.moveStartToStartOfPreviousInline=function(e){e.command(Ec,"start","start","previous","inline")},xc.moveStartToStartOfPreviousText=function(e){e.command(Ec,"start","start","previous","text")},xc.moveStartToStartOfText=function(e){e.command(Ac,"start","start","text")},xc.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveTo"].concat(n))},xc.moveToAnchor=function(e){e.command(Oc,"moveToAnchor")},xc.moveToEnd=function(e){e.command(Oc,"moveToEnd")},xc.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},xc.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},xc.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},xc.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},xc.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},xc.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},xc.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveToEndOfNode"].concat(n))},xc.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},xc.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},xc.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},xc.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},xc.moveToFocus=function(e){e.command(Oc,"moveToFocus")},xc.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},xc.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveToRangeOfNode"].concat(n))},xc.moveToStart=function(e){e.command(Oc,"moveToStart")},xc.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},xc.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},xc.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},xc.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},xc.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},xc.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},xc.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"moveToStartOfNode"].concat(n))},xc.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},xc.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},xc.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},xc.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},xc.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Vu.createProperties(t);var r=n.snapshot,o=void 0!==r&&r,i=e.value,a=i.document,s=i.selection,u={},c=s.setProperties(t);for(var l in c=a.resolveSelection(c),t=ca(c,Object.keys(t)))!0!==o&&Ee(t[l],s[l])||(u[l]=t[l]);s.marks&&!u.marks&&(u.anchor||u.focus)&&(u.marks=null),0!==Object.keys(u).length&&e.applyOperation({type:"set_selection",value:i,properties:u,selection:s.toJSON()},o?{skip:!1,merge:!1}:{})},xc.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"setAnchor"].concat(n))},xc.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"setEnd"].concat(n))},xc.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"setFocus"].concat(n))},xc.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Oc,"setStart"].concat(n))},xc.snapshotSelection=function(e){e.withoutMerging(function(){e.select(e.value.selection,{snapshot:!0})})};var Bc={};function Fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onConstruct:function(t,n){for(var r in e)t.registerQuery(r);return n()},onQuery:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();var s=a.apply(void 0,[n].concat(vu(i)));return void 0===s?r():s}}}Bc.setData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wu.createProperties({data:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})},Bc.setDecorations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Wu.createProperties({decorations:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})};var jc=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};au(this,t);var r=fu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return cu(t,e),t}(Error);function Pc(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,i=e.marks,a=[];if(t&&(a=a.concat(t)),n&&a.push(uu({match:[{object:"document"}]},n)),r)for(var s in r)a.push(uu({match:[{object:"block",type:s}]},r[s]));if(o)for(var u in o)a.push(uu({match:[{object:"inline",type:u}]},o[u]));if(i)for(var c in i)a.push(uu({match:[{object:"mark",type:c}]},i[c]));function l(e,t,n){var r=a.filter(function(t){return zc(e,t.match)}),o=Ic(e,r,a,{every:!0});return o?new jc(o.code,o):n()}return[{normalizeNode:function(e,t,n){var r=l(e,0,function(){});return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function(e,t){var n=t.code,r=t.node,o=t.child,i=t.next,a=t.previous,s=t.key,u=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach(function(t){return e.removeNodeByKey(t.key)}):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach(function(t){return e.removeMarkByKey(t.key,0,t.text.length,u)});default:e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode:l},Fc({isAtomic:function(e,t){var n=a.find(function(e){return"isAtomic"in e&&zc(t,e.match)});return n&&n.isAtomic},isVoid:function(e,t){var n=a.find(function(e){return"isVoid"in e&&zc(t,e.match)});return n&&n.isVoid}})]}function zc(e,t){return!Ic(e,t)}function Ic(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).every,o=void 0!==r&&r;if(Array.isArray(t)){var i=t.length?t:[{}],a=void 0,s=!0,u=!1,c=void 0;try{for(var l,f=i[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=Ic(e,l.value,n);if(a=a||d,o&&d)return d;if(!o&&!d)return}}catch(Ah){u=!0,c=Ah}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}return a}return function(e,t){if(null==t.object)return;if(t.object===e.object)return;if("function"===typeof t.object&&t.object(e.object))return;return Lc("node_object_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.type)return;if(t.type===e.type)return;if("function"===typeof t.type&&t.type(e.type))return;return Lc("node_type_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.data)return;if(null==e.data)return;if("function"===typeof t.data){if(t.data(e.data))return;return Lc("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n),i="function"===typeof r?r(o):r===o;if(!i)return Lc("node_data_invalid",{rule:t,node:e,key:n,value:o})}}(e,t)||function(e,t){if(null==t.marks)return;var n=e.getMarks().toArray(),r=function(n){var r=t.marks.some(function(e){return"function"===typeof e.type?e.type(n.type):e.type===n.type});return r?"continue":{v:Lc("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,l=r(c);switch(l){case"continue":continue;default:if("object"===("undefined"===typeof l?"undefined":iu(l)))return l.v}}}catch(Ah){i=!0,a=Ah}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}(e,t)||function(e,t){if(null==t.text)return;var n=e.text;if("function"===typeof t.text?t.text(n):t.text.test(n))return;return Lc("node_text_invalid",{rule:t,node:e,text:n})}(e,t)||function(e,t){if(null==t.first)return;var n=e.nodes.first();if(!n)return;var r=Ic(n,t.first);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}(e,t)||function(e,t){if(null==t.last)return;var n=e.nodes.last();if(!n)return;var r=Ic(n,t.last);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}(e,t)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==e.nodes)return;var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],i=0,a=0,s=null,u=-1,c=null,l=null,f=null,d=null,v=null;function h(){return 0!==o.length&&(c=o.shift(),a=i,i=0,s=c.min||null,l=c.max||null,!0)}function p(){return d=(u+=1)?r.get(u-1):null,f=r.get(u),v=r.get(u+1),!!f&&(a=i,i+=1,!0)}function y(){u>0&&(u-=1,i=a)}null!=t.nodes&&h();for(;p();){var m=Dc(e,f,n)||Rc(e,f,d,u,n)||Mc(e,f,v,u,n);if(m)return m;if(null!=t.nodes){if(!c)return Lc("child_unknown",{rule:t,node:e,child:f,index:u});if(c.match){var g=Ic(f,c.match);if(g){if(null!=l&&i-1>l)return y(),Lc("child_max_invalid",{rule:t,node:e,index:u,child:r.get(u),count:i,limit:l});var k=s;if(h()){if(a-1>=k){u-=1;continue}return null==Ic(f,c.match)?(y(),Lc("child_min_invalid",{rule:t,node:e,index:u,count:a-1,limit:k})):(g.rule=t,g.node=e,g.child=f,g.index=u,g.code=g.code.replace("node_","child_"),g)}return null!=l&&i>l?Lc("child_unknown",{rule:t,node:e,child:f,index:u}):(g.rule=t,g.node=e,g.child=f,g.index=u,g.code=g.code.replace("node_","child_"),g)}}}}if(null!=l&&i>l)return Lc("child_max_invalid",{rule:t,node:e,index:u-1,count:i,child:r.get(u-1),limit:l});if(null!=t.nodes)do{if(i<s)return Lc("child_min_invalid",{rule:t,node:e,index:u,count:i,limit:s})}while(h())}(e,t,n)}function Dc(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(null!=u.parent&&zc(t,u.match)){var c=Ic(e,u.parent);if(c)return c.rule=u,c.parent=e,c.node=t,c.code=c.code.replace("node_","parent_"),c}}}catch(Ah){o=!0,i=Ah}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function Rc(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.previous&&zc(t,l.match)){var f=Ic(n,l.previous);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.previous=n,f.code=f.code.replace("node_","previous_sibling_"),f}}}catch(Ah){a=!0,s=Ah}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function Mc(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var l=u.value;if(null!=l.next&&zc(t,l.match)){var f=Ic(n,l.next);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.next=n,f.code=f.code.replace("node_","next_sibling_"),f}}}catch(Ah){a=!0,s=Ah}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function Lc(e,t){return uu({code:e},t)}function qc(e){e.value.selection.isExpanded&&e.delete()}var Kc={};Kc.addMark=function(e,t){t=mu.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var i=o.marks.add(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).add(t),u=o.set("marks",s);e.select(u)}},Kc.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})},Kc.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},Kc.deleteBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteBackwardAtRange(n,t)},Kc.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharBackwardAtRange(t)},Kc.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineBackwardAtRange(t)},Kc.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordBackwardAtRange(t)},Kc.deleteForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteForwardAtRange(n,t)},Kc.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharForwardAtRange(t)},Kc.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineForwardAtRange(t)},Kc.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordForwardAtRange(t)},Kc.insertBlock=function(e,t){qc(e),t=Tu.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},Kc.insertFragment=function(e,t){if(t.nodes.size){qc(e);var n=e.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,u=n,c=u.startText,l=u.endText,f=u.startInline,d=t.getLastText(),v=t.getClosestInline(d.key),h=t.getClosestBlock(d.key),p=t.nodes.first(),y=t.nodes.last(),m=o.getTexts().map(function(e){return e.key}),g=!f||a.isAtStartOfNode(c)||s.isAtStartOfNode(c)||a.isAtEndOfNode(l)||s.isAtEndOfNode(l),k=p.hasBlockChildren()||y.hasBlockChildren();e.insertFragmentAtRange(i,t);var _=(o=(n=e.value).document).getTexts().filter(function(e){return!m.includes(e.key)}),b=g?_.last():_.takeLast(2).first();b&&(v||k)?e.moveToEndOfNode(b):b&&e.moveToStartOfNode(b).moveForward(h.text.length)}},Kc.insertInline=function(e,t){qc(e),t=yu.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},Kc.insertText=function(e,t,n){qc(e);var r=e.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),e.insertTextAtRange(i,t,n),i.marks&&o!=e.value.document&&e.select({marks:null})},Kc.removeMark=function(e,t){t=mu.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var i=o.marks.remove(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(t),u=o.set("marks",s);e.select(u)}},Kc.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},Kc.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},Kc.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},Kc.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;qc(e);var n=e.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),i&&0!==i.size&&e.select({marks:i})},Kc.splitInline=function(e,t){qc(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},Kc.toggleMark=function(e,t){t=mu.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},Kc.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},Kc.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},Kc.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},Kc.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},Kc.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value.selection;e.wrapTextAtRange(r,t,n),r.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),r.isForward!=e.value.selection.isForward&&e.flip()};var Uc=Kr("slate:editor"),Jc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};au(this,e);var r=n.controller,o=void 0===r?this:r,i=n.construct,a=void 0===i||i,s=t.onChange,u=void 0===s?function(){}:s,c=t.plugins,l=void 0===c?[]:c,f=t.readOnly,d=void 0!==f&&f,v=t.value,h=void 0===v?Wu.create():v;this.controller=o,this.middleware={},this.onChange=u,this.operations=vn(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0},function e(t,n){if(Array.isArray(n))return void n.forEach(function(n){return e(t,n)});var r=n.commands,o=n.queries,i=n.schema,a=lu(n,["commands","queries","schema"]);if(r){var s=ec(r);e(t,s)}if(o){var u=Fc(o);e(t,u)}if(i){var c=Pc(i);e(t,c)}for(var l in a){var f=a[l],d=t.middleware[l]=t.middleware[l]||[];d.push(f)}}(this,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=ec(uu({},vc,pc,wc,xc,Bc,Kc)),r=Fc({isAtomic:function(){return!1},isVoid:function(){return!1}});return[Pc({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,Su.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=Su.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}e.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,i=Su.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}e.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_object_invalid"===n&&e.mergeNodeByKey(r.key)}}]})].concat(vu(t),[n,r])}({plugins:l})),a&&(this.run("onConstruct"),this.setReadOnly(d),this.setValue(h,n))}return su(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.controller,o=this.value;y(e)&&(e=uu({},e,{value:o})),e=Qu.create(e),this.withoutNormalizing(function(){r.save(e),o=t.value}),Uc("apply",{operation:e}),this.value=e.apply(o),this.operations=n.push(e);var i=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=Mu.getAncestors(r).toArray();return[].concat(vu(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map(function(e){return r.concat(e)}),u=Mu.getAncestors(r).toArray();return[].concat(vu(u),[r],vu(s));case"split_node":var c=Mu.getAncestors(r).toArray(),l=Mu.increment(r);return[].concat(vu(c),[r,l]);case"merge_node":var f=Mu.getAncestors(r).toArray(),d=Mu.decrement(r);return[].concat(vu(f),[d]);case"move_node":var v=Mu.lift(r),h=Mu.lift(o);if(Mu.isEqual(r,o))return[];Mu.isSibling(r,o)||(h.size&&Mu.isYounger(r,o)&&(h=Mu.decrement(h,1,r.size-1)),v.size&&Mu.isYounger(o,r)&&(v=Mu.increment(v,1,o.size-1)));var p=Mu.getAncestors(v).toArray(),y=Mu.getAncestors(h).toArray();return[].concat(vu(p),[v],vu(y),[h]);case"remove_node":var m=Mu.getAncestors(r).toArray();return[].concat(vu(m));default:return[]}}(e),a=this.tmp.dirty.reduce(function(t,n){n=Mu.create(n);var r=Mu.transform(n,e);return t=t.concat(r.toArray())},i);return this.tmp.dirty=a,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return t.flush()})),r}},{key:"flush",value:function(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,r={value:e,operations:t};return this.operations=vn(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof e)return e.apply(void 0,[o].concat(n)),Vc(this),o;Uc("command",{type:e,args:n});var i={type:e,args:n};return this.run("onCommand",i),Vc(this),o}},{key:"hasCommand",value:function(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(Mu.create);this.tmp.dirty=this.tmp.dirty.concat(o),Vc(this);var i=e.selection;return n=e.document,i.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof e)return e.apply(void 0,[o].concat(n));Uc("query",{type:e,args:n});var i={type:e,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;Cr(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;Cr(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware[e]||[],a=0;function s(){var e=i[a++];if(e){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];return r.length&&(n=r),e.apply(void 0,vu(n).concat([o,s]))}}return Object.defineProperty(s,"change",{get:function(){Cr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"onChange",{get:function(){Cr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"props",{get:function(){Cr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"schema",{get:function(){Cr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"stack",{get:function(){Cr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),s()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).normalize,n=void 0===t?e!==this.value:t;return this.value=e,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,Vc(this),t}},{key:"change",value:function(e){Sr(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(e){Sr(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(e){var t=this;return Sr(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach(function(e){return t.applyOperation(e)}),this.controller}},{key:"setOperationFlag",value:function(e,t){return Sr(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sr(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return Sr(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return Sr(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function(){return Sr(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),e}();function Vc(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing(function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();Wc(e,t)}})}function Wc(e,t){for(var n=e.controller,r=e.value,o=r.document,i=o.assertNode(t),a=0,s=100+("text"===i.object?1:i.nodes.size);i;){var u=i.normalize(n);if(!u)break;u(n),o=(r=e.value).document;var c=i.key,l=o.getDescendant(t);if(l&&l.key===c)i=l;else{if(!(l=o.getDescendant(c)))break;i=l,t=o.getPath(c)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function Hc(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=!0,c=!1,l=void 0;try{for(var f,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var v=f.value;if(!s.hasOwnProperty(v)){var h=Object.getOwnPropertyDescriptor(e,v);Object.defineProperty(s,v,h)}}}catch(Ah){c=!0,l=Ah}finally{try{!u&&d.return&&d.return()}finally{if(c)throw l}}var p=!0,y=!1,m=void 0;try{for(var g,k=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(p=(g=k.next()).done);p=!0){var _=g.value;if(!s.prototype.hasOwnProperty(_)){h=Object.getOwnPropertyDescriptor(e.prototype,_);Object.defineProperty(s.prototype,_,h)}}}catch(Ah){y=!0,m=Ah}finally{try{!p&&k.return&&k.return()}finally{if(y)throw m}}}}catch(Ah){r=!0,o=Ah}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function $c(e){var t=Ku[e],n="is"+(""+e.charAt(0).toUpperCase()+e.slice(1)),r=function(){function t(){au(this,t)}return su(t,[{key:"object",get:function(){return e}}]),t}();return r[n]=Uu.bind(null,e),r.prototype[t]=!0,r}Hc($c("block"),[Tu]),Hc($c("change"),[Zu]),Hc($c("decoration"),[qu]),Hc($c("document"),[pu]),Hc($c("editor"),[Jc]),Hc($c("inline"),[yu]),Hc($c("leaf"),[gu]),Hc($c("mark"),[mu]),Hc($c("node"),[Nu]),Hc($c("operation"),[Qu]),Hc($c("point"),[Lu]),Hc($c("range"),[Ju]),Hc($c("selection"),[Vu]),Hc($c("text"),[Su]),Hc($c("value"),[Wu]),Hc(function(){function e(){au(this,e)}return su(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[Tu,qu,pu,yu,gu,mu,Nu,Qu,Lu,Ju,Vu,Su,Wu]);var Yc=function(){function e(){au(this,e)}return su(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find(function(t){return"text"===t.object||!!(e=t.getFirstText())});return e||t}},{key:"getKeysToPathsTable",value:function(){var e,t,n,r=(e={},t=this.key,n=[],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return this.nodes&&this.nodes.forEach(function(e,t){var n=e.getKeysToPathsTable();for(var o in n){var i=n[o];Sr(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[t].concat(vu(i))}}),r}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast(function(t){return"text"==t.object||(e=t.getLastText())});return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(vn.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?vn(t):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce(function(e,t){return e+t.text},"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=ou.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"===typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=Mu.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),e}();Eu(Yc.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),Hc(Yc,[Tu,pu,yu,Su]);var Gc=function(){function e(){au(this,e)}return su(e,[{key:"addMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.addMark(t,n,r),this.replaceNode(e,o)}},{key:"createDecoration",value:function(e){return e=qu.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function(e){return e=Lu.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=Ju.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=Vu.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function(e){var t=[];return this.forEachDescendant(function(n,r,o){e(n,r,o)&&t.push(n)}),vn(t)}},{key:"findDescendant",value:function(e){var t=null;return this.forEachDescendant(function(n,r,o){if(e(n,r,o))return t=n,!1}),t}},{key:"forEachDescendant",value:function(e){var t=void 0;return this.nodes.forEach(function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!=n.object?t=n.forEachDescendant(e):void 0}),t}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Jn();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.key,t.offset).toSet()}var n=e,r=n.start,o=n.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=this.getDescendant(i);if(i!==s){for(;i!==s&&0===u;){var l=this.getPreviousText(s);s=l.key,u=l.text.length}for(;i!==s&&a===c.text.length;)i=(c=this.getNextText(i)).key,a=0}if(i===s)return c.getActiveMarksBetweenOffsets(a,u);var f=c.getActiveMarksBetweenOffsets(a,c.text.length);if(0===f.size)return Jn();var d=this.getDescendant(s).getActiveMarksBetweenOffsets(0,u),v=f.intersect(d);if(0===v.size)return v;for(var h=this.getNextText(i);h.key!==s;){if(0!==h.text.length&&0===(v=v.intersect(h.getActiveMarks())).size)return Jn();h=this.getNextText(h.key)}return v}},{key:"getAncestors",value:function(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach(function(r,o){var i=e.slice(0,o),a=t.getNode(i);n.push(a)}),vn(n)}},{key:"getBlocks",value:function(){var e=this.getBlocksAsArray();return vn(e)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce(function(e,t){return"block"!=t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())},[])}},{key:"getBlocksAtRange",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getBlocksByType",value:function(e){var t=this.getBlocksByTypeAsArray(e);return vn(t)}},{key:"getBlocksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"block"!=n.object?t:n.isLeafBlock()&&n.type==e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))},[])}},{key:"getChild",value:function(e){return(e=this.resolvePath(e))&&1===e.size?this.nodes.get(e.first()):null}},{key:"getClosest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))})||null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,function(e){return"block"===e.object})}},{key:"getClosestInline",value:function(e){return this.getClosest(e,function(e){return"inline"===e.object})}},{key:"getClosestVoid",value:function(e,t){Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast(function(e){return t.query("isVoid",e)}):null}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=Mu.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){Cr(!Wu.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this);return qu.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=this.resolvePath(e))&&this.getNode(e)?e.size-1+t:null}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e)))return null;var t=e.flatMap(function(e){return["nodes",e]});return this.getIn(t)}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return pu.create();for(var t=e,n=t.start,r=t.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var u=i.last();o=o.splitNode(i,a),a=u+1,(i=Mu.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var c=n.path.first()+1,l=r.path.first()+2,f=o.nodes.slice(c,l);return pu.create({nodes:f})}},{key:"getFurthest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.find(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))})||null}},{key:"getFurthestAncestor",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,function(e){return"block"===e.object})}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,function(e){return"inline"===e.object})}},{key:"getFurthestOnlyChildAncestor",value:function(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil(function(e){return e.nodes.size>1}).last()||null}},{key:"getInlines",value:function(){var e=this.getInlinesAsArray();return vn(e)}},{key:"getInlinesAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"!=t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))}),e}},{key:"getInlinesAtRange",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getInlinesByType",value:function(e){var t=this.getInlinesByTypeAsArray(e);return vn(t)}},{key:"getInlinesByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"==n.object?t:n.isLeafInline()&&n.type==e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))},[])}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Jn():e.isCollapsed?this.getMarksAtPosition(t.key,t.offset):this.getDescendant(t.key).getMarksAtIndex(t.offset+1)}},{key:"getLeafBlocksAtRange",value:function(e){var t=this.getLeafBlocksAtRangeAsArray(e);return vn(vr(t))}},{key:"getLeafBlocksAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end,o=this.getClosestBlock(n.key);if(n.key===r.key)return[o];var i=this.getClosestBlock(r.key),a=this.getBlocksAsArray(),s=a.indexOf(o),u=a.indexOf(i);return a.slice(s,u+1)}},{key:"getLeafInlinesAtRange",value:function(e){var t=this.getLeafInlinesAtRangeAsArray(e);return vn(vr(t))}},{key:"getLeafInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map(function(e){return t.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return Jn(e)}},{key:"getMarksAsArray",value:function(){var e,t=[];return this.nodes.forEach(function(e){t.push(e.getMarksAsArray())}),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function(e,t){var n=this.getDescendant(e).getMarksAtIndex(t);if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousText(e);return o?r.hasDescendant(o.key)?o.getMarksAtIndex(o.text.length):n:Jn()}},{key:"getMarksAtRange",value:function(e){return Jn(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Jn(t)}},{key:"getMarksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"==n.object?t.concat(n.getMarksAsArray().filter(function(t){return t.type==e})):t.concat(n.getMarksByTypeAsArray(e))},[])}},{key:"getNextBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getLastText():n=this.getClosestBlock(e).getLastText();var r=this.getNextText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getNextNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=Mu.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=Mu.increment(e);return this.getNode(t)}},{key:"getNextText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getNodesAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return vn();for(var t=e,n=t.start,r=t.end,o=jn(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map(function(e,t){return{node:e,onStartEdge:0===t,onEndEdge:t===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}})),i=[],a=function(){var e=o.peek(),t=e.node,n=e.onStartEdge,r=e.onEndEdge,a=e.relativeStartPath,s=e.relativeEndPath;if(o=o.shift(),i.push(t),"text"===t.object)return"continue";var u=n?a.get(0):0,c=r?s.get(0):t.nodes.size-1;o=o.pushAll(t.nodes.slice(u,c+1).map(function(e,t){return{node:e,onStartEdge:n&&0===t,onEndEdge:r&&t===c-u,relativeStartPath:n&&0===t?a.slice(1):null,relativeEndPath:r&&t===c-u?s.slice(1):null}}))};o.size>0;)a();return vn(i)}},{key:"getOffset",value:function(e){this.assertDescendant(e);var t=this.getFurthestAncestor(e),n=this.nodes.takeUntil(function(e){return e==t}).reduce(function(e,t){return e+t.text.length},0);return this.hasChild(e)?n:n+t.getOffset(e)}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.key)+t.offset}},{key:"getOrderedMarks",value:function(){var e=this.getMarksAsArray();return vr(e)}},{key:"getOrderedMarksAtRange",value:function(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?vr():e.isCollapsed?this.getMarksAtPosition(n.key,n.offset):this.getOrderedMarksBetweenPositions(n.key,n.offset,r.key,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,r){if(e===n)return this.getDescendant(e).getMarksBetweenOffsets(t,r);var o=this.getTextsBetweenPositionsAsArray(e,n);return vr().withMutations(function(i){o.forEach(function(o){o.key===e?i.union(o.getMarksBetweenOffsets(t,o.text.length)):o.key===n?i.union(o.getMarksBetweenOffsets(0,r)):i.union(o.getMarks())})})}},{key:"getOrderedMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return vr(t)}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=Mu.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getFirstText():n=this.getClosestBlock(e).getFirstText();var r=this.getPreviousText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getRootBlocksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return vn();var t=e,n=t.start,r=t.end,o=this.getFurthestBlock(n.key);if(n.key===r.key)return vn([o]);var i=this.getFurthestBlock(r.key),a=this.nodes.indexOf(o),s=this.nodes.indexOf(i);return this.nodes.slice(a,s+1)}},{key:"getRootInlinesAtRange",value:function(e){var t=this.getRootInlinesAtRangeAsArray(e);return vn(vr(t))}},{key:"getRootInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?vn():this.getTextsAtRangeAsArray(e).map(function(e){return t.getFurthestInline(e.key)}).filter(function(e){return e})}},{key:"getPreviousNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=Mu.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=Mu.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key==r.key){var o=this.getFurthestAncestor(n.key),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var a=null,s=null;return this.nodes.forEach(function(e,t){return"text"==e.object?(null==a&&e.key==n.key&&(a=t),null==s&&e.key==r.key&&(s=t+1)):(null==a&&e.hasDescendant(n.key)&&(a=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==a||null==s}),t&&null==a&&(a=0),t&&null==s&&(s=this.nodes.size),null==a?null:{start:a,end:s}}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find(function(n,r,o){return(t+=n.text.length)>e})}},{key:"getTextDirection",value:function(){var e=eu(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.getTextsAsArray();return vn(e)}},{key:"getTextsAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"==t.object?e.push(t):e=e.concat(t.getTextsAsArray())}),e}},{key:"getTextsAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return vn();var t=e,n=t.start,r=t.end;return vn(this.getTextsBetweenPositionsAsArray(n.key,r.key))}},{key:"getTextsAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPositionsAsArray(n.key,r.key)}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){var n=this.getDescendant(e);if(e==t)return[n];var r=this.getDescendant(t),o=this.getTextsAsArray(),i=o.indexOf(n),a=o.indexOf(r,i);return o.slice(i,a+1)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"block"===e.object}))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"inline"===e.object||"text"===e.object}))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=Mu.lift(e),o=this.assertNode(r),i=o.nodes.splice(n,0,t);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.insertText(t,n,r),this.replaceNode(e,o)}},{key:"isLeafBlock",value:function(){var e=this.object,t=this.nodes;if(!t.size)return!0;var n=t.first();return"block"===e&&"block"!==n.object}},{key:"isLeafInline",value:function(){var e=this.object,t=this.nodes;if(!t.size)return!0;var n=t.first();return"inline"===e&&"inline"!==n.object}},{key:"isNodeInRange",value:function(e,t){if(this.assertDescendant(e),e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=Mu.compare(e,t.start.path),r=t.start.key===t.end.key?n:Mu.compare(e,t.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var i=e(r,o,t.nodes);i!==r&&(n=n.set(i.key,i))}),this.set("nodes",n)}},{key:"mapDescendants",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(e)),(i=e(i,o,t.nodes))!==r&&(n=n.set(o,i))}),this.set("nodes",n)}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=Mu.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),i=this;return i=(i=(i=i.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=Mu.lift(t);this.assertNode(o);var i=Mu.crop(e,t),a=du(i,2),s=a[0],u=a[1],c=Mu.compare(s,u);e.size<t.size&&-1===c&&(t=Mu.decrement(t,1,s.size-1));var l=this;return l=(l=l.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.removeMark(t,n,r),this.replaceNode(e,o)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap(function(e){return["nodes",e]});return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap(function(e){return["nodes",e]});return this.setIn(n,t)}},{key:"resolveDecoration",value:function(e){return e=(e=qu.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=Lu.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=Ju.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=Vu.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n,r,o){var i=this.assertNode(e);return i=i.updateMark(t,n,r,o),this.replaceNode(e,i)}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(t),s=du(a,2);o=s[0],i=s[1]}else{var u=r.nodes.take(t),c=r.nodes.skip(t);o=r.set("nodes",u),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var l=this;return l=(l=(l=l.removeNode(e)).insertNode(e,i)).insertNode(e,o)}}]),e}(),Xc=function(e){Gc.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+e].apply(this,[t].concat(r));if(null==i)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return i}},Qc=!0,Zc=!1,el=void 0;try{for(var tl,nl=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Qc=(tl=nl.next()).done);Qc=!0){Xc(tl.value)}}catch(Ah){Zc=!0,el=Ah}finally{try{!Qc&&nl.return&&nl.return()}finally{if(Zc)throw el}}Eu(Gc.prototype,["getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray"]),Hc(Gc,[Tu,pu,yu]),Hc(function(){function e(){au(this,e)}return su(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints(function(t){return t.moveForward(e)})}},{key:"moveBackward",value:function(e){return this.updatePoints(function(t){return t.moveBackward(e)})}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints(function(n){return n.moveTo(e,t)})}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToEndOfNode(e)})}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)])}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToStartOfNode(e)})}},{key:"normalize",value:function(e){return this.updatePoints(function(t){return t.normalize(e)})}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=du(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=Ju.createProperties(e),n=t.anchor,r=t.focus,o=lu(t,["anchor","focus"]);return n&&(o.anchor=Lu.create(n)),r&&(o.focus=Lu.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}},{key:"toRange",value:function(){var e=Ju.createProperties(this);return Ju.create(e)}},{key:"unset",value:function(){return this.updatePoints(function(e){return e.unset()})}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:Mu.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[qu,Ju,Vu]);var rl=function e(t){if(il(t))return t;if(il(t.ownerDocument))return t.ownerDocument;if(il(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)},ol=9;function il(e){return e&&e.nodeType===ol}var al=!!document.attachEvent&&window!==document.parentWindow,sl=function(e){if(t=e,t&&t.window===t)return e;var t;var n=rl(e);if(al){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var r=n._parentWindow;return n._parentWindow=null,r}return n.defaultView||n.parentWindow};var ul=self.atob.bind(self),cl=self.btoa.bind(self);function ll(e){var t=JSON.stringify(e);return cl(encodeURIComponent(t))}function fl(e){var t=decodeURIComponent(ul(e));return JSON.parse(t)}var dl={deserialize:function(e,t){var n=fl(e);return Wu.fromJSON(n,t)},deserializeNode:function(e,t){var n=fl(e);return Nu.fromJSON(n,t)},serialize:function(e,t){return ll(e.toJSON(t))},serializeNode:function(e,t){return ll(e.toJSON(t))}},vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function hl(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter,n=void 0===t?"\n":t;return"document"==e.object||"block"==e.object&&Tu.isBlockList(e.nodes)?e.nodes.map(hl).join(n):e.text}var pl={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,r=void 0===n?"line":n,o=t.defaultMarks,i=void 0===o?[]:o,a=t.delimiter,s=void 0===a?"\n":a,u=t.toJSON,c=void 0!==u&&u;Jn.isSet(i)&&(i=i.toArray()),r=Nu.createProperties(r),i=i.map(mu.createProperties);var l={object:"value",document:{object:"document",data:{},nodes:e.split(s).map(function(e){return vl({},r,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:i}]}]})})}};return c?l:Wu.fromJSON(l)},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hl(e.document,t)}},yl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml="object"===("undefined"===typeof window?"undefined":yl(window))&&"object"===("undefined"===typeof document?"undefined":yl(document))&&9===document.nodeType,gl=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(Ah){o=!0,i=Ah}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kl=void 0;if(ml){var _l=!0,bl=!1,wl=void 0;try{for(var xl,Ol=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(_l=(xl=Ol.next()).done);_l=!0){var Al=gl(xl.value,2),El=Al[0];if(Al[1].test(window.navigator.userAgent)){kl=El;break}}}catch(Ah){bl=!0,wl=Ah}finally{try{!_l&&Ol.return&&Ol.return()}finally{if(bl)throw wl}}}var Sl=void 0;if(ml){var Nl=!0,Tl=!1,Cl=void 0;try{for(var Bl,Fl=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(Nl=(Bl=Fl.next()).done);Nl=!0){var jl=gl(Bl.value,2),Pl=jl[0];if(jl[1].test(window.navigator.userAgent)){Sl=Pl;break}}}catch(Ah){Tl=!0,Cl=Ah}finally{try{!Nl&&Fl.return&&Fl.return()}finally{if(Tl)throw Cl}}}var zl=[];if(ml){var Il=!0,Dl=!1,Rl=void 0;try{for(var Ml,Ll=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(Il=(Ml=Ll.next()).done);Il=!0){var ql=gl(Ml.value,2),Kl=ql[0];(0,ql[1])(window)&&zl.push(Kl)}}catch(Ah){Dl=!0,Rl=Ah}finally{try{!Il&&Ll.return&&Ll.return()}finally{if(Dl)throw Rl}}}var Ul="firefox"===kl,Jl="safari"===kl,Vl="ie"===kl,Wl="edge"===kl,Hl="ios"===Sl,$l="macos"===Sl,Yl=zl.includes("inputeventslevel2"),Gl=1e3,Xl=60*Gl,Ql=60*Xl,Zl=24*Ql,ef=7*Zl,tf=365.25*Zl,nf=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*tf;case"weeks":case"week":case"w":return n*ef;case"days":case"day":case"d":return n*Zl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ql;case"minutes":case"minute":case"mins":case"min":case"m":return n*Xl;case"seconds":case"second":case"secs":case"sec":case"s":return n*Gl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=Zl)return rf(e,t,Zl,"day");if(t>=Ql)return rf(e,t,Ql,"hour");if(t>=Xl)return rf(e,t,Xl,"minute");if(t>=Gl)return rf(e,t,Gl,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Zl)return Math.round(e/Zl)+"d";if(t>=Ql)return Math.round(e/Ql)+"h";if(t>=Xl)return Math.round(e/Xl)+"m";if(t>=Gl)return Math.round(e/Gl)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rf(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var of,af=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var i;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a,s=Number(new Date),u=s-(i||s);o.diff=u,o.prev=i,o.curr=s,i=s,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"===typeof i){var a=t[c];e=i.call(o,a),t.splice(c,1),c--}return e}),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"===typeof n.init&&n.init(a),n.instances.push(a),a}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+("undefined"===typeof t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=nf,Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},sf=Fr(function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/react-richeditor-skeleton"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=af(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),uf=(sf.log,sf.formatArgs,sf.save,sf.load,sf.useColors,sf.storage,sf.colors,Fr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function s(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return u(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function u(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var s in r)o[r[s]]=!1;var u=!0,c=!1,d=void 0;try{for(var v,h=i[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var p=v.value,y=p.endsWith("?");y&&(p=p.slice(0,-1));var m=f(p),g=r[m];1!==a&&g||(n?o.key=m:o.which=l(p)),g&&(o[g]=!y||null)}}catch(Ah){c=!0,d=Ah}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function l(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o[e]||e}t.default=s,t.isHotkey=s,t.isCodeHotkey=function(e,t){return s(e,t)},t.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=l,t.toKeyName=f}));(of=uf)&&of.__esModule&&Object.prototype.hasOwnProperty.call(of,"default")&&of.default;uf.isHotkey,uf.isCodeHotkey;var cf=uf.isKeyHotkey,lf=(uf.parseHotkey,uf.compareHotkey,uf.toKeyCode,uf.toKeyName,{bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"}),ff={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},df={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},vf={},hf=Hl||$l,pf=!hf;function yf(e,t){function n(n,r,o,i,a){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}[].concat(Object.keys(lf)).concat(Object.keys(ff)).concat(Object.keys(df)).forEach(function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!vf[t]){var n=lf[e],r=ff[e],o=df[e],i=n&&cf(n),a=r&&cf(r),s=o&&cf(o);vf[t]=function(e){return!(!i||!i(e))||(!!(hf&&a&&a(e))||!!(pf&&s&&s(e)))}}});var mf={block:yf("Block",function(e){return Tu.isBlock(e)}),blocks:yf("List<Block>",function(e){return Tu.isBlockList(e)}),change:yf("Change",function(e){return Zu.isChange(e)}),data:yf("Data",function(e){return hu.isData(e)}),document:yf("Document",function(e){return pu.isDocument(e)}),inline:yf("Inline",function(e){return yu.isInline(e)}),inlines:yf("Inline",function(e){return yu.isInlineList(e)}),leaf:yf("Leaf",function(e){return gu.isLeaf(e)}),leaves:yf("List<Leaf>",function(e){return gu.isLeafList(e)}),mark:yf("Mark",function(e){return mu.isMark(e)}),marks:yf("Set<Mark>",function(e){return mu.isMarkSet(e)}),node:yf("Node",function(e){return Nu.isNode(e)}),nodes:yf("List<Node>",function(e){return Nu.isNodeList(e)}),range:yf("Range",function(e){return Ju.isRange(e)}),ranges:yf("List<Range>",function(e){return Ju.isRangeList(e)}),value:yf("Value",function(e){return Wu.isValue(e)}),text:yf("Text",function(e){return Su.isText(e)}),texts:yf("List<Text>",function(e){return Su.isTextList(e)})},gf="<<anonymous>>";function kf(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof Er.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function _f(e){function t(t,n,r,o,i,a){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return a=a||r,o=o||gf,null!=n[r]?e.apply(void 0,[n,r,o,i,a].concat(u)):t?new Error("Required "+i+" `"+a+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function bf(e,t){return _f(function(n,r,o,i,a){var s=n[r];if(!t(s)){var u=kf(s);return new Error("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function wf(e,t,n){return _f(function(r,o,i,a,s){for(var u=arguments.length,c=Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];var f=r[o];if(!n(f)){var d=a,v=kf(f);return new Error("Invalid "+d+" `"+s+"` of type `"+v+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!==typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+s+"`, expected a function.");for(var h=f.toArray(),p=0,y=h.length;p<y;p++){var m=e.apply(void 0,[h,p,i,a,s+"["+p+"]"].concat(c));if(m instanceof Error)return m}})}function xf(e,t,n,r){return _f(function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return wf(e,n,r).apply(void 0,i)||t&&(s=t,_f(function(e,t,n,r,o){for(var i=arguments.length,a=Array(i>5?i-5:0),u=5;u<i;u++)a[u-5]=arguments[u];var c=e[t];if("function"!==typeof s)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var l=c.keySeq().toArray(),f=0,d=l.length;f<d;f++){var v=s.apply(void 0,[l,f,n,r,o+" -> key("+l[f]+")"].concat(a));if(v instanceof Error)return v}})).apply(void 0,i);var s})}function Of(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?Er.Iterable.isIterable:arguments[2];return _f(function(r,o,i,a,s){for(var u=arguments.length,c=Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];var f=r[o];if(!n(f)){var d=kf(f);return new Error("Invalid "+a+" `"+s+"` of type `"+d+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var v=f.toObject();for(var h in e){var p=e[h];if(p){var y=p.apply(void 0,[v,h,i,a,s+"."+h].concat(c));if(y)return y}}})}function Af(e){return Of(e)}var Ef={listOf:function(e){return wf(e,"List",Er.List.isList)},mapOf:function(e,t){return xf(e,t,"Map",Er.Map.isMap)},orderedMapOf:function(e,t){return xf(e,t,"OrderedMap",Er.OrderedMap.isOrderedMap)},setOf:function(e){return wf(e,"Set",Er.Set.isSet)},orderedSetOf:function(e){return wf(e,"OrderedSet",Er.OrderedSet.isOrderedSet)},stackOf:function(e){return wf(e,"Stack",Er.Stack.isStack)},iterableOf:function(e){return wf(e,"Iterable",Er.Iterable.isIterable)},recordOf:function(e){return _f(function(t,n,r,o,i){for(var a=arguments.length,s=Array(a>5?a-5:0),u=5;u<a;u++)s[u-5]=arguments[u];var c=t[n];if(!(c instanceof Er.Record)){var l=kf(c),f=o;return new Error("Invalid "+f+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected an Immutable.js Record.")}for(var d in e){var v=e[d];if(v){var h=c.toObject(),p=v.apply(void 0,[h,d,r,o,i+"."+d].concat(s));if(p)return p}}})},shape:Af,contains:Af,mapContains:function(e){return Of(e,"Map",Er.Map.isMap)},list:bf("List",Er.List.isList),map:bf("Map",Er.Map.isMap),orderedMap:bf("OrderedMap",Er.OrderedMap.isOrderedMap),set:bf("Set",Er.Set.isSet),orderedSet:bf("OrderedSet",Er.OrderedSet.isOrderedSet),stack:bf("Stack",Er.Stack.isStack),seq:bf("Seq",Er.Seq.isSeq),record:bf("Record",function(e){return e instanceof Er.Record}),iterable:bf("Iterable",Er.Iterable.isIterable)};var Sf=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,i=t.compareDocumentPosition(r);return!(4===i||0===i&&n<o)},Nf=function(){return Wr.Date.now()},Tf=NaN,Cf=/^\s+|\s+$/g,Bf=/^[-+]0x[0-9a-f]+$/i,Ff=/^0b[01]+$/i,jf=/^0o[0-7]+$/i,Pf=parseInt;var zf=function(e){if("number"==typeof e)return e;if(so(e))return Tf;if(fo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Cf,"");var n=Ff.test(e);return n||jf.test(e)?Pf(e.slice(2),n?2:8):Bf.test(e)?Tf:+e},If="Expected a function",Df=Math.max,Rf=Math.min;var Mf=function(e,t,n){var r,o,i,a,s,u,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(If);function v(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function h(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=i}function p(){var e=Nf();if(h(e))return y(e);s=setTimeout(p,function(e){var n=t-(e-u);return f?Rf(n,i-(e-c)):n}(e))}function y(e){return s=void 0,d&&r?v(e):(r=o=void 0,a)}function m(){var e=Nf(),n=h(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(p,t),l?v(e):a}(u);if(f)return s=setTimeout(p,t),v(u)}return void 0===s&&(s=setTimeout(p,t)),a}return t=zf(t)||0,fo(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Df(zf(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},m.flush=function(){return void 0===s?a:y(Nf())},m},Lf="Expected a function";var qf=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(Lf);return fo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Mf(e,t,{leading:r,maxWait:t,trailing:o})},Kf=function(e,t){return e===t};var Uf=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onPaste","onSelect"],Jf={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function Vf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Nu.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function Wf(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var Hf=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yf=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Gf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Qf=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Zf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(Ah){o=!0,i=Ah}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ed=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},td=/^([\w-]+)(?::(\d+))?$/;var nd={parse:function(e){var t=td.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=Zf(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},rd="data-slate-zero-width",od="["+rd+"]",id="data-offset-key",ad="["+id+"]",sd="[data-key]",ud="[data-slate-void]";function cd(e,t,n){Cr(!Wu.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1==e.nodeType&&e.childNodes.length){var n=t==e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=ld(e,o,r);1==e.nodeType&&e.childNodes.length;){var i=n?e.childNodes.length-1:0;e=ld(e,i,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),o=r.node,i=r.offset,a=sl(e),s=o.parentNode,u=s.closest(ad),c=void 0,l=void 0;if(u){var f=a.document.createRange(),d=u.closest(sd);f.setStart(d,0),f.setEnd(o,i),l=d,c=f.toString().length}else{var v=s.closest(ud);if(!v)return null;if(!(u=v.querySelector(ad)))return null;c=(l=u).textContent.length}c==l.textContent.length&&s.hasAttribute(rd)&&c--;var h=u.getAttribute(id);if(!h)return null;var p=nd.parse(h).key,y=n.value;return y.document.hasDescendant(p)?y.document.createPoint({key:p,offset:c}):null}function ld(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,s=!1;(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(s=!0,i=t+1,n="forward"):(o=r[i],"forward"==n&&i++,"backward"==n&&i--);return o||null}var fd=Jf.FRAGMENT,dd=Jf.HTML,vd=Jf.TEXT;function hd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=sl(e.target),o=r.getSelection(),i=t.value,a=i.document,s=i.fragment,u=i.selection,c=u.start,l=u.end,f=a.getClosestVoid(c.key,t),d=a.getClosestVoid(l.key,t);if(!o.isCollapsed||f){var v=dl.serializeNode(s),h=o.getRangeAt(0),p=h.cloneContents(),y=p.childNodes[0];if(p.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(y=e)}),d){var m=h.cloneRange(),g=Vf(d,r);m.setEndAfter(g),p=m.cloneContents()}if(f&&(y=p.childNodes[0].childNodes[1].firstChild),[].slice.call(p.querySelectorAll(od)).forEach(function(e){var t="n"===e.getAttribute(rd);e.textContent=t?"\n":""}),3==y.nodeType){var k=r.document.createElement("span");k.style.whiteSpace="pre",k.appendChild(y),p.appendChild(k),y=k}y.setAttribute("data-slate-fragment",v);var _=Wu.create({document:s}),b=pl.serialize(_),w=r.document.createElement("div");if(w.appendChild(p),e.clipboardData&&e.clipboardData.setData&&!Vl)return e.preventDefault(),e.clipboardData.setData(vd,b),e.clipboardData.setData(fd,v),e.clipboardData.setData(dd,w.innerHTML),void n();var x=e.target.closest("[data-slate-editor]");w.setAttribute("contenteditable",!0),w.style.position="absolute",w.style.left="-9999px",x.appendChild(w),o.selectAllChildren(w),r.requestAnimationFrame(function(){x.removeChild(w),Wf(o),o.addRange(h),n()})}}function pd(e,t){Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var r=n.getAttribute("data-key");return r&&t.value.document.getNode(r)||null}function yd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=Vf(e.key,t),r=0,o=void 0,i=t.document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},!1);o=i.nextNode();){var a=r+o.textContent.length;if(e.offset<=a){var s=e.offset-r;return{node:o,offset:s>=0?s:0}}r=a}return null}function md(e,t){Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=sl(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,i=o.anchorNode,a=o.anchorOffset,s=o.focusNode,u=o.focusOffset,c=o.isCollapsed,l=t.value,f=cd(i,a,t),d=c?f:cd(s,u,t);if(!f||!d)return null;if(Vl||Wl){var v=yd(f),h=yd(d);e={anchorNode:v.node,anchorOffset:v.offset,focusNode:h.node,focusOffset:h.offset}}return l.document.createRange({anchor:f,focus:d})}var gd=Jf.FRAGMENT,kd=Jf.HTML,_d=Jf.NODE,bd=Jf.RICH,wd=Jf.TEXT,xd=/ data-slate-fragment="([^\s"]+)"/;function Od(e){!Vl&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=Ad(t,gd),r=Ad(t,_d),o=Ad(t,kd),i=Ad(t,bd),a=Ad(t,wd),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var u=xd.exec(o),c=Zf(u,2),l=(c[0],c[1]);l&&(n=l)}if(a){var f=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(Ah){throw new Error("Unable to parse custom Slate drag event data.")}}(a);f[gd]&&(n=f[gd]),f[_d]&&(r=f[_d]),f[wd]&&(a=f[wd])}n&&(n=dl.deserializeNode(n)),r&&(r=dl.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"==e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(Ah){t.files&&t.files.length&&(s=Array.from(t.files))}var d={files:s,fragment:n,html:o,node:r,rich:i,text:a};return d.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(d),d}function Ad(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t==wd&&e.getData("Text")||null}var Ed=Jf.TEXT;var Sd=sf("slate:after");function Nd(){var e=null;return{onBeforeInput:function(e,t,n){var r=t.value;if(e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),i=Zf(o,1)[0];if(!i)return n();Sd("onBeforeInput",{event:e}),e.preventDefault();var a=r.document,s=r.selection,u=md(i,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(u);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(u);break;case"deleteWordForward":t.deleteWordForwardAtRange(u);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(u);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(u);break;case"insertLineBreak":case"insertParagraph":a.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(u);break;case"insertFromYank":case"insertReplacementText":case"insertText":var c=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==c)break;t.insertTextAtRange(u,c,s.marks),s.marks&&r.document!=t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){Sd("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=pd(e.target,t);if(!o)return n();Sd("onClick",{event:e});var i=r.getAncestors(o.key);o&&(t.isVoid(o)||i.some(function(e){return t.isVoid(e)}))&&t.focus().moveToEndOfNode(o),n()},onCopy:function(e,t,n){Sd("onCopy",{event:e}),hd(e,t),n()},onCut:function(e,t,n){Sd("onCut",{event:e}),hd(e,t,function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,i=n&&t.isVoid(n)&&o,a=r&&t.isVoid(r)&&o;i?t.removeNodeByKey(n.key):a?t.removeNodeByKey(r.key):t.delete()}),n()},onDragEnd:function(t,n,r){Sd("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){Sd("onDragStart",{event:t}),e=!0;var o=n.value,i=o.document,a=pd(t.target,n),s=i.getAncestors(a.key),u=a&&(n.isVoid(a)||s.some(function(e){return n.isVoid(e)})),c=o.blocks.some(function(e){return e.key===a.key});u&&!c&&n.moveToRangeOfNode(a);var l=n.value.fragment;!function(e,t,n){var r=Jf[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(Ah){var i="SLATE-DATA-EMBED::",a=o.getData(Ed),s={};if(a.substring(0,i.length)===i)try{s=JSON.parse(a.substring(i.length))}catch(c){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[Ed]=a;s[r]=n;var u=""+i+JSON.stringify(s);o.setData(Ed,u)}}(t,"fragment",dl.serializeNode(l)),r()},onDrop:function(t,n,r){var o=n.value,i=o.document,a=o.selection,s=sl(t.target),u=function(e,t){Cr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.x,o=n.y,i=n.target;if(null==r||null==o)return null;var a=t.value.document,s=pd(i,t);if(!s)return null;if(t.query("isVoid",s)){var u=i.getBoundingClientRect(),c="inline"==s.object?r-u.left<u.left+u.width-r:o-u.top<u.top+u.height-o,l=s.getFirstText(),f=a.createRange();if(c){var d=a.getPreviousText(l.key);if(d)return f.moveToEndOfNode(d)}var v=a.getNextText(l.key);return v?f.moveToStartOfNode(v):null}var h=sl(i),p=void 0;if(h.document.caretRangeFromPoint)p=h.document.caretRangeFromPoint(r,o);else if(h.document.caretPositionFromPoint){var y=h.document.caretPositionFromPoint(r,o);(p=h.document.createRange()).setStart(y.offsetNode,y.offset),p.setEnd(y.offsetNode,y.offset)}else if(h.document.body.createTextRange){p=h.document.body.createTextRange();try{p.moveToPoint(r,o)}catch(g){return null}}var m=md(p,t);return m||null}(t,n);if(!u)return r();Sd("onDrop",{event:t});var c=Od(t),l=c.type,f=c.fragment,d=c.text;if(n.focus(),e&&a.end.key==u.end.key&&a.end.offset<u.end.offset&&(u=u.moveForward(a.start.key==a.end.key?0-a.end.offset+a.start.offset:0-a.end.offset)),e&&n.delete(),n.select(u),"text"==l||"html"==l){var v=u.anchor,h=i.hasVoidParent(v.key,n);if(h){for(var p=i.getNode(v.key);h&&(p=i.getNextText(p.key));)h=i.hasVoidParent(p.key,n);p&&n.moveToStartOfNode(p)}d&&d.split("\n").forEach(function(e,t){t>0&&n.splitBlock(),n.insertText(e)})}"fragment"==l&&n.insertFragment(f);var y=Vf(i.getNode(u.focus.key),s);y&&y.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:!0,cancelable:!0})),r()},onInput:function(e,t,n){var r=sl(e.target),o=t.value,i=r.getSelection().anchorNode,a=cd(i,0,t);if(!a)return n();var s=o.document,u=o.selection,c=s.getDescendant(a.key),l=s.getClosestBlock(c.key),f=c.getLeaves(),d=l.getLastText(),v=f.last(),h=0,p=0,y=f.find(function(e){if(h=p,(p+=e.text.length)>a.offset)return!0})||v,m=y.text,g=i.textContent,k=c==d,_=y==v,b=g.charAt(g.length-1);if(k&&_&&"\n"==b&&(g=g.slice(0,-1)),g==m)return n();Sd("onInput",{event:e});var w=g.length-m.length,x=u.moveToEnd().moveForward(w),O=u.moveAnchorTo(a.key,h).moveFocusTo(a.key,p);O=s.resolveRange(O),t.insertTextAtRange(O,g,y.marks).select(x),n()},onKeyDown:function(e,t,n){Sd("onKeyDown",{event:e});var r=t.value,o=r.document,i=r.selection,a=o.hasVoidParent(i.start.path,t);if(vf.isSplitBlock(e)&&!Hl)return a?t.moveToStartOfNextText():t.splitBlock();if(vf.isDeleteBackward(e)&&!Hl)return t.deleteCharBackward();if(vf.isDeleteForward(e)&&!Hl)return t.deleteCharForward();if(vf.isDeleteLineBackward(e))return t.deleteLineBackward();if(vf.isDeleteLineForward(e))return t.deleteLineForward();if(vf.isDeleteWordBackward(e))return t.deleteWordBackward();if(vf.isDeleteWordForward(e))return t.deleteWordForward();if(vf.isRedo(e))return t.redo();if(vf.isUndo(e))return t.undo();if(vf.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(vf.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(vf.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(vf.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(vf.isMoveBackward(e))return e.preventDefault(),i.isCollapsed?t.moveBackward():t.moveToStart();if(vf.isMoveForward(e))return e.preventDefault(),i.isCollapsed?t.moveForward():t.moveToEnd();if(vf.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(vf.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(vf.isExtendBackward(e)){var s=r.previousText,u=r.startText,c=s&&o.hasVoidParent(s.key,t);if(a||c||""==u.text)return e.preventDefault(),t.moveFocusBackward()}if(vf.isExtendForward(e)){var l=r.nextText,f=r.startText,d=l&&o.hasVoidParent(l.key,t);if(a||d||""==f.text)return e.preventDefault(),t.moveFocusForward()}n()},onPaste:function(e,t,n){Sd("onPaste",{event:e});var r=t.value,o=Od(e),i=o.type,a=o.fragment,s=o.text;if("fragment"==i&&t.insertFragment(a),"text"==i||"html"==i){if(!s)return n();var u=r.document,c=r.selection,l=r.startBlock;if(t.isVoid(l))return n();var f=l,d=u.getInsertMarksAtRange(c),v=pl.deserialize(s,{defaultBlock:f,defaultMarks:d}).document;t.insertFragment(v)}n()},onSelect:function(e,t,n){Sd("onSelect",{event:e});var r=sl(e.target),o=t.value,i=o.document,a=r.getSelection();if(a.rangeCount){var s=md(a,t);if(s){var u=s,c=u.anchor,l=u.focus,f=i.getNode(c.key),d=i.getNode(l.key),v=i.getClosestInline(c.key),h=i.getClosestInline(l.key),p=i.getClosestBlock(l.key),y=i.getClosestBlock(c.key);if(y&&!t.isVoid(y)&&0==c.offset&&p&&t.isVoid(p)&&0!=l.offset&&(s=s.setFocus(l.setOffset(0))),v&&!t.isVoid(v)&&c.offset==f.text.length){var m=i.getClosestBlock(c.key).getNextText(c.key);m&&(s=s.moveAnchorTo(m.key,0))}if(h&&!t.isVoid(h)&&l.offset==d.text.length){var g=i.getClosestBlock(l.key).getNextText(l.key);g&&(s=s.moveFocusTo(g.key,0))}var k=i.createSelection(s);k=(k=k.setIsFocused(!0)).set("marks",o.selection.marks),t.select(k),n()}}else t.blur()}}}var Td=sf("slate:before");function Cd(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=function(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&Yl||(Td("onBeforeInput",{event:e}),n())},onBlur:function(t,n,o){if(!r&&!n.readOnly){var a=t.relatedTarget,s=t.target,u=sl(s);if(e!==u.document.activeElement){if(a){var c=i.a.findDOMNode(n);if(a===c)return;if(a.hasAttribute("data-slate-spacer"))return;var l=pd(a,n);if(c.contains(a)&&l&&!n.isVoid(l))return}Td("onBlur",{event:t}),o()}}},onClick:function(e,t,n){Td("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var i=t;window.requestAnimationFrame(function(){t>i||(n=!1,r.state.isComposing&&r.setState({isComposing:!1}))}),Td("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.state.isComposing||r.setState({isComposing:!0}),r.value.selection.isCollapsed||r.delete(),Td("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=sl(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Td("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=sl(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Td("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,Td("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){Td("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){Td("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){Td("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=pd(e.target,t);t.isVoid(r)&&e.preventDefault(),Vl&&e.preventDefault(),o||(o=!0,Vl||(e.nativeEvent.dataTransfer.dropEffect="move")),Td("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,Td("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),Td("onDrop",{event:e}),n())},onFocus:function(t,n,o){if(!r&&!n.readOnly){var a=i.a.findDOMNode(n),s=sl(t.target);e=s.document.activeElement,Ul&&t.target!=a?a.focus():(Td("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(Td("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?vf.isCompose(e)&&e.preventDefault():(!Hl&&(vf.isBold(e)||vf.isDeleteBackward(e)||vf.isDeleteForward(e)||vf.isDeleteLineBackward(e)||vf.isDeleteLineForward(e)||vf.isDeleteWordBackward(e)||vf.isDeleteWordForward(e)||vf.isItalic(e)||vf.isRedo(e)||vf.isSplitBlock(e)||vf.isTransposeCharacter(e)||vf.isUndo(e))&&e.preventDefault(),Td("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),Td("onPaste",{event:e}),n())},onSelect:function(t,o,i){if(!r&&!n&&!o.readOnly){var a=sl(t.target);e=a.document.activeElement,Td("onSelect",{event:t}),i()}}}}(),r=Nd();return[n].concat(ed(t),[r])}var Bd=sf("slate:leaves"),Fd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),jd.call(r),Qf(r,n)}return Xf(t,e),$f(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!=this.props.index||e.marks!=this.props.marks||e.text!=this.props.text||e.parent!=this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=nd.stringify({key:t.key,index:n});return s.a.createElement("span",{"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,i=e.editor,a=this.renderText(),s={"data-slate-leaf":!0};return t.reduce(function(e,a){var u={editor:i,mark:a,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return i.run("renderMark",u)||e},a)}},{key:"renderText",value:function(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,i=e.text,a=e.index,u=e.leaves;if(r.query("isVoid",o))return s.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");if(""===i&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return s.a.createElement("span",{"data-slate-zero-width":"n"},"\ufeff",s.a.createElement("br",null));if(""===i)return s.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");var c=t.getLastText(),l=i.charAt(i.length-1),f=n===c,d=a===u.size-1;return f&&d&&"\n"===l?i+"\n":i}}]),t}(s.a.Component);Fd.propTypes={block:mf.block.isRequired,editor:c.a.object.isRequired,index:c.a.number.isRequired,leaves:mf.leaves.isRequired,marks:mf.marks.isRequired,node:mf.node.isRequired,offset:c.a.number.isRequired,parent:mf.node.isRequired,text:c.a.string.isRequired};var jd=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Bd.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},Pd=sf("slate:node"),zd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Id.call(r),Qf(r,n)}return Xf(t,e),$f(t,[{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,r=t.editor,o=t.node,i=t.style,a=r.value.document,u=o.key,c=n.filter(function(e){var t=e.start,n=e.end;if(t.key===u||n.key===u)return!0;if(t.key===n.key)return!1;var r=a.assertPath(u);return-1!==Mu.compare(r,t.path)&&1!==Mu.compare(r,n.path)}),l=0===c.size?o.getLeaves():o.getLeaves(c),f=0,d=l.map(function(t,n){var r=e.renderLeaf(l,t,n,f);return f+=t.text.length,r});return s.a.createElement("span",{"data-key":u,style:i},d)}}]),t}(s.a.Component);zd.propTypes={block:mf.block,decorations:Ef.list.isRequired,editor:c.a.object.isRequired,node:mf.node.isRequired,parent:mf.node.isRequired,style:c.a.object},zd.defaultProps={style:null};var Id=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node.key;Pd.apply(void 0,[t,i+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!=r.node)return!0;if("block"==n.parent.object){var o=r.parent.nodes.last(),i=n.parent.nodes.last();if(r.node==o&&n.node!=i)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var i=e.props,a=i.block,u=i.node,c=i.parent,l=i.editor,f=n.text,d=n.marks;return s.a.createElement(Fd,{key:u.key+"-"+r,block:a,editor:l,index:r,marks:d,node:u,offset:o,parent:c,leaves:t,text:f})}},Dd=sf("slate:void"),Rd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Md.call(r),Qf(r,n)}return Xf(t,e),$f(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"==n.object?"div":"span",i=s.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),a=s.a.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),s.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!=n.object)&&null},r?null:i,a)}}]),t}(s.a.Component);Rd.propTypes={block:mf.block,children:c.a.any.isRequired,editor:c.a.object.isRequired,node:mf.node.isRequired,parent:mf.node.isRequired,readOnly:c.a.bool.isRequired};var Md=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key+" ("+i.type+")";Dd.apply(void 0,[t,""+a].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,i=t.readOnly,a=t.editor,u=o.getFirstText();return s.a.createElement(zd,{block:"block"==o.object?o:n,decorations:r,editor:a,key:u.key,node:u,parent:o,readOnly:i})}};function Ld(e,t){var n=Jn().asMutable(),r=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var n=Yf({},e.key,0),r=1;e.forEachDescendant(function(e){n[e.key]=r,r+=1});var o=e.nodes.toArray(),i=o.map(function(e,t){return{child:e,index:t,order:n[e.key]}});return t.forEach(function(e){var t=n[e.start.key],a=void 0===t?0:function(e,t,n){var r=e.findIndex(function(e){return n<t[e.key]});if(r<=0)return 0;var o=e[r-1];return t[o.key]}(o,n,t);i.push({isRangeStart:!0,order:a-.5,decoration:e});var s=(n[e.end.key]||r)+.5;i.push({isRangeEnd:!0,order:s,decoration:e})}),i.sort(function(e,t){return e.order>t.order?1:-1})}(e,t).forEach(function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())}),r}var qd=sf("slate:node"),Kd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Ud.call(r),Qf(r,n)}return Xf(t,e),$f(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;Sr(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!=o.readOnly||(r.node!=o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,i=t.node,a=t.decorations,u=t.parent,c=t.readOnly,l=n.value.selection,f=i.getSelectionIndexes(l,r),d=a.concat(i.getDecorations(n)),v=Ld(i,d),h=[];i.nodes.forEach(function(t,n){var r=!!f&&f.start<=n&&n<f.end;h.push(e.renderNode(t,r,v[n]))});var p={"data-key":i.key};"block"==i.object&&"block"!=i.nodes.first().object&&("rtl"==i.getTextDirection()&&(p.dir="rtl"));var y={key:i.key,editor:n,isFocused:o,isSelected:r,node:i,parent:u,readOnly:c},m=n.run("renderPlaceholder",y);m&&(m=s.a.cloneElement(m,{key:i.key+"-placeholder"}),h=[m].concat(ed(h)));var g=n.run("renderNode",Gf({},y,{attributes:p,children:h}));return n.query("isVoid",i)?s.a.createElement(Rd,this.props,g):g}}]),t}(s.a.Component);Kd.propTypes={block:mf.block,decorations:Ef.list.isRequired,editor:c.a.object.isRequired,isFocused:c.a.bool.isRequired,isSelected:c.a.bool.isRequired,node:mf.node.isRequired,parent:mf.node.isRequired,readOnly:c.a.bool.isRequired};var Ud=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type;qd.apply(void 0,[t,a+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,i=o.block,a=o.editor,u=o.node,c=o.readOnly,l=o.isFocused,f="text"==t.object?zd:Kd;return s.a.createElement(f,{block:"block"==u.object?u:i,decorations:r,editor:a,isSelected:n,isFocused:l&&n,key:t.key,node:t,parent:u,readOnly:c})}};function Jd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,i=e.isCollapsed,a=yd(n,t),s=i?a:yd(r,t);if(!a||!s)return null;var u=t.document.createRange(),c=o?s:a,l=o?a:s;return u.setStart(c.node,c.offset),u.setEnd(l.node,l.offset),u}var Vd=["auto","overlay","scroll"],Wd=Hl&&!!window.navigator.userAgent.match(/os 11_/i);function Hd(e){if(!Wd&&e.anchorNode){var t=sl(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(Vd.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n==t.document.body||n==t.document.documentElement,o=Sf(e),i=e.getRangeAt(0).cloneRange();i.collapse(o);var a=i.getBoundingClientRect();Jl&&i.collapsed&&0==a.top&&0==a.height&&(0==i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0==(a=i.getBoundingClientRect()).top&&0==a.height&&i.getClientRects().length&&(a=i.getClientRects()[0]));var s=void 0,u=void 0,c=void 0,l=void 0,f=0,d=0,v=0,h=0,p=0,y=0,m=0,g=0;if(r){s=t.innerWidth,u=t.innerHeight,c=t.pageYOffset,l=t.pageXOffset}else{var k=n.offsetWidth,_=n.offsetHeight,b=n.scrollTop,w=n.scrollLeft,x=t.getComputedStyle(n),O=x.borderTopWidth,A=x.borderBottomWidth,E=x.borderLeftWidth,S=x.borderRightWidth,N=x.paddingTop,T=x.paddingBottom,C=x.paddingLeft,B=x.paddingRight,F=n.getBoundingClientRect();s=k,u=_,f=F.top+parseInt(O,10),d=F.left+parseInt(E,10),v=parseInt(O,10)+parseInt(A,10),h=parseInt(E,10)+parseInt(S,10),p=parseInt(N,10),y=parseInt(T,10),m=parseInt(C,10),g=parseInt(B,10),c=b,l=w}var j=a.top+c-f,P=a.left+l-d,z=l,I=c;P<l?z=P-m:P+a.width+h>l+s&&(z=P+h+g-s),j<c?I=j-p:j+a.height+v>c+u&&(I=j+v+y+a.height-u),r?t.scrollTo(z,I):(n.scrollTop=I,n.scrollLeft=z)}}var $d=/Permission denied to access property "nodeType"/,Yd=sf("slate:content"),Gd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.tmp={isUpdatingSelection:!1},r.handlers=Uf.reduce(function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e},{}),r.updateSelection=function(){var e=r.props.editor.value.selection,t=e.isBackward,n=sl(r.element),o=n.getSelection();if(o){var i=o.rangeCount,a=o.anchorNode;if(i||!e.isBlurred){if(e.isBlurred){if(!r.isInEditor(a))return;return Wf(o),r.element.blur(),void Yd("updateSelection",{selection:e,native:o})}if(!e.isUnset){var s=!!i&&o.getRangeAt(0),u=Jd(e,n);if(u){var c=u.startContainer,l=u.startOffset,f=u.endContainer,d=u.endOffset;s&&(c==s.startContainer&&l==s.startOffset&&f==s.endContainer&&d==s.endOffset||c==s.endContainer&&l==s.endOffset&&f==s.startContainer&&d==s.startOffset)||(r.tmp.isUpdatingSelection=!0,Wf(o),o.setBaseAndExtent?t?o.setBaseAndExtent(u.endContainer,u.endOffset,u.startContainer,u.startOffset):o.setBaseAndExtent(u.startContainer,u.startOffset,u.endContainer,u.endOffset):o.addRange(u),Hd(o),setTimeout(function(){Ul&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1}),Yd("updateSelection",{selection:e,native:o}))}else Sr(!1,"Unable to find a native DOM range from the current selection.")}}}},r.ref=function(e){r.element=e},r.isInEditor=function(e){var t=r.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(Ah){if(Ul&&$d.test(Ah.message))return!1;throw Ah}return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)},r.onNativeSelectionChange=qf(function(e){r.props.readOnly||sl(e.target).document.activeElement===r.element&&r.props.onEvent("onSelect",e)},100),r.renderNode=function(e,t,n){var o=r.props,i=o.editor,a=o.readOnly,u=i.value,c=u.document,l=u.selection.isFocused;return s.a.createElement(Kd,{block:null,editor:i,decorations:n,isSelected:t,isFocused:l&&t,key:e.key,node:e,parent:c,readOnly:a})},Qf(r,n)}return Xf(t,e),$f(t,[{key:"componentDidMount",value:function(){sl(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),Yl&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=sl(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),Yl&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){this.updateSelection()}},{key:"onEvent",value:function(e,t){if(Yd("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!=e&&"onBlur"!=e&&"onFocus"!=e){if("onSelect"==e){var n=this.props.editor,r=n.value.selection,o=md(sl(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"==e||"onDragEnter"==e||"onDragExit"==e||"onDragLeave"==e||"onDragOver"==e||"onDragStart"==e||"onDrop"==e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!=e&&"onBlur"!=e&&"onCompositionEnd"!=e&&"onCompositionStart"!=e&&"onCopy"!=e&&"onCut"!=e&&"onFocus"!=e&&"onInput"!=e&&"onKeyDown"!=e&&"onKeyUp"!=e&&"onPaste"!=e&&"onSelect"!=e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=this.handlers,r=t.className,o=t.readOnly,i=t.editor,a=t.tabIndex,u=t.role,c=t.tagName,l=t.spellCheck,f=i.value,d=c,v=f.document,h=f.selection,p=f.decorations,y=v.getSelectionIndexes(h),m=v.getDecorations(i).concat(p),g=Ld(v,m),k=v.nodes.toArray().map(function(t,n){var r=!!y&&y.start<=n&&n<y.end;return e.renderNode(t,r,g[n])}),_=Gf({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},o?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return Yd("render",{props:t}),s.a.createElement(d,Gf({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":v.key,contentEditable:!o||null,suppressContentEditableWarning:!0,className:r,autoCorrect:t.autoCorrect?"on":"off",spellCheck:l,style:_,role:o?null:u||"textbox",tabIndex:a,"data-gramm":!1}),k)}}]),t}(s.a.Component);Gd.propTypes={autoCorrect:c.a.bool.isRequired,className:c.a.string,editor:c.a.object.isRequired,readOnly:c.a.bool.isRequired,role:c.a.string,spellCheck:c.a.bool.isRequired,style:c.a.object,tabIndex:c.a.number,tagName:c.a.string},Gd.defaultProps={style:{},tagName:"div"};var Xd=[].concat(ed(Uf),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","renderPlaceholder","schema"]);var Qd=sf("slate:editor"),Zd=function(e){function t(){var e,n,r;Hf(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Qf(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={},r.tmp={mounted:!1,change:null,resolves:0,updates:0},r.resolveController=function(e,t){var n;void 0===t&&(t=Kf);var r,o=[],i=!1,a=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return i&&n===this&&s.length===o.length&&s.every(a)?r:(r=e.apply(this,s),i=!0,n=this,o=s,r)}}(function(){Sr(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands` or `queries` on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t;return[Cd({plugins:[Xd.reduce(function(t,n){return n in e&&(t[n]=e[n]),t},{})].concat(ed(n))}),{renderEditor:function(e,t,n){return s.a.createElement(Gd,{autoCorrect:e.autoCorrect,className:e.className,editor:t,onEvent:function(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})},renderNode:function(e,t,n){var r=e.attributes,o=e.children,i=e.node.object;if("block"!=i&&"inline"!=i)return null;var a="block"==i?"div":"span";return s.a.createElement(a,Gf({},r,{style:{position:"relative"}}),o)},renderPlaceholder:function(e,t,n){var r=e.node;return t.props.placeholder?t.state.isComposing?null:"block"!=r.object?null:Su.isTextList(r.nodes)?""!=r.text?null:t.value.document.getBlocks().size>1?null:s.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.props.placeholder):null:null}}]}(r.props);r.controller=new Jc({plugins:[e],onChange:function(e){r.tmp.mounted?r.props.onChange(e):r.tmp.change=e}},{controller:r,construct:!1}),r.controller.run("onConstruct")}),Qf(r,n)}return Xf(t,e),$f(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"render",value:function(){Qd("render",this);var e=Gf({},this.props,{editor:this}),t=e.commands,n=e.plugins,r=e.queries,o=e.schema;this.resolveController(n,o,t,r);var i=e.options,a=e.readOnly,s=e.value;return this.controller.setReadOnly(a),this.controller.setValue(s,i),this.controller.run("renderEditor",e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Cr(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Cr(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(s.a.Component);function ev(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}Zd.propTypes=Gf({autoCorrect:c.a.bool,autoFocus:c.a.bool,className:c.a.string,onChange:c.a.func,options:c.a.object,placeholder:c.a.any,plugins:c.a.array,readOnly:c.a.bool,role:c.a.string,schema:c.a.object,spellCheck:c.a.bool,style:c.a.object,tabIndex:c.a.number,value:mf.value.isRequired},Uf.reduce(function(e,t){return e[t]=c.a.func,e},{})),Zd.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},plugins:[],readOnly:!1,schema:{},spellCheck:!0};var tv="styles_container__3Ellu";ev(".styles_container__3Ellu {\n  position: absolute;\n  left: -1px;\n  bottom: 100%;\n  width: calc(100% + 2px);\n  padding: 5px 13px;\n  border: 1px solid #ebebeb;\n  border-bottom: 0;\n  box-sizing: border-box;\n}\n");var nv=function(e){var t=e.children;return s.a.createElement("div",{className:tv},t)},rv="styles_container__2pRR5";ev(".styles_container__2pRR5 {\n  width: 800px;\n  height: 300px;\n  border: 1px solid #ebebeb;\n  position: relative;\n  box-sizing: border-box;\n}\n\ninput:focus {\n  outline: none;\n}\n\nbutton,\nbutton:focus {\n  outline: none;\n}\n");var ov=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.d,a=e.fillRule,u=void 0===a?"evenodd":a;return s.a.createElement("svg",{fill:"currentColor",width:24,height:24,viewBox:"0 0 "+n+" "+o},s.a.createElement("path",{d:i,fillRule:u}))},iv=function(){return s.a.createElement(ov,{d:"M9 17.025V13h4.418c1.19 0 2.415.562 2.415 2.012s-1.608 2.013-2.9 2.013H9zM9 7h4.336c1 0 1.814.888 1.814 2 0 .89-.814 2-1.814 2H9V7zm8.192 1.899a3.893 3.893 0 0 0-3.888-3.889S9.334 5 8.167 5C7 5 7 6.167 7 6.167v11.666C7 19 8.167 19 8.167 19l5.572.01c2.333 0 4.231-1.86 4.231-4.148a4.122 4.122 0 0 0-1.77-3.372 3.873 3.873 0 0 0 .992-2.591z"})},av=function(){return s.a.createElement(ov,{d:"M15.751 5h-5.502a.751.751 0 0 0-.749.75c0 .417.336.75.749.75H12l-2 11H8.249a.751.751 0 0 0-.749.75c0 .417.336.75.749.75h5.502a.751.751 0 0 0 .749-.75.748.748 0 0 0-.749-.75H12l2-11h1.751a.751.751 0 0 0 .749-.75.748.748 0 0 0-.749-.75"})},sv=function(){return s.a.createElement(ov,{d:"M7 6.007C7 5.45 7.444 5 8 5c.552 0 1 .45 1 1.007v11.986C9 18.55 8.556 19 8 19c-.552 0-1-.45-1-1.007V6.007zm8 0C15 5.45 15.444 5 16 5c.552 0 1 .45 1 1.007v11.986C17 18.55 16.556 19 16 19c-.552 0-1-.45-1-1.007V6.007zM9 11h6v2H9v-2z"})},uv=function(){return s.a.createElement(ov,{d:"M17.975 12.209c.504.454.822 1.05.952 1.792.061.35.055.715-.022 1.096-.075.379-.209.718-.4 1.018-.465.73-1.155 1.175-2.07 1.337-.874.153-1.684-.06-2.432-.638a3.6 3.6 0 0 1-.916-1.043 3.92 3.92 0 0 1-.506-1.336c-.172-.98-.03-2.026.425-3.142.455-1.116 1.155-2.118 2.1-3.007.8-.757 1.456-1.182 1.97-1.273a.72.72 0 0 1 .544.104.656.656 0 0 1 .286.452c.054.31-.095.601-.45.877-.856.67-1.455 1.27-1.796 1.798-.323.513-.467.873-.43 1.079.034.196.21.287.524.274l.191-.001.249-.029a2.436 2.436 0 0 1 1.781.642zm-7.51 0c.504.454.821 1.05.951 1.792.062.35.056.715-.02 1.096-.077.379-.21.718-.401 1.018-.465.73-1.155 1.175-2.07 1.337-.874.153-1.684-.06-2.432-.638a3.6 3.6 0 0 1-.916-1.043 3.92 3.92 0 0 1-.506-1.336c-.172-.98-.03-2.026.424-3.142.455-1.116 1.156-2.118 2.101-3.007.8-.757 1.456-1.182 1.97-1.273a.72.72 0 0 1 .544.104.656.656 0 0 1 .285.452c.055.31-.094.601-.45.877-.855.67-1.454 1.27-1.796 1.798-.322.513-.466.873-.43 1.079.034.196.21.287.525.274l.191-.001.248-.029a2.436 2.436 0 0 1 1.782.642z"})},cv=function(){return s.a.createElement(ov,{d:"M9 6.5c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01A.995.995 0 0 1 9 6.5zM5.884 7.893v-2.09h-.643L5.402 5h1.285v2.893h-.803zm.898 3.83l-.393.395h.862v.733H5v-.482l1.057-.892c.371-.312.461-.434.463-.566.003-.202-.135-.368-.396-.368-.289 0-.418.206-.418.43H5c0-.642.482-1.073 1.125-1.073s1.125.457 1.125.945c0 .307-.106.516-.468.877zM9 11.5c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01a.995.995 0 0 1-.995-1zm0 5c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01a.995.995 0 0 1-.995-1zm-1.759.624c0 .14-.025.27-.076.388a.902.902 0 0 1-.217.309 1.017 1.017 0 0 1-.336.205c-.13.05-.275.074-.437.074-.166 0-.32-.027-.462-.08a1.166 1.166 0 0 1-.367-.217 1.062 1.062 0 0 1-.246-.318.914.914 0 0 1-.1-.38v-.055h.765v.054a.343.343 0 0 0 .367.352c.117 0 .207-.03.27-.09.062-.06.093-.152.093-.277 0-.117-.039-.206-.117-.268a.506.506 0 0 0-.32-.091h-.14v-.516h.144c.117 0 .205-.03.264-.09a.31.31 0 0 0 .087-.226.27.27 0 0 0-.087-.209.332.332 0 0 0-.233-.08c-.107 0-.185.027-.236.08a.275.275 0 0 0-.076.197v.055h-.695v-.055a.915.915 0 0 1 .295-.644c.178-.161.436-.242.775-.242.14 0 .27.021.39.064s.224.102.312.176a.802.802 0 0 1 .207.262c.05.1.075.206.075.318 0 .258-.116.46-.348.605v.008a.625.625 0 0 1 .193.119.777.777 0 0 1 .256.572z"})},lv=function(){return s.a.createElement(ov,{d:"M9 7c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01A.995.995 0 0 1 9 7zM6 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm3-6c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01A.995.995 0 0 1 9 12zm0 5c0-.552.456-1 .995-1h8.01c.55 0 .995.444.995 1 0 .552-.456 1-.995 1h-8.01A.995.995 0 0 1 9 17z"})},fv=function(){return s.a.createElement(ov,{d:"M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z"})},dv=function(){return s.a.createElement(ov,{d:"M21 17.444C21 18.3 20.1 19 19 19H5c-1.1 0-2-.7-2-1.556V6.556C3 5.7 3.9 5 5 5h14c1.1 0 2 .7 2 1.556v10.888zm-9.437-3.919a.5.5 0 0 1-.862.013l-1.26-2.065a.5.5 0 0 0-.861.012l-2.153 3.767a.5.5 0 0 0 .435.748h10.292a.5.5 0 0 0 .438-.741L14.573 9.78a.5.5 0 0 0-.872-.006l-2.138 3.75z"})},vv=function(){return s.a.createElement(ov,{width:40,height:40,d:"m21.7 3.9c-8.9-1.1-17 5.2-18.1 14.1s5.3 17 14.2 18.1c2.8 0.4 5.6 0 8.3-1.1 1-0.4 1.4-1.5 1-2.5s-1.5-1.4-2.5-1c-2 0.9-4.2 1.2-6.4 0.9-6.8-0.8-11.7-7.1-10.9-13.9s7.1-11.7 14-10.9c6.8 0.8 11.7 7.1 10.9 13.9-0.2 1.4-0.9 2.2-2.5 2.2-1.6 0-2.5-1.8-2.5-3.2v-4.9c0-1-0.8-1.8-1.8-1.8-0.4 0-0.8 0.1-1.1 0.3-1-0.8-2.2-1.4-3.6-1.5-4.1-0.5-7.9 2.4-8.4 6.5s2.4 7.8 6.5 8.3c2.3 0.3 4.6-0.5 6.2-2 1 1.1 2.3 1.8 3.9 2 3.4 0.4 6.6-2 7-5.4 1.1-8.9-5.3-17-14.2-18.1z m1.8 16.6c-0.3 2-2.2 3.5-4.2 3.2s-3.5-2.1-3.3-4.2c0.3-2 2.2-3.5 4.2-3.2s3.5 2.1 3.3 4.2z"})},hv="styles_icon-button__2Jq2E",pv="styles_icon-button-actived__3Cr6i";ev(".styles_icon-button__2Jq2E {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  height: 26px;\n  margin: 0 2px;\n  white-space: nowarp;\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0;\n  color: #8590a6;\n  box-sizing: border-box;\n}\n\n.styles_icon-button__2Jq2E:hover {\n  border-color: #ebebeb;\n  background-color: #f6f6f6;\n}\n\n.styles_icon-button-actived__3Cr6i {\n  color: #0084ff;\n}\n");var yv=function(e){var t=e.active,n=e.children,r=v(e,["active","children"]);return s.a.createElement("button",d({className:hv+" "+(t?pv:"")},r),n)},mv=function(e){var t=e.primary,n=e.onClick,r=v(e,["primary","onClick"]),o={background:t?"#0084ff":"transparent",border:"1px solid "+(t?"#0084ff":"transparent"),color:t?"#fff":"#1a1a1a",padding:"0 8px",lineHeight:"20px",borderRadius:"3px",cursor:"pointer"};return s.a.createElement("input",d({type:"button",style:o},r,{onClick:function(e){return n(e)}}))},gv=function(e,t){return e.value.activeMarks.some(function(e){return e.type===t})},kv=function(e,t,n){t.preventDefault(),e.toggleMark(n)};function _v(e){var t=e.type,n=e.hotkey;return function(e,r,o){if(!cf(n)(e))return o();e.preventDefault(),r.toggleMark(t)}}function bv(e){var t=e.type,n=e.tagName,r=e.attributes;return function(e,o,i){var a=e.children;return e.mark.type===t?s.a.createElement(n,d({},e.attributes,r),a):i()}}function wv(e){var t=e.type,n=e.icon;return function(e){var r=gv(e,t),o=n;return s.a.createElement(s.a.Fragment,null,s.a.createElement(yv,{active:r,onMouseDown:function(n){return kv(e,n,t)}},s.a.createElement(o,null)))}}var xv="bold";function Ov(e,t){return e.reduce(function(e,n){return n[t]?e.concat([n[t]]):e},[])}var Av="italic";function Ev(e){return void 0===e&&(e={}),{onKeyDown:_v({type:Av,hotkey:"mod+i"}),renderMark:bv({type:Av,tagName:"em"}),renderButton:wv({type:Av,icon:av})}}var Sv=function(e,t){return e.value.blocks.some(function(e){return e.type===t})},Nv=function(e,t,n){t.preventDefault();var r=Sv(e,n);Sv(e,"list-item")?e.setBlocks(r?"paragraph":n).unwrapBlock("ordered-list").unwrapBlock("unordered-list"):e.setBlocks(r?"paragraph":n)};function Tv(e){return function(t,n,r){var o=t.children,i=t.node,s=t.attributes,u=(Array.isArray(e)?e:[e]).find(function(e){return e.type===i.type});return u?Object(a.createElement)(u.tagName,s,o):r()}}function Cv(e){var t=e.type,n=e.icon;return function(e){var r=Sv(e,t),o=n;return Object(a.createElement)(yv,{active:r,onMouseDown:function(n){return Nv(e,n,t)}},Object(a.createElement)(o,null))}}var Bv="heading";function Fv(e){return void 0===e&&(e={}),{renderNode:Tv({type:Bv,tagName:"h1"}),renderButton:Cv({type:Bv,icon:sv})}}var jv="block-quote";function Pv(e){return void 0===e&&(e={}),{renderNode:Tv({type:jv,tagName:"blockquote"}),renderButton:Cv({type:jv,icon:uv})}}var zv=function(e,t,n){t.preventDefault();var r=e.value,o=r.blocks,i=r.document,a=Sv(e,"list-item"),s=o.some(function(e){return!!i.getClosest(e.key,function(e){return e.type===n})});a&&s?e.setBlocks("paragraph").unwrapBlock("ordered-list").unwrapBlock("unordered-list"):a?e.unwrapBlock("ordered-list").unwrapBlock("unordered-list").wrapBlock(n):e.setBlocks("list-item").wrapBlock(n)};function Iv(e){var t=e.type,n=e.icon;return function(e){var r=!1,o=n,i=e.value,s=i.document,u=i.blocks;if(u.size>0){var c=s.getParent(u.first().key);r=!(!Sv(e,"list-item")||!c||c.type!==t)}return Object(a.createElement)(yv,{active:r,onMouseDown:function(n){return zv(e,n,t)}},Object(a.createElement)(o,null))}}var Dv="ordered-list";function Rv(e){return void 0===e&&(e={}),{renderNode:Tv([{type:Dv,tagName:"ol"},{type:"list-item",tagName:"li"}]),renderButton:Iv({type:Dv,icon:cv})}}var Mv="unordered-list";function Lv(e){return void 0===e&&(e={}),{renderNode:Tv([{type:Mv,tagName:"ul"},{type:"list-item",tagName:"li"}]),renderButton:Iv({type:Mv,icon:lv})}}var qv=function(e){if("string"!==typeof e)return!1;var t=e.match(Kv);if(!t)return!1;var n=t[1];if(!n)return!1;if(Uv.test(n)||Jv.test(n))return!0;return!1},Kv=/^(?:\w+:)?\/\/(\S+)$/,Uv=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,Jv=/^[^\s\.]+\.\S{2,}$/;var Vv={width:250,height:30},Wv="link",Hv=function(e){return e.value.inlines.find(function(e){return e.type===Wv})},$v=function(e){return!!Hv(e)},Yv=function(e){e.unwrapInline(Wv)},Gv=function(e,t){e.wrapInline({type:Wv,data:{href:t}}).moveToEnd()};function Xv(e){return!e||0===e.length}var Qv={boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"center",width:Vv.width,height:Vv.height,position:"absolute",zIndex:1,top:-1e5,left:-1e5,opacity:0,backgroundColor:"#f6f6f6",borderRadius:4,transition:"opacity 0.75s"},Zv=function(e){return e.value.inlines.find(function(e){return"link"===e.type})},eh={width:"100%",height:"100%",border:0,padding:"0 10px",background:"transparent",borderBottom:"1px solid #e5e5e5"},th=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={invalidUrl:!1},t.changeHref=function(e){var n=t.props.editor,r=Zv(n);if(r){var o=e.target.value;Xv(o)?n.unwrapInlineByKey(r.key,Wv):(t.setState({invalidUrl:!qv(o)}),n.setNodeByKey(r.key,{type:Wv,data:{href:o}}))}},t.removeLink=function(){var e=t.props.editor,n=Zv(e);e.unwrapInlineByKey(n.key,Wv)},t}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.styles,n=e.value,r=this.state.invalidUrl,o=window.document.getElementById("root");return i.a.createPortal(Object(a.createElement)("div",{style:d({},Qv,t)},Object(a.createElement)("input",{type:"text",style:d({},eh,{color:r?"red":void 0}),value:n||"",onChange:this.changeHref})),o)},t}(a.Component),nh="styles_container__2oKO7",rh="styles_panel__31-gT",oh="styles_row__2_caG",ih="styles_label__3FSVJ",ah="styles_input__2pX03";ev(".styles_container__2oKO7 {\n  position: relative;\n  display: inline-block;\n}\n\n.styles_panel__31-gT {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  transform: translateX(-50%);\n  box-shadow: 0 1px 3px rgba(26, 26, 26, 0.1);\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  box-sizing: border-box;\n  background: #fff;\n  font-size: 12px;\n  z-index: 10;\n}\n\n.styles_row__2_caG {\n  margin-bottom: 8px;\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n}\n\n.styles_label__3FSVJ {\n  width: 30px;\n  margin-right: 8px;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n}\n\n.styles_input__2pX03 {\n  width: 200px;\n  display: flex;\n  justify-content: stretch;\n  align-items: stretch;\n}\n\n.styles_input__2pX03 input {\n  line-height: 28px;\n  border: 0;\n  border-bottom: 1px solid #e5e5e5;\n  flex-grow: 1;\n}\n");var sh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isShowPanel:!1,text:"",url:""},t.togglePanel=function(){t.setState({isShowPanel:!t.state.isShowPanel})},t.handleClick=function(e){var n=t.props.editor;e.preventDefault();n.value;$v(n)?Yv(n):t.togglePanel()},t.handleTextChange=function(e){e.preventDefault(),t.setState({text:e.target.value})},t.handleUrlChange=function(e){e.preventDefault(),t.setState({url:e.target.value})},t.hidePanel=function(){t.setState({isShowPanel:!1})},t.handleSubmit=function(){var e=t.state,n=e.text,r=e.url;if(!Xv(n)&&qv(r)){var o=t.props.editor;o.value.selection.isCollapsed?(o.insertText(n).moveFocusBackward(n.length),Gv(o,r)):Gv(o,r),t.hidePanel()}},t}return f(t,e),t.prototype.render=function(){var e=this.props.editor,t=this.state,n=t.text,r=t.url,o=t.isShowPanel,i=e.value.selection.isCollapsed,s=qv(r)?"inherit":"red",u=$v(e),c=Object(a.createElement)("div",{className:oh},Object(a.createElement)("div",{className:ih},"\u6587\u672c:"),Object(a.createElement)("div",{className:ah},Object(a.createElement)("input",{type:"text",value:n,onChange:this.handleTextChange}))),l=Object(a.createElement)("div",{className:rh},Object(a.createElement)("form",{onSubmit:this.handleSubmit},i&&c,Object(a.createElement)("div",{className:oh},Object(a.createElement)("div",{className:ih},"\u8d85\u94fe:"),Object(a.createElement)("div",{className:ah},Object(a.createElement)("input",{type:"text",value:r,onChange:this.handleUrlChange,style:{color:s}}))),Object(a.createElement)("div",{className:oh,style:{alignItems:"flex-end"}},Object(a.createElement)("div",{style:{flexGrow:1}}),Object(a.createElement)(mv,{type:"button",value:"\u786e\u5b9a",primary:!0,onClick:this.handleSubmit}),Object(a.createElement)("div",{style:{width:10}}),Object(a.createElement)(mv,{type:"button",value:"\u53d6\u6d88",onClick:this.hidePanel}))));return Object(a.createElement)("div",{className:nh},Object(a.createElement)(yv,{active:u,onMouseDown:this.handleClick},Object(a.createElement)(fv,null)),o&&l)},t}(a.Component);function uh(e){var t;return{renderNode:function(e,t,n){var r=e.attributes,o=e.children,i=e.node;if(Wv===i.type){var s=i.data.get("href");return Object(a.createElement)("a",d({},r,{href:s,target:"_blank"}),o)}return n()},renderButton:function(e){return Object(a.createElement)(sh,{editor:e})},onPaste:function(e,t,n){var r=Od(e),o=r.type,i=r.text;if(!~["text","html"].indexOf(o)||!qv(i))return n();t.value.selection.isCollapsed&&t.insertText(i).moveAnchorBackward(i.length),$v(t)&&Yv(t),Gv(t,i)},renderEditor:function(e,n,r){var o,i=n.value.selection,s=Hv(n),u="";if(s){i.isBlurred||(t=window.getSelection().getRangeAt(0));var c=t.getBoundingClientRect();u=s.data.get("href"),o={opacity:1,top:c.top+window.pageYOffset+c.height+10+"px",left:c.left+window.pageXOffset-Vv.width/2+c.width/2+"px"}}else o={};var l=r();return Object(a.createElement)(a.Fragment,null,l,Object(a.createElement)(th,{styles:o,value:u,editor:n}))}}}var ch="image";var lh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fileInputRef=Object(a.createRef)(),t.handleClick=function(){t.fileInputRef.current.click()},t.handleFile=function(e){e.preventDefault();var n=t.fileInputRef.current.files[0],r=new FileReader,o=t;r.onload=function(e){var t=e.target.result;!function(e,t,n){n&&e.select(n),e.insertBlock({type:"image",data:{src:t,id:(new Date).getTime()}})}(o.props.editor,t)},r.readAsDataURL(n)},t}return f(t,e),t.prototype.render=function(){return Object(a.createElement)("div",{style:{position:"relative",display:"inline-block"}},Object(a.createElement)(yv,{onClick:this.handleClick},Object(a.createElement)(dv,null)),Object(a.createElement)("input",{ref:this.fileInputRef,accept:".png, .jpg, .jpeg, .gif",type:"file",onChange:this.handleFile,style:{position:"fixed",left:-1e5,top:-1e5}}))},t}(a.Component),fh="styles_image__367Sr",dh="styles_circleButton__3493P",vh="styles_customImageContainer__2P7-h";ev(".styles_image__367Sr {\n  display: block;\n  max-width: 100%;\n  margin: auto;\n}\n\n.styles_circleButton__3493P {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: #666;\n  color: #fff;\n\n  box-sizing: border-box;\n  display: none;\n  justify-content: center;\n  align-items: center;\n  line-height: 20px;\n\n  cursor: pointer;\n\n  /* \u8c03\u6574x\u7684\u4f4d\u7f6e */\n  padding-bottom: 2px;\n}\n\n.styles_circleButton__3493P:hover {\n  background: #333;\n}\n\n.styles_customImageContainer__2P7-h {\n  position: relative;\n  display: flex;\n  justify-content: center;\n}\n\n.styles_customImageContainer__2P7-h:hover .styles_circleButton__3493P {\n  display: flex;\n}\n");var hh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.deleteImage=function(){!function(e){e.delete()}(t.props.editor)},t}return f(t,e),t.prototype.render=function(){var e=this.props,t=(e.editor,e.src),n=e.selected,r=v(e,["editor","src","selected"]),o=n?"0 0 0 2px #0084ff":"none";return Object(a.createElement)("div",d({className:vh,style:{}},r),Object(a.createElement)("div",{style:{display:"inline-block",position:"relative"}},Object(a.createElement)("img",{src:t,className:fh,style:{boxShadow:o}}),Object(a.createElement)("div",{className:dh+" custom-image-circle-button",onClick:this.deleteImage},"x")))},t}(a.Component);var ph="mention-context",yh="__mention-context__",mh="user-mention",gh=/(@\S*)$/;var kh={boxSizing:"border-box",position:"absolute",zIndex:1},_h={left:-1e5,top:-1e5},bh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=_h,t.updatePosition=function(){var e=document.querySelector("."+yh);if(e){var n=e.getBoundingClientRect();t.setState({left:n.left,top:n.bottom+window.pageYOffset})}else t.setState(_h)},t}return f(t,e),t.prototype.componentDidMount=function(){this.el=document.createElement("div"),document.body.appendChild(this.el),this.updatePosition()},t.prototype.componentDidUpdate=function(){this.updatePosition()},t.prototype.componentWillUnmount=function(){this.el&&document.body.removeChild(this.el)},t.prototype.render=function(){if(!this.el)return null;var e=this.props.children;return Object(o.createPortal)(Object(a.createElement)("div",{style:d({},kh,this.state)},e),this.el)},t}(a.PureComponent);function wh(e){var t,n,r=e.editorRef,o=e.suggestionNode,i=Object(a.createRef)();return{schema:{inlines:(t={},t[mh]={isVoid:!0},t)},onKeyDown:function(e,t,r){if(!n||!i.current)return r();var o=i.current;if(40===e.keyCode)e.preventDefault(),o.onDown&&o.onDown();else if(38===e.keyCode)e.preventDefault(),o.onUp&&o.onUp();else{if(13!==e.keyCode)return r();e.preventDefault(),o.onEnter&&o.onEnter()}},renderMark:bv({type:ph,tagName:"span",attributes:{className:yh}}),renderNode:function(e,t,n){var r=e.attributes,o=e.node;return o.type===mh?Object(a.createElement)("b",d({},r),o.text):n()},renderButton:function(e){return Object(a.createElement)(yv,{onMouseDown:function(){return e.insertText("@").focus()}},Object(a.createElement)(vv,null))},onAfterChange:function(e){var t=e.value,o=function(e){if(e.startText){var t=e.selection.start.offset,n=e.startText.text.slice(0,t),r=gh.exec(n);return r&&r[1]}}(t);if(o!==n){n=o;var i=t.selection,a=t.decorations.filter(function(e){return!(!e.mark||e.mark.type===ph)});"string"===typeof o&&function(e){var t=e.document,n=e.selection;return!t.getClosest(n.start.key,function(e){return"paragraph"!==e.type})}(t)&&(a=a.push({anchor:{key:i.start.key,offset:i.start.offset-o.length},focus:{key:i.start.key,offset:i.start.offset},mark:{type:ph}})),r.current.setDecorations(a)}},renderEditor:function(e,t,r){var s=r();if(n){return Object(a.createElement)(a.Fragment,null,s,Object(a.createElement)(bh,null,Object(a.cloneElement)(o(n,function(e){!function(e){var t=e.editor,n=e.data,r=e.keywords;t.deleteBackward(r.length);var o=t.value.selection;t.insertInlineAtRange(o,{data:n,nodes:[{object:"text",leaves:[{text:"@"+n.name}]}],type:mh}).insertText(" ").focus()}({editor:t,data:e,keywords:n})}),{ref:i})))}return s}}}var xh=Wu.fromJSON({document:{object:"document",nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"\u5728\u8fd9\u91cc\u8f93\u5165\u6587\u5b57"}]}]}]}}),Oh=function(e){function t(t){var n=e.call(this,t)||this;n.state={value:xh},n.editorRef=s.a.createRef(),n.onChange=function(e){var t=e.value;n.setState(function(e){return d({},e,{value:t})},function(){n.onAfterChanges.forEach(function(e){return e(n.state)}),console.log("newValue:",JSON.stringify(t.toJSON()))})},n.renderEditor=function(e,t,r){var o=r(),i=n.renderButtons.map(function(e,n){return s.a.createElement(s.a.Fragment,{key:n},e(t))});return s.a.createElement(s.a.Fragment,null,o,s.a.createElement(nv,null,i))};var r,o=n.props.children;return n._plugins=[(void 0===r&&(r={}),{onKeyDown:_v({type:xv,hotkey:"mod+b"}),renderMark:bv({type:xv,tagName:"strong"}),renderButton:wv({type:xv,icon:iv})}),Ev(),Fv(),Pv(),Rv(),Lv(),uh(),{renderNode:function(e,t,n){var r=e.attributes,o=e.node,i=e.isFocused;if(o.type===ch){var s=o.data.get("src");return Object(a.createElement)(hh,d({editor:t,src:s,selected:i},r))}return n()},renderButton:function(e){return Object(a.createElement)(lh,{editor:e})},schema:{document:{last:{type:"paragraph"},normalize:function(e,t){var n=t.code,r=t.node;switch(t.child,n){case"last_child_type_invalid":var o=Tu.create("paragraph");return e.insertNodeByKey(r.key,r.nodes.size,o);default:return e}}},blocks:{image:{isVoid:!0}}}}],o&&o.suggestionNode&&n._plugins.push(wh({editorRef:n.editorRef,suggestionNode:o.suggestionNode})),n.plugins=n._plugins.map(function(e){e.renderButton,e.onAfterChange;return v(e,["renderButton","onAfterChange"])}),n.onAfterChanges=Ov(n._plugins,"onAfterChange").filter(Boolean),n.renderButtons=Ov(n._plugins,"renderButton").filter(Boolean),n}return f(t,e),t.prototype.render=function(){var e=this.props,t=(e.children,v(e,["children"]));return s.a.createElement("div",d({className:rv},t),s.a.createElement(Zd,{autoFocus:!0,plugins:this.plugins,value:this.state.value,onChange:this.onChange,renderEditor:this.renderEditor,style:{width:"100%",height:"100%"},ref:this.editorRef}))},t}(s.a.Component);t.a=Oh}).call(this,n(9),n(23))},14:function(e,t,n){e.exports=n(30)},19:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(12),a=n.n(i),s=(n(19),n(4)),u=n(5),c=n(7),l=n(6),f=n(8),d=(n(21),n(13)),v=[{id:1,name:"\u897f\u65bd"},{id:2,name:"\u8303\u51b0\u51b0"},{id:3,name:"\u674e\u51b0\u51b0"},{id:4,name:"\u9ad8\u56ed\u56ed"},{id:5,name:"\u9648\u597d"},{id:6,name:"angelababy"},{id:7,name:"\u8fea\u4e3d\u70ed\u5df4"},{id:8,name:"\u5468\u6770\u4f26"},{id:9,name:"\u5218\u5fb7\u534e"},{id:10,name:"\u5f20\u5b66\u53cb"}],h=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={currentIndex:0},n.items=[],n.onUp=function(){var e=n.state.currentIndex;console.log(e),e>0&&n.setState({currentIndex:e-1})},n.onDown=function(){var e=n.state.currentIndex;e<n.items.length-1&&n.setState({currentIndex:e+1})},n.onEnter=function(){var e=n.state.currentIndex;e>=0&&e<n.items.length&&n.props.onSelect(n.items[e])},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.keywords,o=t.onSelect,i=n.slice(1),a=v.filter(function(e){return e.name.indexOf(i)>=0});return this.items=a,a.length<=0?null:r.createElement("div",{style:{background:"#fff",border:"1px solid #ccc"}},a.map(function(t,n){return r.createElement("div",{key:t.id,onClick:function(){return o(t)},style:{background:n===e.state.currentIndex?"#ccc":"transparent"}},t.name)}))}}]),t}(r.Component),p=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(d.a,{style:{width:500,height:500,padding:"6px 12px"}},{suggestionNode:function(e,t){return o.a.createElement(h,{keywords:e,onSelect:t})}}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.961dd7b5.chunk.js.map