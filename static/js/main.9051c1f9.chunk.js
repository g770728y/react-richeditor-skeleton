(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";(function(e,r){var o=n(4),i=n.n(o),a=n(0),s=n.n(a),u=n(1),c=n.n(u),f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}var v=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)};function h(e){return!0===v(e)&&"[object Object]"===Object.prototype.toString.call(e)}var p=function(e){var t,n;return!1!==h(e)&&("function"===typeof(t=e.constructor)&&(!1!==h(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},y=5,m=1<<y,g=m-1,k={};function _(e){e&&(e.value=!0)}function b(){}function w(e){return void 0===e.size&&(e.size=e.__iterate(x)),e.size}function A(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?w(e)+t:t}function x(){return!0}function O(e,t,n){return(0===e&&!N(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function S(e,t){return T(e,t,0)}function E(e,t){return T(e,t,t)}function T(e,t,n){return void 0===e?n:N(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function N(e){return e<0||0===e&&1/e===-1/0}var C="@@__IMMUTABLE_ITERABLE__@@";function F(e){return Boolean(e&&e[C])}var B="@@__IMMUTABLE_KEYED__@@";function j(e){return Boolean(e&&e[B])}var P="@@__IMMUTABLE_INDEXED__@@";function z(e){return Boolean(e&&e[P])}function I(e){return j(e)||z(e)}var D=function(e){return F(e)?e:ce(e)},R=function(e){function t(e){return j(e)?e:fe(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(D),M=function(e){function t(e){return z(e)?e:le(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(D),L=function(e){function t(e){return F(e)&&!I(e)?e:de(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(D);D.Keyed=R,D.Indexed=M,D.Set=L;var q="@@__IMMUTABLE_SEQ__@@";function K(e){return Boolean(e&&e[q])}var U="@@__IMMUTABLE_RECORD__@@";function J(e){return Boolean(e&&e[U])}function W(e){return F(e)||J(e)}var V="@@__IMMUTABLE_ORDERED__@@";function H(e){return Boolean(e&&e[V])}var $=0,Y=1,G=2,X="function"===typeof Symbol&&Symbol.iterator,Q="@@iterator",Z=X||Q,ee=function(e){this.next=e};function te(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function ne(){return{value:void 0,done:!0}}function re(e){return!!ae(e)}function oe(e){return e&&"function"===typeof e.next}function ie(e){var t=ae(e);return t&&t.call(e)}function ae(e){var t=e&&(X&&e[X]||e[Q]);if("function"===typeof t)return t}ee.prototype.toString=function(){return"[Iterator]"},ee.KEYS=$,ee.VALUES=Y,ee.ENTRIES=G,ee.prototype.inspect=ee.prototype.toSource=function(){return this.toString()},ee.prototype[Z]=function(){return this};var se=Object.prototype.hasOwnProperty;function ue(e){return!(!Array.isArray(e)&&"string"!==typeof e)||e&&"object"===typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var ce=function(e){function t(e){return null===e||void 0===e?me():W(e)?e.toSeq():function(e){var t=_e(e);if(t)return t;if("object"===typeof e)return new he(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,o=0;o!==r;){var i=n[t?r-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,o=0;return new ee(function(){if(o===r)return{value:void 0,done:!0};var i=n[t?r-++o:o++];return te(e,i[0],i[1])})}return this.__iteratorUncached(e,t)},t}(D),fe=function(e){function t(e){return null===e||void 0===e?me().toKeyedSeq():F(e)?j(e)?e.toSeq():e.fromEntrySeq():J(e)?e.toSeq():ge(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ce),le=function(e){function t(e){return null===e||void 0===e?me():F(e)?j(e)?e.entrySeq():e.toIndexedSeq():J(e)?e.toSeq().entrySeq():ke(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ce),de=function(e){function t(e){return(F(e)&&!I(e)?e:le(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ce);ce.isSeq=K,ce.Keyed=fe,ce.Set=de,ce.Indexed=le,ce.prototype[q]=!0;var ve=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[A(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,o=0;o!==r;){var i=t?r-++o:o++;if(!1===e(n[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,o=0;return new ee(function(){if(o===r)return{value:void 0,done:!0};var i=t?r-++o:o++;return te(e,i,n[i])})},t}(le),he=function(e){function t(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return se.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length,i=0;i!==o;){var a=r[t?o-++i:i++];if(!1===e(n[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length,i=0;return new ee(function(){if(i===o)return{value:void 0,done:!0};var a=r[t?o-++i:i++];return te(e,a,n[a])})},t}(fe);he.prototype[V]=!0;var pe,ye=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=ie(this._collection),r=0;if(oe(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=ie(this._collection);if(!oe(n))return new ee(ne);var r=0;return new ee(function(){var t=n.next();return t.done?t:te(e,r++,t.value)})},t}(le);function me(){return pe||(pe=new ve([]))}function ge(e){var t=Array.isArray(e)?new ve(e):re(e)?new ye(e):void 0;if(t)return t.fromEntrySeq();if("object"===typeof e)return new he(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ke(e){var t=_e(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function _e(e){return ue(e)?new ve(e):re(e)?new ye(e):void 0}var be="@@__IMMUTABLE_MAP__@@";function we(e){return Boolean(e&&e[be])}function Ae(e){return we(e)&&H(e)}function xe(e){return Boolean(e&&"function"===typeof e.equals&&"function"===typeof e.hashCode)}function Oe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(xe(e)&&xe(t)&&e.equals(t))}var Se="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Ee(e){return e>>>1&1073741824|3221225471&e}var Te=Object.prototype.valueOf;function Ne(e){switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return function(e){if(e!==e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return Ee(t)}(e);case"string":return e.length>De?function(e){var t=Le[e];void 0===t&&(t=Ce(e),Me===Re&&(Me=0,Le={}),Me++,Le[e]=t);return t}(e):Ce(e);case"object":case"function":return null===e?1108378658:"function"===typeof e.hashCode?Ee(e.hashCode(e)):(e.valueOf!==Te&&"function"===typeof e.valueOf&&(e=e.valueOf(e)),function(e){var t;if(Pe&&void 0!==(t=je.get(e)))return t;if(void 0!==(t=e[Ie]))return t;if(!Be){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ie]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++ze,1073741824&ze&&(ze=0);if(Pe)je.set(e,t);else{if(void 0!==Fe&&!1===Fe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Be)Object.defineProperty(e,Ie,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ie]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ie]=t}}return t}(e));case"undefined":return 1108378659;default:if("function"===typeof e.toString)return Ce(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function Ce(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Ee(t)}var Fe=Object.isExtensible,Be=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var je,Pe="function"===typeof WeakMap;Pe&&(je=new WeakMap);var ze=0,Ie="__immutablehash__";"function"===typeof Symbol&&(Ie=Symbol(Ie));var De=16,Re=255,Me=0,Le={},qe=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=He(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Ve(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(fe);qe.prototype[V]=!0;var Ke=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&w(this),this._iter.__iterate(function(o){return e(o,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(Y,t),o=0;return t&&w(this),new ee(function(){var i=r.next();return i.done?i:te(e,t?n.size-++o:o++,i.value,i)})},t}(le),Ue=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Y,t);return new ee(function(){var t=n.next();return t.done?t:te(e,t.value,t.value,t)})},t}(de),Je=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){rt(t);var r=F(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Y,t);return new ee(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){rt(r);var o=F(r);return te(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},t}(fe);function We(e){var t=it(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=at,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===G){var r=e.__iterator(t,n);return new ee(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===Y?$:Y,n)},t}function Ve(e,t,n){var r=it(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,k);return i===k?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(G,o);return new ee(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return te(r,s,t.call(n,a[1],s,e),o)})},r}function He(e,t){var n=this,r=it(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=We(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=at,r.__iterate=function(n,r){var o=this,i=0;return r&&w(e),e.__iterate(function(e,a){return n(e,t?a:r?o.size-++i:i++,o)},!r)},r.__iterator=function(r,o){var i=0;o&&w(e);var a=e.__iterator(G,!o);return new ee(function(){var e=a.next();if(e.done)return e;var s=e.value;return te(r,t?s[0]:o?n.size-++i:i++,s[1],e)})},r}function $e(e,t,n,r){var o=it(e);return r&&(o.has=function(r){var o=e.get(r,k);return o!==k&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,k);return i!==k&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(G,i),s=0;return new ee(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],f=u[1];if(t.call(n,f,c,e))return te(o,r?c:s++,f,i)}})},o}function Ye(e,t,n,r){var o=e.size;if(O(t,n,o))return e;var i=S(t,o),a=E(n,o);if(i!==i||a!==a)return Ye(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u===u&&(s=u<0?0:u);var c=it(e);return c.size=0===s?s:e.size&&s||void 0,!r&&K(e)&&s>=0&&(c.get=function(t,n){return(t=A(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate(function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s}),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);if(0===s)return new ee(ne);var o=e.__iterator(t,n),a=0,u=0;return new ee(function(){for(;a++<i;)o.next();if(++u>s)return{value:void 0,done:!0};var e=o.next();return r||t===Y||e.done?e:te(t,u-1,t===$?void 0:e.value[1],e)})},c}function Ge(e,t,n,r){var o=it(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(G,i),u=!0,c=0;return new ee(function(){var e,i,f;do{if((e=s.next()).done)return r||o===Y?e:te(o,c++,o===$?void 0:e.value[1],e);var l=e.value;i=l[0],f=l[1],u&&(u=t.call(n,f,i,a))}while(u);return o===G?e:te(o,i,f,e)})},o}function Xe(e,t,n){var r=it(e);return r.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(u,c){u.__iterate(function(i,u){return(!t||c<t)&&F(i)?e(i,c+1):(a++,!1===o(i,n?u:a-1,r)&&(s=!0)),!s},i)}(e,0),a},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(r,o),a=[],s=0;return new ee(function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(r===G&&(u=u[1]),t&&!(a.length<t)||!F(u))return n?e:te(r,s++,u,e);a.push(i),i=u.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}})},r}function Qe(e,t,n){t||(t=st);var r=j(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).valueSeq().toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?fe(i):z(e)?le(i):de(i)}function Ze(e,t,n){if(t||(t=st),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return et(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return et(t,e,n)?n:e})}function et(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function tt(e,t,n,r){var o=it(e),i=new ve(n).map(function(e){return e.size});return o.size=r?i.max():i.min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(Y,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map(function(e){return e=D(e),ie(o?e.reverse():e)}),a=0,s=!1;return new ee(function(){var n;return s||(n=i.map(function(e){return e.next()}),s=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),s?{value:void 0,done:!0}:te(e,a++,t.apply(null,n.map(function(e){return e.value})))})},o}function nt(e,t){return e===t?e:K(e)?t:e.constructor(t)}function rt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function ot(e){return j(e)?R:z(e)?M:L}function it(e){return Object.create((j(e)?fe:z(e)?le:de).prototype)}function at(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ce.prototype.cacheResult.call(this)}function st(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function ut(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function ct(e,t){if(!e)throw new Error(t)}function ft(e){ct(e!==1/0,"Cannot perform this action with an infinite size.")}function lt(e){if(ue(e)&&"string"!==typeof e)return e;if(H(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}function dt(e){return e&&("function"!==typeof e.constructor||"Object"===e.constructor.name)}function vt(e){return"object"===typeof e&&(W(e)||Array.isArray(e)||dt(e))}function ht(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function pt(e,t){return W(e)?e.has(t):vt(e)&&se.call(e,t)}function yt(e,t,n){return W(e)?e.get(t,n):pt(e,t)?"function"===typeof e.get?e.get(t):e[t]:n}function mt(e){if(Array.isArray(e))return ut(e);var t={};for(var n in e)se.call(e,n)&&(t[n]=e[n]);return t}function gt(e,t){if(!vt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(W(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!se.call(e,t))return e;var n=mt(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function kt(e,t,n){if(!vt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(W(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(se.call(e,t)&&n===e[t])return e;var r=mt(e);return r[t]=n,r}function _t(e,t,n,r){r||(r=n,n=void 0);var o=function e(t,n,r,o,i,a){var s=n===k;if(o===r.length){var u=s?i:n,c=a(u);return c===u?n:c}if(!s&&!vt(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(ht)+"]: "+n);var f=r[o];var l=s?k:yt(n,f,k);var d=e(l===k?t:W(l),l,r,o+1,i,a);return d===l?n:d===k?gt(n,f):kt(s?t?Zt():{}:n,f,d)}(W(e),e,lt(t),0,n,r);return o===k?n:o}function bt(e,t,n){return _t(e,t,k,function(){return n})}function wt(e,t){return bt(this,e,t)}function At(e,t){return _t(e,t,function(){return k})}function xt(e){return At(this,e)}function Ot(e,t,n,r){return _t(e,[t],n,r)}function St(e,t,n){return 1===arguments.length?e(this):Ot(this,e,t,n)}function Et(e,t,n){return _t(this,e,t,n)}function Tt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ct(this,e)}function Nt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!==typeof e)throw new TypeError("Invalid merger function: "+e);return Ct(this,t,e)}function Ct(e,t,n){for(var r=[],o=0;o<t.length;o++){var i=R(t[o]);0!==i.size&&r.push(i)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){Ot(e,r,k,function(e){return e===k?t:n(e,t,r)})}:function(t,n){e.set(n,t)},o=0;o<r.length;o++)r[o].forEach(t)}):e.constructor(r[0])}function Ft(e,t,n){return Bt(e,t,function(e){return function t(n,r,o){return vt(n)&&vt(r)?Bt(n,[r],t):e?e(n,r,o):r}}(n))}function Bt(e,t,n){if(!vt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(W(e))return"function"===typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),o=e,i=r?M:R,a=r?function(t){o===e&&(o=mt(o)),o.push(t)}:function(t,r){var i=se.call(o,r),a=i&&n?n(o[r],t,r):t;i&&a===o[r]||(o===e&&(o=mt(o)),o[r]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function jt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ft(this,e)}function Pt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ft(this,t,e)}function zt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return _t(this,e,Zt(),function(e){return Bt(e,t)})}function It(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return _t(this,e,Zt(),function(e){return Ft(e,t)})}function Dt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Rt(){return this.__ownerID?this:this.__ensureOwner(new b)}function Mt(){return this.__ensureOwner()}function Lt(){return this.__altered}Ke.prototype.cacheResult=qe.prototype.cacheResult=Ue.prototype.cacheResult=Je.prototype.cacheResult=at;var qt=function(e){function t(t){return null===t||void 0===t?Zt():we(t)&&!H(t)?t:Zt().withMutations(function(n){var r=e(t);ft(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Zt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return en(this,e,t)},t.prototype.remove=function(e){return en(this,e,k)},t.prototype.deleteAll=function(e){var t=D(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},t.prototype.sort=function(e){return Sn(Qe(this,e))},t.prototype.sortBy=function(e,t){return Sn(Qe(this,t,e))},t.prototype.map=function(e,t){return this.withMutations(function(n){n.forEach(function(r,o){n.set(o,e.call(t,r,o,n))})})},t.prototype.__iterator=function(e,t){return new Yt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qt(this.size,this._root,e,this.__hash):0===this.size?Zt():(this.__ownerID=e,this.__altered=!1,this)},t}(R);qt.isMap=we;var Kt=qt.prototype;Kt[be]=!0,Kt.delete=Kt.remove,Kt.removeAll=Kt.deleteAll,Kt.setIn=wt,Kt.removeIn=Kt.deleteIn=xt,Kt.update=St,Kt.updateIn=Et,Kt.merge=Kt.concat=Tt,Kt.mergeWith=Nt,Kt.mergeDeep=jt,Kt.mergeDeepWith=Pt,Kt.mergeIn=zt,Kt.mergeDeepIn=It,Kt.withMutations=Dt,Kt.wasAltered=Lt,Kt.asImmutable=Mt,Kt["@@transducer/init"]=Kt.asMutable=Rt,Kt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Kt["@@transducer/result"]=function(e){return e.asImmutable()};var Ut=function(e,t){this.ownerID=e,this.entries=t};Ut.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Oe(n,o[i][0]))return o[i][1];return r},Ut.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===k,u=this.entries,c=0,f=u.length;c<f&&!Oe(r,u[c][0]);c++);var l=c<f;if(l?u[c][1]===o:s)return this;if(_(a),(s||!l)&&_(i),!s||1!==u.length){if(!l&&!s&&u.length>=sn)return function(e,t,n,r){e||(e=new b);for(var o=new Ht(e,Ne(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,u,r,o);var d=e&&e===this.ownerID,v=d?u:ut(u);return l?s?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new Ut(e,v)}};var Jt=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Jt.prototype.get=function(e,t,n,r){void 0===t&&(t=Ne(n));var o=1<<((0===e?t:t>>>e)&g),i=this.bitmap;return 0===(i&o)?r:this.nodes[on(i&o-1)].get(e+y,t,n,r)},Jt.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ne(r));var s=(0===t?n:n>>>t)&g,u=1<<s,c=this.bitmap,f=0!==(c&u);if(!f&&o===k)return this;var l=on(c&u-1),d=this.nodes,v=f?d[l]:void 0,h=tn(v,e,t+y,n,r,o,i,a);if(h===v)return this;if(!f&&h&&d.length>=un)return function(e,t,n,r,o){for(var i=0,a=new Array(m),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Wt(e,i+1,a)}(e,d,c,s,h);if(f&&!h&&2===d.length&&nn(d[1^l]))return d[1^l];if(f&&h&&1===d.length&&nn(h))return h;var p=e&&e===this.ownerID,_=f?h?c:c^u:c|u,b=f?h?an(d,l,h,p):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}(d,l,p):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}(d,l,h,p);return p?(this.bitmap=_,this.nodes=b,this):new Jt(e,_,b)};var Wt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Wt.prototype.get=function(e,t,n,r){void 0===t&&(t=Ne(n));var o=(0===e?t:t>>>e)&g,i=this.nodes[o];return i?i.get(e+y,t,n,r):r},Wt.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ne(r));var s=(0===t?n:n>>>t)&g,u=o===k,c=this.nodes,f=c[s];if(u&&!f)return this;var l=tn(f,e,t+y,n,r,o,i,a);if(l===f)return this;var d=this.count;if(f){if(!l&&--d<cn)return function(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var f=t[s];void 0!==f&&s!==r&&(o|=u,a[i++]=f)}return new Jt(e,o,a)}(e,c,d,s)}else d++;var v=e&&e===this.ownerID,h=an(c,s,l,v);return v?(this.count=d,this.nodes=h,this):new Wt(e,d,h)};var Vt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Vt.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(Oe(n,o[i][0]))return o[i][1];return r},Vt.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Ne(r));var s=o===k;if(n!==this.keyHash)return s?this:(_(a),_(i),rn(this,e,t,n,[r,o]));for(var u=this.entries,c=0,f=u.length;c<f&&!Oe(r,u[c][0]);c++);var l=c<f;if(l?u[c][1]===o:s)return this;if(_(a),(s||!l)&&_(i),s&&2===f)return new Ht(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,v=d?u:ut(u);return l?s?c===f-1?v.pop():v[c]=v.pop():v[c]=[r,o]:v.push([r,o]),d?(this.entries=v,this):new Vt(e,this.keyHash,v)};var Ht=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Ht.prototype.get=function(e,t,n,r){return Oe(n,this.entry[0])?this.entry[1]:r},Ht.prototype.update=function(e,t,n,r,o,i,a){var s=o===k,u=Oe(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(_(a),s?void _(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new Ht(e,this.keyHash,[r,o]):(_(i),rn(this,e,t,Ne(r),[r,o])))},Ut.prototype.iterate=Vt.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Jt.prototype.iterate=Wt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ht.prototype.iterate=function(e,t){return e(this.entry)};var $t,Yt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Xt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o=void 0;if(n.entry){if(0===r)return Gt(e,n.entry)}else if(n.entries){if(r<=(o=n.entries.length-1))return Gt(e,n.entries[this._reverse?o-r:r])}else if(r<=(o=n.nodes.length-1)){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return Gt(e,i.entry);t=this._stack=Xt(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(ee);function Gt(e,t){return te(e,t[0],t[1])}function Xt(e,t){return{node:e,index:0,__prev:t}}function Qt(e,t,n,r){var o=Object.create(Kt);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Zt(){return $t||($t=Qt(0))}function en(e,t,n){var r,o;if(e._root){var i={value:!1},a={value:!1};if(r=tn(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===k?-1:1:0)}else{if(n===k)return e;o=1,r=new Ut(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Qt(o,r):Zt()}function tn(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===k?e:(_(s),_(a),new Ht(t,r,[o,i]))}function nn(e){return e.constructor===Ht||e.constructor===Vt}function rn(e,t,n,r,o){if(e.keyHash===r)return new Vt(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&g,s=(0===n?r:r>>>n)&g,u=a===s?[rn(e,t,n+y,r,o)]:(i=new Ht(t,r,o),a<s?[e,i]:[i,e]);return new Jt(t,1<<a|1<<s,u)}function on(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function an(e,t,n,r){var o=r?e:ut(e);return o[t]=n,o}var sn=m/4,un=m/2,cn=m/4,fn="@@__IMMUTABLE_LIST__@@";function ln(e){return Boolean(e&&e[fn])}var dn=function(e){function t(t){var n=kn();if(null===t||void 0===t)return n;if(ln(t))return t;var r=e(t),o=r.size;return 0===o?n:(ft(o),o>0&&o<m?gn(0,o,y,null,new hn(r.toArray())):n.withMutations(function(e){e.setSize(o),r.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=A(this,e))>=0&&e<this.size){var n=wn(this,e+=this._origin);return n&&n.array[e&g]}return t},t.prototype.set=function(e,t){return function(e,t,n){if((t=A(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?An(e,t).set(0,n):An(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i={value:!1};t>=xn(e._capacity)?r=_n(r,e.__ownerID,0,t,n,i):o=_n(o,e.__ownerID,e._level,t,n,i);if(!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return gn(e._origin,e._capacity,e._level,o,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):kn()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){An(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return An(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){An(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return An(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var o=t[r],i=e("string"!==typeof o&&re(o)?o:[o]);0!==i.size&&n.push(i)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return An(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){for(var o=0;o<n.size;o++)r.set(o,e.call(t,r.get(o),o,r))})},t.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:An(this,S(e,n),E(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=mn(this,t);return new ee(function(){var o=r();return o===yn?{value:void 0,done:!0}:te(e,t?--n:n++,o)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,o=mn(this,t);(n=o())!==yn&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?gn(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?kn():(this.__ownerID=e,this.__altered=!1,this)},t}(M);dn.isList=ln;var vn=dn.prototype;vn[fn]=!0,vn.delete=vn.remove,vn.merge=vn.concat,vn.setIn=wt,vn.deleteIn=vn.removeIn=xt,vn.update=St,vn.updateIn=Et,vn.mergeIn=zt,vn.mergeDeepIn=It,vn.withMutations=Dt,vn.wasAltered=Lt,vn.asImmutable=Mt,vn["@@transducer/init"]=vn.asMutable=Rt,vn["@@transducer/step"]=function(e,t){return e.push(t)},vn["@@transducer/result"]=function(e){return e.asImmutable()};var hn=function(e,t){this.array=e,this.ownerID=t};hn.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&g;if(r>=this.array.length)return new hn([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-y,n))===a&&i)return this}if(i&&!o)return this;var s=bn(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},hn.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&g;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-y,n))===i&&o===this.array.length-1)return this}var a=bn(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var pn,yn={};function mn(e,t){var n=e._origin,r=e._capacity,o=xn(r),i=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>n?0:n-a,c=r-a;c>m&&(c=m);return function(){if(u===c)return yn;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,o,i){var s,u=e&&e.array,c=i>n?0:n-i>>o,f=1+(r-i>>o);f>m&&(f=m);return function(){for(;;){if(s){var e=s();if(e!==yn)return e;s=null}if(c===f)return yn;var n=t?--f:c++;s=a(u&&u[n],o-y,i+(n<<o))}}}(e,s,u)}}function gn(e,t,n,r,o,i,a){var s=Object.create(vn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function kn(){return pn||(pn=gn(0,0,y))}function _n(e,t,n,r,o,i){var a,s=r>>>n&g,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(n>0){var c=e&&e.array[s],f=_n(c,t,n-y,r,o,i);return f===c?e:((a=bn(e,t)).array[s]=f,a)}return u&&e.array[s]===o?e:(i&&_(i),a=bn(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function bn(e,t){return t&&e&&t===e.ownerID?e:new hn(e?e.array.slice():[],t)}function wn(e,t){if(t>=xn(e._capacity))return e._tail;if(t<1<<e._level+y){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&g],r-=y;return n}}function An(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new b,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,f=0;a+f<0;)c=new hn(c&&c.array.length?[void 0,c]:[],r),f+=1<<(u+=y);f&&(a+=f,o+=f,s+=f,i+=f);for(var l=xn(i),d=xn(s);d>=1<<u+y;)c=new hn(c&&c.array.length?[c]:[],r),u+=y;var v=e._tail,h=d<l?wn(e,s-1):d>l?new hn([],r):v;if(v&&d>l&&a<i&&v.array.length){for(var p=c=bn(c,r),m=u;m>y;m-=y){var k=l>>>m&g;p=p.array[k]=bn(p.array[k],r)}p.array[l>>>y&g]=v}if(s<i&&(h=h&&h.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=y,c=null,h=h&&h.removeBefore(r,0,a);else if(a>o||d<l){for(f=0;c;){var _=a>>>u&g;if(_!==d>>>u&g)break;_&&(f+=(1<<u)*_),u-=y,c=c.array[_]}c&&a>o&&(c=c.removeBefore(r,u,a-f)),c&&d<l&&(c=c.removeAfter(r,u,d-f)),f&&(a-=f,s-=f)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):gn(a,s,u,c,h)}function xn(e){return e<m?0:e-1>>>y<<y}var On,Sn=function(e){function t(e){return null===e||void 0===e?Tn():Ae(e)?e:Tn().withMutations(function(t){var n=R(e);ft(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Tn()},t.prototype.set=function(e,t){return Nn(this,e,t)},t.prototype.remove=function(e){return Nn(this,e,k)},t.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?En(t,n,e,this.__hash):0===this.size?Tn():(this.__ownerID=e,this._map=t,this._list=n,this)},t}(qt);function En(e,t,n,r){var o=Object.create(Sn.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Tn(){return On||(On=En(Zt(),kn()))}function Nn(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===k){if(!u)return e;a.size>=m&&a.size>=2*i.size?(r=(o=a.filter(function(e,t){return void 0!==e&&s!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):En(r,o)}Sn.isOrderedMap=Ae,Sn.prototype[V]=!0,Sn.prototype.delete=Sn.prototype.remove;var Cn="@@__IMMUTABLE_STACK__@@";function Fn(e){return Boolean(e&&e[Cn])}var Bn=function(e){function t(e){return null===e||void 0===e?In():Fn(e)?e:In().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=A(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):zn(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Fn(t))return t;ft(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):zn(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},t.prototype.slice=function(t,n){if(O(t,n,this.size))return this;var r=S(t,this.size);if(E(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var o=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):zn(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?zn(this.size,this._head,e,this.__hash):0===this.size?In():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new ve(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,o=this._head;o&&!1!==e(o.value,r++,this);)o=o.next;return r},t.prototype.__iterator=function(e,t){if(t)return new ve(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new ee(function(){if(r){var t=r.value;return r=r.next,te(e,n++,t)}return{value:void 0,done:!0}})},t}(M);Bn.isStack=Fn;var jn,Pn=Bn.prototype;function zn(e,t,n,r){var o=Object.create(Pn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function In(){return jn||(jn=zn(0))}Pn[Cn]=!0,Pn.shift=Pn.pop,Pn.unshift=Pn.push,Pn.unshiftAll=Pn.pushAll,Pn.withMutations=Dt,Pn.wasAltered=Lt,Pn.asImmutable=Mt,Pn["@@transducer/init"]=Pn.asMutable=Rt,Pn["@@transducer/step"]=function(e,t){return e.unshift(t)},Pn["@@transducer/result"]=function(e){return e.asImmutable()};var Dn="@@__IMMUTABLE_SET__@@";function Rn(e){return Boolean(e&&e[Dn])}function Mn(e){return Rn(e)&&H(e)}function Ln(e,t){if(e===t)return!0;if(!F(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||j(e)!==j(t)||z(e)!==z(t)||H(e)!==H(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!I(e);if(H(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&Oe(o[1],e)&&(n||Oe(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!Oe(t,e.get(r,k)):!Oe(e.get(r,k),t))return a=!1,!1});return a&&e.size===s}function qn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Kn(e){if(!e||"object"!==typeof e)return e;if(!F(e)){if(!vt(e))return e;e=ce(e)}if(j(e)){var t={};return e.__iterate(function(e,n){t[n]=Kn(e)}),t}var n=[];return e.__iterate(function(e){n.push(Kn(e))}),n}var Un=function(e){function t(t){return null===t||void 0===t?$n():Rn(t)&&!H(t)?t:$n().withMutations(function(n){var r=e(t);ft(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(R(e).keySeq())},t.intersect=function(e){return(e=D(e).toArray()).length?Wn.intersect.apply(t(e.pop()),e):$n()},t.union=function(e){return(e=D(e).toArray()).length?Wn.union.apply(t(e.pop()),e):$n()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Vn(this,this._map.set(e,e))},t.prototype.remove=function(e){return Vn(this,this._map.remove(e))},t.prototype.clear=function(){return Vn(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=[],o=[];return this.forEach(function(i){var a=e.call(t,i,i,n);a!==i&&(r.push(i),o.push(a))}),this.withMutations(function(e){r.forEach(function(t){return e.remove(t)}),o.forEach(function(t){return e.add(t)})})},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return dr(Qe(this,e))},t.prototype.sortBy=function(e,t){return dr(Qe(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(L);Un.isSet=Rn;var Jn,Wn=Un.prototype;function Vn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Hn(e,t){var n=Object.create(Wn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function $n(){return Jn||(Jn=Hn(Zt()))}Wn[Dn]=!0,Wn.delete=Wn.remove,Wn.merge=Wn.concat=Wn.union,Wn.withMutations=Dt,Wn.asImmutable=Mt,Wn["@@transducer/init"]=Wn.asMutable=Rt,Wn["@@transducer/step"]=function(e,t){return e.add(t)},Wn["@@transducer/result"]=function(e){return e.asImmutable()},Wn.__empty=$n,Wn.__make=Hn;var Yn,Gn=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(ct(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(Yn)return Yn;Yn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+A(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return O(e,n,this.size)?this:(e=S(e,this.size),(n=E(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;i!==n&&!1!==e(o,t?n-++i:i++,this);)o+=t?-r:r;return i},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,o=t?this._start+(n-1)*r:this._start,i=0;return new ee(function(){if(i===n)return{value:void 0,done:!0};var a=o;return o+=t?-r:r,te(e,t?n-++i:i++,a)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Ln(this,e)},t}(le);function Xn(e,t,n){for(var r=lt(t),o=0;o!==r.length;)if((e=yt(e,r[o++],k))===k)return n;return e}function Qn(e,t){return Xn(this,e,t)}function Zn(e,t){return Xn(e,t,k)!==k}function er(){ft(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}D.isIterable=F,D.isKeyed=j,D.isIndexed=z,D.isAssociative=I,D.isOrdered=H,D.Iterator=ee,qn(D,{toArray:function(){ft(this.size);var e=new Array(this.size||0),t=j(this),n=0;return this.__iterate(function(r,o){e[n++]=t?[o,r]:r}),e},toIndexedSeq:function(){return new Ke(this)},toJS:function(){return Kn(this)},toKeyedSeq:function(){return new qe(this,!0)},toMap:function(){return qt(this.toKeyedSeq())},toObject:er,toOrderedMap:function(){return Sn(this.toKeyedSeq())},toOrderedSet:function(){return dr(j(this)?this.valueSeq():this)},toSet:function(){return Un(j(this)?this.valueSeq():this)},toSetSeq:function(){return new Ue(this)},toSeq:function(){return z(this)?this.toIndexedSeq():j(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Bn(j(this)?this.valueSeq():this)},toList:function(){return dn(j(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return nt(this,function(e,t){var n=j(e),r=[e].concat(t).map(function(e){return F(e)?n&&(e=R(e)):e=n?ge(e):ke(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var o=r[0];if(o===e||n&&j(o)||z(e)&&z(o))return o}var i=new ve(r);return n?i=i.toKeyedSeq():z(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),i}(this,e))},includes:function(e){return this.some(function(t){return Oe(t,e)})},entries:function(){return this.__iterator(G)},every:function(e,t){ft(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return nt(this,$e(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return ft(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ft(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator($)},map:function(e,t){return nt(this,Ve(this,e,t))},reduce:function(e,t,n){return or(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return or(this,e,t,n,arguments.length<2,!0)},reverse:function(){return nt(this,He(this,!0))},slice:function(e,t){return nt(this,Ye(this,e,t,!0))},some:function(e,t){return!this.every(sr(e),t)},sort:function(e){return nt(this,Qe(this,e))},values:function(){return this.__iterator(Y)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return w(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=qt().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return Ln(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ve(e._cache);var t=e.toSeq().map(ar).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(sr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(x,null,e)},flatMap:function(e,t){return nt(this,function(e,t,n){var r=ot(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return nt(this,Xe(this,e,!0))},fromEntrySeq:function(){return new Je(this)},get:function(e,t){return this.find(function(t,n){return Oe(n,e)},void 0,t)},getIn:Qn,groupBy:function(e,t){return function(e,t,n){var r=j(e),o=(H(e)?Sn():qt()).asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),function(e){return(e=e||[]).push(r?[a,i]:i),e})});var i=ot(e);return o.map(function(t){return nt(e,i(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,k)!==k},hasIn:function(e){return Zn(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:D(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:D(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return Oe(t,e)})},keySeq:function(){return this.toSeq().map(ir).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ze(this,e)},maxBy:function(e,t){return Ze(this,t,e)},min:function(e){return Ze(this,e?ur(e):fr)},minBy:function(e,t){return Ze(this,t?ur(t):fr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return nt(this,Ge(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(sr(e),t)},sortBy:function(e,t){return nt(this,Qe(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return nt(this,function(e,t,n){var r=it(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(G,o),s=!0;return new ee(function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?r===G?e:te(r,u,c,e):(s=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(sr(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=H(e),n=j(e),r=t?1:0;return function(e,t){return t=Se(t,3432918353),t=Se(t<<15|t>>>-15,461845907),t=Se(t<<13|t>>>-13,5),t=Se((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ee((t=Se(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+lr(Ne(e),Ne(t))|0}:function(e,t){r=r+lr(Ne(e),Ne(t))|0}:t?function(e){r=31*r+Ne(e)|0}:function(e){r=r+Ne(e)|0}),r)}(this))}});var tr=D.prototype;tr[C]=!0,tr[Z]=tr.values,tr.toJSON=tr.toArray,tr.__toStringMapper=ht,tr.inspect=tr.toSource=function(){return this.toString()},tr.chain=tr.flatMap,tr.contains=tr.includes,qn(R,{flip:function(){return nt(this,We(this))},mapEntries:function(e,t){var n=this,r=0;return nt(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return nt(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var nr=R.prototype;nr[B]=!0,nr[Z]=tr.entries,nr.toJSON=er,nr.__toStringMapper=function(e,t){return ht(t)+": "+ht(e)},qn(M,{toKeyedSeq:function(){return new qe(this,!1)},filter:function(e,t){return nt(this,$e(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return nt(this,He(this,!1))},slice:function(e,t){return nt(this,Ye(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=S(e,e<0?this.count():this.size);var r=this.slice(0,e);return nt(this,1===n?r:r.concat(ut(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return nt(this,Xe(this,e,!1))},get:function(e,t){return(e=A(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=A(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return nt(this,function(e,t){var n=it(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(Y,r),a=0;return new ee(function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?te(n,a++,t):te(n,a++,o.value,o)})},n}(this,e))},interleave:function(){var e=[this].concat(ut(arguments)),t=tt(this.toSeq(),le.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),nt(this,n)},keySeq:function(){return Gn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return nt(this,Ge(this,e,t,!1))},zip:function(){return nt(this,tt(this,cr,[this].concat(ut(arguments))))},zipAll:function(){return nt(this,tt(this,cr,[this].concat(ut(arguments)),!0))},zipWith:function(e){var t=ut(arguments);return t[0]=this,nt(this,tt(this,e,t))}});var rr=M.prototype;function or(e,t,n,r,o,i){return ft(e.size),e.__iterate(function(e,i,a){o?(o=!1,n=e):n=t.call(r,n,e,i,a)},i),n}function ir(e,t){return t}function ar(e,t){return[t,e]}function sr(e){return function(){return!e.apply(this,arguments)}}function ur(e){return function(){return-e.apply(this,arguments)}}function cr(){return ut(arguments)}function fr(e,t){return e<t?1:e>t?-1:0}function lr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}rr[P]=!0,rr[V]=!0,qn(L,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),L.prototype.has=tr.includes,L.prototype.contains=L.prototype.includes,qn(fe,R.prototype),qn(le,M.prototype),qn(de,L.prototype);var dr=function(e){function t(e){return null===e||void 0===e?yr():Mn(e)?e:yr().withMutations(function(t){var n=L(e);ft(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(R(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Un);dr.isOrderedSet=Mn;var vr,hr=dr.prototype;function pr(e,t){var n=Object.create(hr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function yr(){return vr||(vr=pr(Tn()))}hr[V]=!0,hr.zip=rr.zip,hr.zipWith=rr.zipWith,hr.__empty=yr,hr.__make=pr;var mr=function(e,t){var n,r=function(i){var a=this;if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(e),u=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var c=0;c<s.length;c++){var f=s[c];u[f]=c,o[f]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+br(this)+' with property "'+f+'" since that property name is part of the Record API.'):Ar(o,f)}}this.__ownerID=void 0,this._values=dn().withMutations(function(e){e.setSize(a._keys.length),R(i).forEach(function(t,n){e.set(a._indices[n],t===a._defaultValues[n]?void 0:t)})})},o=r.prototype=Object.create(kr);return o.constructor=r,t&&(r.displayName=t),r};mr.prototype.toString=function(){for(var e,t=br(this)+" { ",n=this._keys,r=0,o=n.length;r!==o;r++)t+=(r?", ":"")+(e=n[r])+": "+ht(this.get(e));return t+" }"},mr.prototype.equals=function(e){return this===e||e&&this._keys===e._keys&&wr(this).equals(wr(e))},mr.prototype.hashCode=function(){return wr(this).hashCode()},mr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},mr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},mr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return _r(this,n)}return this},mr.prototype.remove=function(e){return this.set(e)},mr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:_r(this,e)},mr.prototype.wasAltered=function(){return this._values.wasAltered()},mr.prototype.toSeq=function(){return wr(this)},mr.prototype.toJS=function(){return Kn(this)},mr.prototype.entries=function(){return this.__iterator(G)},mr.prototype.__iterator=function(e,t){return wr(this).__iterator(e,t)},mr.prototype.__iterate=function(e,t){return wr(this).__iterate(e,t)},mr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?_r(this,t,e):(this.__ownerID=e,this._values=t,this)},mr.isRecord=J,mr.getDescriptiveName=br;var gr,kr=mr.prototype;function _r(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function br(e){return e.constructor.displayName||e.constructor.name||"Record"}function wr(e){return ge(e._keys.map(function(t){return[t,e.get(t)]}))}function Ar(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ct(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(n){}}function xr(e,t){return j(t)?t.toMap():t.toList()}kr[U]=!0,kr.delete=kr.remove,kr.deleteIn=kr.removeIn=xt,kr.getIn=Qn,kr.hasIn=tr.hasIn,kr.merge=Tt,kr.mergeWith=Nt,kr.mergeIn=zt,kr.mergeDeep=jt,kr.mergeDeepWith=Pt,kr.mergeDeepIn=It,kr.setIn=wt,kr.update=St,kr.updateIn=Et,kr.withMutations=Dt,kr.asMutable=Rt,kr.asImmutable=Mt,kr[Z]=kr.entries,kr.toJSON=kr.toObject=tr.toObject,kr.inspect=kr.toSource=function(){return this.toString()};var Or={version:"4.0.0-rc.11",Collection:D,Iterable:D,Seq:ce,Map:qt,OrderedMap:Sn,List:dn,Stack:Bn,Set:Un,OrderedSet:dr,Record:mr,Range:Gn,Repeat:function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(gr)return gr;gr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return Oe(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return O(e,n,r)?this:new t(this._value,E(n,r)-S(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return Oe(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return Oe(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,o=0;return new ee(function(){return o===r?{value:void 0,done:!0}:te(e,t?r-++o:o++,n._value)})},t.prototype.equals=function(e){return e instanceof t?Oe(this._value,e._value):Ln(e)},t}(le),is:Oe,fromJS:function(e,t){return function e(t,n,r,o,i,a){var s=Array.isArray(r)?le:dt(r)?fe:null;if(s){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&""!==o&&i.push(o);var u=n.call(a,o,s(r).map(function(o,a){return e(t,n,o,a,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),u}return r}([],t||xr,e,"",t&&t.length>2?[]:void 0,{"":e})},hash:Ne,isImmutable:W,isCollection:F,isKeyed:j,isIndexed:z,isAssociative:I,isOrdered:H,isValueObject:xe,isSeq:K,isList:ln,isMap:we,isOrderedMap:Ae,isStack:Fn,isSet:Rn,isOrderedSet:Mn,isRecord:J,get:yt,getIn:Xn,has:pt,hasIn:Zn,merge:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Bt(e,t)},mergeDeep:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Ft(e,t)},mergeWith:function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Bt(t,n,e)},mergeDeepWith:function(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Ft(t,n,e)},remove:gt,removeIn:At,set:kt,setIn:bt,update:Ot,updateIn:_t},Sr=function(e,t){0},Er=!0,Tr="Invariant failed";function Nr(e,t){if(!e)throw Er?new Error(Tr):new Error(Tr+": "+(t||""))}var Cr="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{};function Fr(e,t){return e(t={exports:{}},t.exports),t.exports}var Br=1e3,jr=60*Br,Pr=60*jr,zr=24*Pr,Ir=7*zr,Dr=365.25*zr,Rr=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Dr;case"weeks":case"week":case"w":return n*Ir;case"days":case"day":case"d":return n*zr;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Pr;case"minutes":case"minute":case"mins":case"min":case"m":return n*jr;case"seconds":case"second":case"secs":case"sec":case"s":return n*Br;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=zr)return Mr(e,t,zr,"day");if(t>=Pr)return Mr(e,t,Pr,"hour");if(t>=jr)return Mr(e,t,jr,"minute");if(t>=Br)return Mr(e,t,Br,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=zr)return Math.round(e/zr)+"d";if(t>=Pr)return Math.round(e/Pr)+"h";if(t>=jr)return Math.round(e/jr)+"m";if(t>=Br)return Math.round(e/Br)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Mr(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var Lr=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var i;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a,s=Number(new Date),u=s-(i||s);o.diff=u,o.prev=i,o.curr=s,i=s,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"===typeof i){var a=t[c];e=i.call(o,a),t.splice(c,1),c--}return e}),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"===typeof n.init&&n.init(a),n.instances.push(a),a}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+("undefined"===typeof t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=Rr,Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},qr=Fr(function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/react-richeditor-skeleton"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=Lr(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),Kr=(qr.log,qr.formatArgs,qr.save,qr.load,qr.useColors,qr.storage,qr.colors,Array.isArray),Ur="object"==typeof Cr&&Cr&&Cr.Object===Object&&Cr,Jr="object"==typeof self&&self&&self.Object===Object&&self,Wr=Ur||Jr||Function("return this")(),Vr=Wr.Symbol,Hr=Object.prototype,$r=Hr.hasOwnProperty,Yr=Hr.toString,Gr=Vr?Vr.toStringTag:void 0;var Xr=function(e){var t=$r.call(e,Gr),n=e[Gr];try{e[Gr]=void 0}catch(o){}var r=Yr.call(e);return t?e[Gr]=n:delete e[Gr],r},Qr=Object.prototype.toString;var Zr=function(e){return Qr.call(e)},eo="[object Null]",to="[object Undefined]",no=Vr?Vr.toStringTag:void 0;var ro=function(e){return null==e?void 0===e?to:eo:no&&no in Object(e)?Xr(e):Zr(e)};var oo=function(e){return null!=e&&"object"==typeof e},io="[object Symbol]";var ao=function(e){return"symbol"==typeof e||oo(e)&&ro(e)==io},so=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uo=/^\w*$/;var co=function(e,t){if(Kr(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ao(e))||uo.test(e)||!so.test(e)||null!=t&&e in Object(t)};var fo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},lo="[object AsyncFunction]",vo="[object Function]",ho="[object GeneratorFunction]",po="[object Proxy]";var yo=function(e){if(!fo(e))return!1;var t=ro(e);return t==vo||t==ho||t==lo||t==po},mo=Wr["__core-js_shared__"],go=function(){var e=/[^.]+$/.exec(mo&&mo.keys&&mo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var ko=function(e){return!!go&&go in e},_o=Function.prototype.toString;var bo=function(e){if(null!=e){try{return _o.call(e)}catch(t){}try{return e+""}catch(t){}}return""},wo=/^\[object .+?Constructor\]$/,Ao=Function.prototype,xo=Object.prototype,Oo=Ao.toString,So=xo.hasOwnProperty,Eo=RegExp("^"+Oo.call(So).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var To=function(e){return!(!fo(e)||ko(e))&&(yo(e)?Eo:wo).test(bo(e))};var No=function(e,t){return null==e?void 0:e[t]};var Co=function(e,t){var n=No(e,t);return To(n)?n:void 0},Fo=Co(Object,"create");var Bo=function(){this.__data__=Fo?Fo(null):{},this.size=0};var jo=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Po="__lodash_hash_undefined__",zo=Object.prototype.hasOwnProperty;var Io=function(e){var t=this.__data__;if(Fo){var n=t[e];return n===Po?void 0:n}return zo.call(t,e)?t[e]:void 0},Do=Object.prototype.hasOwnProperty;var Ro=function(e){var t=this.__data__;return Fo?void 0!==t[e]:Do.call(t,e)},Mo="__lodash_hash_undefined__";var Lo=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Fo&&void 0===t?Mo:t,this};function qo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}qo.prototype.clear=Bo,qo.prototype.delete=jo,qo.prototype.get=Io,qo.prototype.has=Ro,qo.prototype.set=Lo;var Ko=qo;var Uo=function(){this.__data__=[],this.size=0};var Jo=function(e,t){return e===t||e!==e&&t!==t};var Wo=function(e,t){for(var n=e.length;n--;)if(Jo(e[n][0],t))return n;return-1},Vo=Array.prototype.splice;var Ho=function(e){var t=this.__data__,n=Wo(t,e);return!(n<0)&&(n==t.length-1?t.pop():Vo.call(t,n,1),--this.size,!0)};var $o=function(e){var t=this.__data__,n=Wo(t,e);return n<0?void 0:t[n][1]};var Yo=function(e){return Wo(this.__data__,e)>-1};var Go=function(e,t){var n=this.__data__,r=Wo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Xo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=Uo,Xo.prototype.delete=Ho,Xo.prototype.get=$o,Xo.prototype.has=Yo,Xo.prototype.set=Go;var Qo=Xo,Zo=Co(Wr,"Map");var ei=function(){this.size=0,this.__data__={hash:new Ko,map:new(Zo||Qo),string:new Ko}};var ti=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ni=function(e,t){var n=e.__data__;return ti(t)?n["string"==typeof t?"string":"hash"]:n.map};var ri=function(e){var t=ni(this,e).delete(e);return this.size-=t?1:0,t};var oi=function(e){return ni(this,e).get(e)};var ii=function(e){return ni(this,e).has(e)};var ai=function(e,t){var n=ni(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function si(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}si.prototype.clear=ei,si.prototype.delete=ri,si.prototype.get=oi,si.prototype.has=ii,si.prototype.set=ai;var ui=si,ci="Expected a function";function fi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ci);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(fi.Cache||ui),n}fi.Cache=ui;var li=fi,di=500;var vi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hi=/\\(\\)?/g,pi=function(e){var t=li(e,function(e){return n.size===di&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(vi,function(e,n,r,o){t.push(r?o.replace(hi,"$1"):n||e)}),t});var yi=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},mi=1/0,gi=Vr?Vr.prototype:void 0,ki=gi?gi.toString:void 0;var _i=function e(t){if("string"==typeof t)return t;if(Kr(t))return yi(t,e)+"";if(ao(t))return ki?ki.call(t):"";var n=t+"";return"0"==n&&1/t==-mi?"-0":n};var bi=function(e){return null==e?"":_i(e)};var wi=function(e,t){return Kr(e)?e:co(e,t)?[e]:pi(bi(e))},Ai=1/0;var xi=function(e){if("string"==typeof e||ao(e))return e;var t=e+"";return"0"==t&&1/e==-Ai?"-0":t};var Oi=function(e,t){for(var n=0,r=(t=wi(t,e)).length;null!=e&&n<r;)e=e[xi(t[n++])];return n&&n==r?e:void 0},Si=function(){try{var e=Co(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Ei=function(e,t,n){"__proto__"==t&&Si?Si(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ti=Object.prototype.hasOwnProperty;var Ni=function(e,t,n){var r=e[t];Ti.call(e,t)&&Jo(r,n)&&(void 0!==n||t in e)||Ei(e,t,n)},Ci=9007199254740991,Fi=/^(?:0|[1-9]\d*)$/;var Bi=function(e,t){var n=typeof e;return!!(t=null==t?Ci:t)&&("number"==n||"symbol"!=n&&Fi.test(e))&&e>-1&&e%1==0&&e<t};var ji=function(e,t,n,r){if(!fo(e))return e;for(var o=-1,i=(t=wi(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var u=xi(t[o]),c=n;if(o!=a){var f=s[u];void 0===(c=r?r(f,u,s):void 0)&&(c=fo(f)?f:Bi(t[o+1])?[]:{})}Ni(s,u,c),s=s[u]}return e};var Pi=function(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Oi(e,a);n(s,a)&&ji(i,wi(a,e),s)}return i};var zi=function(e,t){return null!=e&&t in Object(e)},Ii="[object Arguments]";var Di=function(e){return oo(e)&&ro(e)==Ii},Ri=Object.prototype,Mi=Ri.hasOwnProperty,Li=Ri.propertyIsEnumerable,qi=Di(function(){return arguments}())?Di:function(e){return oo(e)&&Mi.call(e,"callee")&&!Li.call(e,"callee")},Ki=9007199254740991;var Ui=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ki};var Ji=function(e,t,n){for(var r=-1,o=(t=wi(t,e)).length,i=!1;++r<o;){var a=xi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Ui(o)&&Bi(a,o)&&(Kr(e)||qi(e))};var Wi=function(e,t){return null!=e&&Ji(e,t,zi)};var Vi=function(e,t){return Pi(e,t,function(t,n){return Wi(e,n)})};var Hi=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},$i=Vr?Vr.isConcatSpreadable:void 0;var Yi=function(e){return Kr(e)||qi(e)||!!($i&&e&&e[$i])};var Gi=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Yi),i||(i=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Hi(i,u):o||(i[i.length]=u)}return i};var Xi=function(e){return null!=e&&e.length?Gi(e,1):[]};var Qi=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Zi=Math.max;var ea=function(e,t,n){return t=Zi(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Zi(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Qi(e,this,s)}};var ta=function(e){return function(){return e}};var na=Si?function(e,t){return Si(e,"toString",{configurable:!0,enumerable:!1,value:ta(t),writable:!0})}:function(e){return e},ra=800,oa=16,ia=Date.now;var aa=function(e){var t=0,n=0;return function(){var r=ia(),o=oa-(r-n);if(n=r,o>0){if(++t>=ra)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(na);var sa=function(e){return aa(ea(e,void 0,Xi),e+"")},ua=sa(function(e,t){return null==e?{}:Vi(e,t)}),ca=Fr(function(e,t){!function(n){var r=t,o=e&&e.exports==r&&e,i="object"==typeof Cr&&Cr;i.global!==i&&i.window!==i||(n=i);var a=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,s=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,u={version:"0.2.0",reverse:function e(t){for(var n="",r=(t=t.replace(a,function(t,n,r){return e(r)+n}).replace(s,"$2$1")).length;r--;)n+=t.charAt(r);return n}};if(r&&!r.nodeType)if(o)o.exports=u;else for(var c in u)u.hasOwnProperty(c)&&(r[c]=u[c]);else n.esrever=u}(Cr)}).reverse;var fa=function(){this.__data__=new Qo,this.size=0};var la=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var da=function(e){return this.__data__.get(e)};var va=function(e){return this.__data__.has(e)},ha=200;var pa=function(e,t){var n=this.__data__;if(n instanceof Qo){var r=n.__data__;if(!Zo||r.length<ha-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ui(r)}return n.set(e,t),this.size=n.size,this};function ya(e){var t=this.__data__=new Qo(e);this.size=t.size}ya.prototype.clear=fa,ya.prototype.delete=la,ya.prototype.get=da,ya.prototype.has=va,ya.prototype.set=pa;var ma=ya;var ga=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var ka=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),o?Ei(n,s,u):Ni(n,s,u)}return n};var _a=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var ba=function(){return!1},wa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Wr.Buffer:void 0,i=(o?o.isBuffer:void 0)||ba;e.exports=i}),Aa={};Aa["[object Float32Array]"]=Aa["[object Float64Array]"]=Aa["[object Int8Array]"]=Aa["[object Int16Array]"]=Aa["[object Int32Array]"]=Aa["[object Uint8Array]"]=Aa["[object Uint8ClampedArray]"]=Aa["[object Uint16Array]"]=Aa["[object Uint32Array]"]=!0,Aa["[object Arguments]"]=Aa["[object Array]"]=Aa["[object ArrayBuffer]"]=Aa["[object Boolean]"]=Aa["[object DataView]"]=Aa["[object Date]"]=Aa["[object Error]"]=Aa["[object Function]"]=Aa["[object Map]"]=Aa["[object Number]"]=Aa["[object Object]"]=Aa["[object RegExp]"]=Aa["[object Set]"]=Aa["[object String]"]=Aa["[object WeakMap]"]=!1;var xa=function(e){return oo(e)&&Ui(e.length)&&!!Aa[ro(e)]};var Oa=function(e){return function(t){return e(t)}},Sa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n&&Ur.process,i=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=i}),Ea=Sa&&Sa.isTypedArray,Ta=Ea?Oa(Ea):xa,Na=Object.prototype.hasOwnProperty;var Ca=function(e,t){var n=Kr(e),r=!n&&qi(e),o=!n&&!r&&wa(e),i=!n&&!r&&!o&&Ta(e),a=n||r||o||i,s=a?_a(e.length,String):[],u=s.length;for(var c in e)!t&&!Na.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Bi(c,u))||s.push(c);return s},Fa=Object.prototype;var Ba=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fa)};var ja=function(e,t){return function(n){return e(t(n))}},Pa=ja(Object.keys,Object),za=Object.prototype.hasOwnProperty;var Ia=function(e){if(!Ba(e))return Pa(e);var t=[];for(var n in Object(e))za.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Da=function(e){return null!=e&&Ui(e.length)&&!yo(e)};var Ra=function(e){return Da(e)?Ca(e):Ia(e)};var Ma=function(e,t){return e&&ka(t,Ra(t),e)};var La=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},qa=Object.prototype.hasOwnProperty;var Ka=function(e){if(!fo(e))return La(e);var t=Ba(e),n=[];for(var r in e)("constructor"!=r||!t&&qa.call(e,r))&&n.push(r);return n};var Ua=function(e){return Da(e)?Ca(e,!0):Ka(e)};var Ja=function(e,t){return e&&ka(t,Ua(t),e)},Wa=Fr(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,o=r&&r.exports===n?Wr.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}});var Va=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Ha=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var $a=function(){return[]},Ya=Object.prototype.propertyIsEnumerable,Ga=Object.getOwnPropertySymbols,Xa=Ga?function(e){return null==e?[]:(e=Object(e),Ha(Ga(e),function(t){return Ya.call(e,t)}))}:$a;var Qa=function(e,t){return ka(e,Xa(e),t)},Za=ja(Object.getPrototypeOf,Object),es=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Hi(t,Xa(e)),e=Za(e);return t}:$a;var ts=function(e,t){return ka(e,es(e),t)};var ns=function(e,t,n){var r=t(e);return Kr(e)?r:Hi(r,n(e))};var rs=function(e){return ns(e,Ra,Xa)};var os=function(e){return ns(e,Ua,es)},is=Co(Wr,"DataView"),as=Co(Wr,"Promise"),ss=Co(Wr,"Set"),us=Co(Wr,"WeakMap"),cs=bo(is),fs=bo(Zo),ls=bo(as),ds=bo(ss),vs=bo(us),hs=ro;(is&&"[object DataView]"!=hs(new is(new ArrayBuffer(1)))||Zo&&"[object Map]"!=hs(new Zo)||as&&"[object Promise]"!=hs(as.resolve())||ss&&"[object Set]"!=hs(new ss)||us&&"[object WeakMap]"!=hs(new us))&&(hs=function(e){var t=ro(e),n="[object Object]"==t?e.constructor:void 0,r=n?bo(n):"";if(r)switch(r){case cs:return"[object DataView]";case fs:return"[object Map]";case ls:return"[object Promise]";case ds:return"[object Set]";case vs:return"[object WeakMap]"}return t});var ps=hs,ys=Object.prototype.hasOwnProperty;var ms=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ys.call(e,"index")&&(n.index=e.index,n.input=e.input),n};Wr.Uint8Array;var gs=Vr?Vr.prototype:void 0;gs&&gs.valueOf;var ks=Object.create,_s=function(){function e(){}return function(t){if(!fo(t))return{};if(ks)return ks(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var bs=function(e){return"function"!=typeof e.constructor||Ba(e)?{}:_s(Za(e))},ws="[object Map]";var As=function(e){return oo(e)&&ps(e)==ws},xs=Sa&&Sa.isMap,Os=xs?Oa(xs):As,Ss="[object Set]";var Es=function(e){return oo(e)&&ps(e)==Ss},Ts=Sa&&Sa.isSet,Ns=Ts?Oa(Ts):Es,Cs=1,Fs=2,Bs=4,js="[object Arguments]",Ps="[object Function]",zs="[object GeneratorFunction]",Is="[object Object]";var Ds=function e(t,n,r,o,i,a){var s,u=n&Cs,c=n&Fs,f=n&Bs;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!fo(t))return t;var l=Kr(t);if(l){if(s=ms(t),!u)return Va(t,s)}else{var d=ps(t),v=d==Ps||d==zs;if(wa(t))return Wa(t,u);if(d!=Is&&d!=js&&(!v||i))return i?t:{};if(s=c||v?{}:bs(t),!u)return c?ts(t,Ja(s,t)):Qa(t,Ma(s,t))}a||(a=new ma);var h=a.get(t);if(h)return h;if(a.set(t,s),Ns(t))return t.forEach(function(o){s.add(e(o,n,r,o,t,a))}),s;if(Os(t))return t.forEach(function(o,i){s.set(i,e(o,n,r,i,t,a))}),s;var p=f?c?os:rs:c?keysIn:Ra,y=l?void 0:p(t);return ga(y||t,function(o,i){y&&(o=t[i=o]),Ni(s,i,e(o,n,r,i,t,a))}),s};var Rs=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Ms=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var Ls=function(e,t){return t.length<2?e:Oi(e,Ms(t,0,-1))};var qs=function(e,t){return t=wi(t,e),null==(e=Ls(e,t))||delete e[xi(Rs(t))]},Ks="[object Object]",Us=Function.prototype,Js=Object.prototype,Ws=Us.toString,Vs=Js.hasOwnProperty,Hs=Ws.call(Object);var $s=function(e){if(!oo(e)||ro(e)!=Ks)return!1;var t=Za(e);if(null===t)return!0;var n=Vs.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ws.call(n)==Hs};var Ys,Gs,Xs=function(e){return $s(e)?void 0:e},Qs=sa(function(e,t){var n={};if(null==e)return n;var r=!1;t=yi(t,function(t){return t=wi(t,e),r||(r=t.length>1),t}),ka(e,os(e),n),r&&(n=Ds(n,7,Xs));for(var o=t.length;o--;)qs(n,t[o]);return n});Ys=new RegExp("^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),Gs=new RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]");var Zs=function(e){return e=e.toString(),Gs.test(e)?"rtl":Ys.test(e)?"ltr":"neutral"},eu=void 0,tu=void 0;function nu(){eu=0,tu=function(){return""+eu++}}nu();var ru={create:function(e){if(null==e)return tu();if("string"===typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function(e){tu=e},resetGenerator:nu},ou="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},au=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uu=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},cu=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},fu=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},lu=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),du=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},vu=function(){function e(){iu(this,e)}return au(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(qt.isMap(t))return t;if(p(t))return e.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(e){return new qt(e)}}]),e}();vu.fromJS=vu.fromJSON;var hu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(e))return e;if((dn.isList(e)||Array.isArray(e))&&(e={nodes:e}),p(e))return t.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isDocument(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ru.create():o,a=e.nodes,s=void 0===a?[]:a;return new t({key:i,data:new qt(r),nodes:Eu.createList(s)})}}]),t}(mr({data:void 0,key:void 0,nodes:void 0})),pu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(e))return e;if("string"==typeof e&&(e={type:e}),p(e))return t.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isInline(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ru.create():o,a=e.nodes,s=void 0===a?[]:a,u=e.type;if("string"!=typeof u)throw new Error("`Inline.fromJS` requires a `type` string.");return new t({key:i,type:u,data:new qt(r),nodes:Eu.createList(s)})}},{key:"isInlineList",value:function(e){return dn.isList(e)&&e.every(function(e){return t.isInline(e)})}}]),t}(mr({data:void 0,key:void 0,nodes:void 0,type:void 0})),yu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return e;if("string"==typeof e&&(e={type:e}),p(e))return t.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(Un.isSet(e)||Array.isArray(e))return new Un(e.map(t.create));if(null==e)return Un();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(p(e)){var n={};return"type"in e&&(n.type=e.type),"data"in e&&(n.data=vu.create(e.data)),n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.type;if("string"!=typeof o)throw new Error("`Mark.fromJS` requires a `type` string.");return new t({type:o,data:new qt(r)})}},{key:"isMarkSet",value:function(e){return Un.isSet(e)&&e.every(function(e){return t.isMark(e)})}}]),t}(mr({data:void 0,type:void 0})),mu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"updateMark",value:function(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations(function(n){n.remove(e).add(t)});return this.set("marks",r)}},{key:"addMark",value:function(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function(){return{object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),p(e))return t.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var t=!1,n=dn().withMutations(function(n){e.findLast(function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)})});return t?n:e}},{key:"splitLeaves",value:function(e,t){if(t<0)return[dn(),e];if(0===e.size)return[dn(),dn()];var n=0,r=-1,o=void 0,i=void 0;return e.find(function(e){r++;var a=n,s=e.text;if((n+=s.length)<t)return!1;if(a>t)return!1;var u=t-a;return o=e.set("text",s.slice(0,u)),i=e.set("text",s.slice(u)),!0}),o?""===o.text?0===r?[dn.of(o),e]:[e.take(r),e.skip(r)]:""===i.text?r===e.size-1?[e,dn.of(i)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(i)]:[e,dn()]}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.text,r=void 0===n?"":n,o=e.marks;return new t({text:r,marks:Un((void 0===o?[]:o).map(yu.fromJSON))})}},{key:"isLeafList",value:function(e){return dn.isList(e)&&e.every(function(e){return t.isLeaf(e)})}}]),t}(mr({marks:void 0,text:void 0})),gu=!0,ku=Symbol("LEAF"),_u=Symbol("STORE_KEY"),bu=Symbol("undefined"),wu=Symbol("null"),Au=void 0,xu=new WeakMap;function Ou(e,t){var n=function(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!gu)return n.apply(this,r);xu.has(this)||xu.set(this,{noArgs:{},hasArgs:{}});var i=xu.get(this),a=i.noArgs,s=i.hasArgs,u=0!==r.length,c=void 0,f=void 0;if((c=u?function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(void 0===s?s=bu:null===s&&(s=wu),(e="object"===("undefined"===typeof s?"undefined":ou(s))?e[_u]&&e[_u].get(s):e[s])===Au)return Au}}catch(u){r=!0,o=u}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return e[ku]}(s,f=[t].concat(r)):a[t])!==Au)return c===bu?void 0:c;var l=n.apply(this,r),d=void 0===l?bu:l;return u?function(e,t,n){var r=e,o=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;if(void 0===c?c=bu:null===c&&(c=wu),"object"===("undefined"===typeof c?"undefined":ou(c)))if(r[_u]||(r[_u]=new WeakMap),r[_u].has(c))r=r[_u].get(c);else{var f={};r[_u].set(c,f),r=f}else r[c]||(r[c]={}),r=r[c]}}catch(l){i=!0,a=l}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}r[ku]=n}(s,f,d):a[t]=d,l}},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n(a.value)}}catch(u){o=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}var Su=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"searchLeafAtOffset",value:function(e){var t=0,n=0,r=-1;return{leaf:this.leaves.find(function(o){return r++,(t=(n=t)+o.text.length)>=e}),endOffset:t,index:r,startOffset:n}}},{key:"addMark",value:function(e,t,n){var r=Un.of(n);return this.addMarks(e,t,r)}},{key:"addMarks",value:function(e,t,n){if(""===this.text&&0===t&&0===e){var r=this.leaves.first();if(!r)return this.set("leaves",dn.of(mu.fromJSON({text:"",marks:n})));var o=r.addMarks(n);return o===r?this:this.set("leaves",dn.of(o))}if(""===this.text)return this;if(0===t)return this;if(e>=this.text.length)return this;var i=mu.splitLeaves(this.leaves,e),a=lu(i,2),s=a[0],u=a[1],c=mu.splitLeaves(u,t),f=lu(c,2),l=f[0],d=f[1],v=s.concat(l.map(function(e){return e.addMarks(n)}),d);return this.setLeaves(v)}},{key:"getLeaves",value:function(e){var t=this.leaves;if(!e||0===e.size)return t;if(0===t.size){var n=e.map(function(e){return e.mark}),r=mu.create({marks:n});return dn([r])}if(0===this.text.length){var o=e.map(function(e){return e.mark}),i=mu.create({marks:o});return dn([i])}var a=this.key,s=this.text;return e.forEach(function(e){var n=e.start,r=e.end,o=e.mark,i=n.key==a,u=r.key==a;if(i&&u){var c=i?n.offset:0,f=u?r.offset-c:s.length-c;if(f<1)return;if(c>=s.length)return;if(0!==c||f<s.length){var l=mu.splitLeaves(t,c),d=lu(l,2),v=d[0],h=d[1],p=mu.splitLeaves(h,f),y=lu(p,2),m=y[0],g=y[1];return void(t=v.concat(m.map(function(e){return e.addMark(o)}),g))}}t=t.map(function(e){return e.addMark(o)})}),t===this.leaves?t:mu.createLeaves(t)}},{key:"getActiveMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getActiveMarks();if(e>=t)return Un();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=e)){if(i>=t)return!1;if(n)return(n=n.intersect(o.marks))&&n.size,!1;n=o.marks}}),n||Un()}},{key:"getActiveMarks",value:function(){var e=this;if(0===this.leaves.size)return Un();var t=this.leaves.first().marks;return 0===t.size?t:t.toOrderedSet().withMutations(function(t){e.leaves.forEach(function(e){if(t.intersect(e.marks),0===t.size)return!1})})}},{key:"getMarksBetweenOffsets",value:function(e,t){if(e<=0&&t>=this.text.length)return this.getMarks();if(e>=t)return Un();if(""===this.text)return this.getActiveMarks();var n=null,r=0;return this.leaves.forEach(function(o){var i=r;if(!((r=i+o.text.length)<=e))return!(i>=t)&&void(n=n?n.union(o.marks):o.marks)}),n||Un()}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return new dr(e)}},{key:"getMarksAsArray",value:function(){if(0===this.leaves.size)return[];var e=this.leaves.first().marks;if(1===this.leaves.size)return e.toArray();var t=[];return this.leaves.forEach(function(e){t.push(e.marks.toArray())}),Array.prototype.concat.apply(e.toArray(),t)}},{key:"getMarksAtIndex",value:function(e){var t=this.searchLeafAtOffset(e).leaf;return t?t.marks:Un()}},{key:"insertText",value:function(e,t,n){if(""===this.text)return this.set("leaves",dn.of(mu.create({text:t,marks:n})));if(0===t.length)return this;n||(n=Un());var r=this.searchLeafAtOffset(e),o=r.startOffset,i=r.leaf,a=r.index,s=e-o,u=i.text.slice(0,s),c=i.text.slice(s),f=this.leaves;if(i.marks.equals(n))return this.set("leaves",f.set(a,i.set("text",u+t+c)));var l=f.splice(a,1,i.set("text",u),mu.create({text:t,marks:n}),i.set("text",c));return this.setLeaves(l)}},{key:"removeMark",value:function(e,t,n){if(""===this.text&&0===e&&0===t){var r=this.leaves.first();if(!r)return this;var o=r.removeMark(n);return o===r?this:this.set("leaves",dn.of(o))}if(t<=0)return this;if(e>=this.text.length)return this;var i=mu.splitLeaves(this.leaves,e),a=lu(i,2),s=a[0],u=a[1],c=mu.splitLeaves(u,t),f=lu(c,2),l=f[0],d=f[1],v=s.concat(l.map(function(e){return e.removeMark(n)}),d);return this.setLeaves(v)}},{key:"removeText",value:function(e,t){if(t<=0)return this;if(e>=this.text.length)return this;if(1===t){var n=this.searchLeafAtOffset(e+1),r=n.leaf,o=n.index,i=e-n.startOffset;if(r){if(1===r.text.length){var a=this.leaves.remove(o);return this.setLeaves(a)}var s=r.text.slice(0,i)+r.text.slice(i+t);if(s.length>0)return this.set("leaves",this.leaves.set(o,r.set("text",s)))}}var u=mu.splitLeaves(this.leaves,e),c=lu(u,2),f=c[0],l=c[1],d=mu.splitLeaves(l,t)[1],v=mu.createLeaves(f.concat(d));if(1===v.size){var h=v.first();if(""===h.text)return this.set("leaves",dn.of(h.set("marks",this.getActiveMarks())))}return this.set("leaves",v)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,leaves:this.getLeaves().toArray().map(function(e){return e.toJSON()})};return e.preserveKeys&&(t.key=this.key),t}},{key:"updateMark",value:function(e,t,n,r){var o=n.merge(r);if(""===this.text&&0===t&&0===e){var i=this.leaves.first();if(!i)return this;var a=i.updateMark(n,o);return a===i?this:this.set("leaves",dn.of(a))}if(t<=0)return this;if(e>=this.text.length)return this;var s=mu.splitLeaves(this.leaves,e),u=lu(s,2),c=u[0],f=u[1],l=mu.splitLeaves(f,t),d=lu(l,2),v=d[0],h=d[1],p=c.concat(v.map(function(e){return e.updateMark(n,o)}),h);return this.setLeaves(p)}},{key:"splitText",value:function(e){var t=mu.splitLeaves(this.leaves,e);return[this.set("leaves",t[0]),this.set("leaves",t[1]).regenerateKey()]}},{key:"mergeText",value:function(e){var t=this.leaves.concat(e.leaves);return this.setLeaves(t)}},{key:"setLeaves",value:function(e){if(1===(e=mu.createLeaves(e)).size){var t=e.first();if((!t.marks||0===t.marks.size)&&""===t.text)return this.set("leaves",dn([mu.create()]))}return 0===e.size&&(e=e.push(mu.create())),this.set("leaves",e)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(e))return e;if("string"==typeof e&&(e={leaves:[{text:e}]}),p(e)){if(e.text){var n=e,r=n.text,o=n.marks;e={key:n.key,leaves:[{text:r,marks:o}]}}return t.fromJSON(e)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isText(e))return e;var n=e.key,r=void 0===n?ru.create():n,o=e.leaves;if(o||(e.ranges?(Sr(!1,"As of slate@0.27.0, the `ranges` property of Slate objects has been renamed to `leaves`."),o=e.ranges):o=dn()),Array.isArray(o))o=dn(o.map(function(e){return mu.create(e)}));else{if(!dn.isList(o))throw new Error("leaves must be either Array or Immutable.List");o=o.map(function(e){return mu.create(e)})}return 0===o.size&&(o=o.push(mu.create())),new t({leaves:mu.createLeaves(o),key:r})}},{key:"isTextList",value:function(e){return dn.isList(e)&&e.every(function(e){return t.isText(e)})}}]),t}(mr({leaves:void 0,key:void 0}));Ou(Su.prototype,["getActiveMarks","getMarks","getMarksAsArray"]);var Eu=function(){function e(){iu(this,e)}return au(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(t))return t;if(p(t)){var n=t.object;switch(!n&&t.kind&&(Sr(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),n=t.kind),n){case"block":return Tu.create(t);case"document":return hu.create(t);case"inline":return pu.create(t);case"text":return Su.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(t)||Array.isArray(t))return dn(t.map(e.create));throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Tu.isBlock(e)||pu.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(p(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=vu.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var t=e.object;switch(!t&&e.kind&&(Sr(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return Tu.fromJSON(e);case"document":return hu.fromJSON(e);case"inline":return pu.fromJSON(e);case"text":return Su.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function(e){return Tu.isBlock(e)||hu.isDocument(e)||pu.isInline(e)||Su.isText(e)}},{key:"isNodeList",value:function(t){return dn.isList(t)&&t.every(function(t){return e.isNode(t)})}}]),e}(),Tu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(t){return t.toJSON(e)})};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),p(e))return t.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isBlock(e))return e;var n=e.data,r=void 0===n?{}:n,o=e.key,i=void 0===o?ru.create():o,a=e.nodes,s=void 0===a?[]:a,u=e.type;if("string"!=typeof u)throw new Error("`Block.fromJSON` requires a `type` string.");return new t({key:i,type:u,data:qt(r),nodes:Eu.createList(s)})}},{key:"isBlockList",value:function(e){return dn.isList(e)&&e.every(function(e){return t.isBlock(e)})}}]),t}(mr({data:void 0,key:void 0,nodes:void 0,type:void 0}));function Nu(e,t){for(var n=Du(e,t),r=0;r<n;r++){var o=e.get(r),i=t.get(r);if(o<i)return-1;if(o>i)return 1}return e.size===t.size?0:null}function Cu(e){if(null==e)return null;if(dn.isList(e))return e;if(Array.isArray(e))return dn(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du(e,t);return[e.slice(0,n),t.slice(0,n)]}function Bu(e){return ju(e,0-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1)}function ju(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n)+t;return e.set(n,r)}function Pu(e,t){var n=Fu(e,t),r=lu(n,2),o=r[0],i=r[1];return e.size<t.size&&0===Nu(o,i)}function zu(e,t){return e.equals(t)}function Iu(e,t){var n=e.size-1,r=Fu(e,t,n),o=lu(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return zu(i,a)&&s<u}function Du(e,t){return Math.min(e.size,t.size)}var Ru={compare:Nu,create:Cu,crop:Fu,decrement:Bu,getAncestors:function(e){for(var t=new dn,n=0;n<e.size;n++)t=t.push(e.slice(0,n));return t},increment:ju,isAbove:Pu,isAfter:function(e,t){var n=Fu(e,t),r=lu(n,2);return 1===Nu(r[0],r[1])},isBefore:function(e,t){var n=Fu(e,t),r=lu(n,2);return-1===Nu(r[0],r[1])},isEqual:zu,isOlder:function(e,t){var n=e.size-1,r=Fu(e,t,n),o=lu(r,2),i=o[0],a=o[1],s=e.get(n),u=t.get(n);return zu(i,a)&&s>u},isSibling:function(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger:Iu,lift:function(e){return e.slice(0,-1)},max:function(e,t){return Math.max(e.size,t.size)},min:Du,relate:function(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return Cu(n)},transform:function(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return dn([e]);var i=o.size-1,a=zu(o,e),s=Iu(o,e),u=Pu(o,e);if("insert_node"===n&&(a||s||u)&&(e=ju(e,1,i)),"remove_node"===n&&(s?e=Bu(e,1,i):(a||u)&&(e=[])),"merge_node"===n&&(a||s?e=Bu(e,1,i):u&&(e=ju(e=Bu(e,1,i),r,i+1))),"split_node"===n&&(a?e=[e,ju(e)]:s?e=ju(e,1,i):u&&e.get(i+1)>=r&&(e=Bu(e=ju(e,1,i),r,i+1))),"move_node"===n){var c=t.newPath,f=c.size-1,l=zu(c,e);if(zu(o,c))return dn([e]);var d=Iu(c,e),v=Pu(c,e);u?e=c.concat(e.slice(o.size)):a?e=c:(s&&(e=Bu(e,1,i)),(l||d||v)&&(e=ju(e,1,f)))}var h=Array.isArray(e)?e:[e];return dn(h)}},Mu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"isAfterPoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===Ru.compare(this.path,e.path))}},{key:"isAfterRange",value:function(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===Ru.compare(this.path,e.path))}},{key:"isBeforeRange",value:function(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset)return!1;if(0!=this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveForward(-e):this.setOffset(this.offset-e)}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 0===e?this:e<0?this.moveBackward(-e):this.setOffset(this.offset+e)}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;return"number"===typeof e?(t=e,e=this.path):"string"===typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null,this.merge({key:n,path:e,offset:t})}},{key:"moveToStartOfNode",value:function(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function(e){if(null==this.key&&null==this.path)return this.setOffset(null);var n=this.key,r=this.offset,o=this.path,i=e.getNode(n||o);if(!i){Sr(!1,"A point's `path` or `key` invalid and was reset!");var a=e.getFirstText();return a?this.merge({key:a.key,offset:0,path:e.getPath(a.key)}):t.create()}if("text"!==i.object){Sr(!1,"A point should not reference a non-text node!");var s=i.getTextAtOffset(r),u=i.getOffset(s.key);return this.merge({offset:r-u,key:s.key,path:e.getPath(s.key)})}return i&&o&&n&&n!==i.key&&Sr(!1,"A point's `key` did not match its `path`!"),this.merge({key:i.key,path:null==o?e.getPath(i.key):o,offset:null==r?0:Math.min(r,i.text.length)})}},{key:"setKey",value:function(e){return null!==e&&(e=ru.create(e)),this.set("key",e)}},{key:"setOffset",value:function(e){return this.set("offset",e)}},{key:"setPath",value:function(e){return null!==e&&(e=Ru.create(e)),this.set("path",e)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return e;if(p(e))return t.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(p(e)){var n={};return"key"in e&&(n.key=e.key),"offset"in e&&(n.offset=e.offset),"path"in e&&(n.path=Ru.create(e.path)),"path"in e&&!("key"in e)&&(n.key=null),"key"in e&&!("path"in e)&&(n.path=null),n}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.key,r=void 0===n?null:n,o=e.offset,i=void 0===o?null:o,a=e.path,s=void 0===a?null:a;return new t({key:r,offset:i,path:Ru.create(s)})}}]),t}(mr({key:void 0,offset:void 0,path:void 0})),Lu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=n.mark,a={};return r&&(a.anchor=Mu.create(r)),o&&(a.focus=Mu.create(o)),i&&(a.mark=yu.create(i)),this.merge(a)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return e;if(Uu.isRange(e))return t.fromJSON(Uu.createProperties(e));if(p(e))return t.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDecoration(e))return{anchor:Mu.createProperties(e.anchor),focus:Mu.createProperties(e.focus),mark:yu.create(e.mark)};if(p(e)){var n={};return"anchor"in e&&(n.anchor=Mu.create(e.anchor)),"focus"in e&&(n.focus=Mu.create(e.focus)),"mark"in e&&(n.mark=yu.create(e.mark)),n}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.mark;if(!o)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new t({anchor:Mu.fromJSON(n||{}),focus:Mu.fromJSON(r||{}),mark:yu.fromJSON(o)})}}]),t}(mr({anchor:void 0,focus:void 0,mark:void 0})),qu={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function Ku(e,t){return!(!t||!t[qu[e]])}var Uu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return"range"===e.object?e:t.fromJSON(t.createProperties(e));if(p(e))return t.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(e))return{anchor:Mu.createProperties(e.anchor),focus:Mu.createProperties(e.focus)};if(p(e)){var n={};return"anchor"in e&&(n.anchor=Mu.create(e.anchor)),"focus"in e&&(n.focus=Mu.create(e.focus)),n}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus;return new t({anchor:Mu.fromJSON(n||{}),focus:Mu.fromJSON(r||{})})}},{key:"isRange",value:function(e){return Ku("range",e)||Lu.isDecoration(e)||Ju.isSelection(e)}}]),t}(mr({anchor:void 0,focus:void 0})),Ju=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"setIsFocused",value:function(e){return this.set("isFocused",e)}},{key:"setMarks",value:function(e){return this.set("marks",e)}},{key:"setProperties",value:function(e){var n=e=t.createProperties(e),r=n.anchor,o=n.focus,i=cu(n,["anchor","focus"]);return r&&(i.anchor=Mu.create(r)),o&&(i.focus=Mu.create(o)),this.merge(i)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()})}}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return e;if(Uu.isRange(e))return t.fromJSON(Uu.createProperties(e));if(p(e))return t.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSelection(e))return{anchor:Mu.createProperties(e.anchor),focus:Mu.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(Uu.isRange(e))return{anchor:Mu.createProperties(e.anchor),focus:Mu.createProperties(e.focus)};if(p(e)){var n={};return"anchor"in e&&(n.anchor=Mu.create(e.anchor)),"focus"in e&&(n.focus=Mu.create(e.focus)),"isFocused"in e&&(n.isFocused=e.isFocused),"marks"in e&&(n.marks=null==e.marks?null:yu.createSet(e.marks)),n}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.anchor,r=e.focus,o=e.isFocused,i=void 0!==o&&o,a=e.marks,s=void 0===a?null:a;return new t({anchor:Mu.fromJSON(n||{}),focus:Mu.fromJSON(r||{}),isFocused:i,marks:null==s?null:new Un(s.map(yu.fromJSON))})}}]),t}(mr({anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0})),Wu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"addMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.addMark(e,t,n,r),o=this.set("document",i)}},{key:"insertNode",value:function(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"insertText",value:function(e,t,n,r){var o=this,i=o.document,a=i.assertNode(e);return i=i.insertText(e,t,n,r),o=(o=o.set("document",i)).mapRanges(function(e){return e.updatePoints(function(e){return e.key===a.key&&e.offset>=t?e.setOffset(e.offset+n.length):e})})}},{key:"mergeNode",value:function(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=Ru.decrement(e),i=n.getNode(o),a=n.getNode(e);return t=(t=t.set("document",r)).mapRanges(function(e){if("text"===a.object){var t=i.text.length;e.anchor.key===a.key&&(e=e.moveAnchorTo(i.key,t+e.anchor.offset)),e.focus.key===a.key&&(e=e.moveFocusTo(i.key,t+e.focus.offset))}return e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r.document;return o=o.moveNode(e,t,n),r=(r=r.set("document",o)).mapRanges(function(e){return e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeMark",value:function(e,t,n,r){var o=this,i=o.document;return i=i.removeMark(e,t,n,r),o=this.set("document",i)}},{key:"removeNode",value:function(e){var t=this,n=t.document,r=n.assertNode(e),o="text"==r.object?r:r.getFirstText()||r,i="text"==r.object?r:r.getLastText()||r,a=n.getPreviousText(o.key),s=n.getNextText(i.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges(function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=a?e.moveStartTo(a.key,a.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=a?e.moveEndTo(a.key,a.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"removeText",value:function(e,t,n){var r=this,o=r.document,i=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var a=n.length,s=t,u=t+a;return r=r.mapRanges(function(e){return e.updatePoints(function(e){return e.key!==i.key?e:e.offset>=u?e.setOffset(e.offset-a):e.offset>s?e.setOffset(s):e})})}},{key:"setNode",value:function(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function(e,t,n,r,o){var i=this,a=i.document;return a=a.setMark(e,t,n,r,o),i=i.set("document",a)}},{key:"setProperties",value:function(e){var t=this,n=t.document,r=e.data,o=e.decorations,i={};return r&&(i.data=r),o&&(i.decorations=o.map(function(e){return e.isSet?e:n.resolveDecoration(e)})),t=t.merge(i)}},{key:"setSelection",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=o.setProperties(e);return o=r.resolveSelection(i),t=t.set("selection",o)}},{key:"splitNode",value:function(e,t,n){var r=this,o=r.document,i=o.splitNode(e,t,n),a=o.assertNode(e);return r=(r=r.set("document",i)).mapRanges(function(e){var n=i.getNextText(a.key),r=e,o=r.start,s=r.end;return a.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),a.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints(function(e){return e.setPath(null)})})}},{key:"mapRanges",value:function(e){var t=this,n=t,r=n.document,o=n.selection,i=n.decorations,a=o.isSet?e(o):o;a||(a=o.unset()),a!==o&&(a=r.createSelection(a)),t=t.set("selection",a);var s=i.map(function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n});return s=s.filter(function(e){return!!e}),t=t.set("decorations",s)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map(function(t){return t.toJSON(e)})),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function(){Nr(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new Un:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new Un:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new dn:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?hu.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new dn:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new dn:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){Nr(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(e))return e;if(p(e))return t.fromJSON(e,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(e))return{data:e.data,decorations:e.decorations};if(p(e)){var n={};return"data"in e&&(n.data=vu.create(e.data)),"decorations"in e&&(n.decorations=Lu.createList(e.decorations)),n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.data,r=void 0===n?{}:n,o=e.decorations,i=void 0===o?[]:o,a=e.document,s=void 0===a?{}:a,u=e.selection,c=void 0===u?{}:u;if(r=vu.fromJSON(r),c=(s=hu.fromJSON(s)).createSelection(c),i=dn(i.map(function(e){return Lu.fromJSON(e)})),c.isUnset){var f=s.getFirstText();f&&(c=c.moveToStartOfNode(f)),c=s.createSelection(c)}return new t({data:r,decorations:i,document:s,selection:c})}}]),t}(mr({data:void 0,decorations:void 0,document:void 0,selection:void 0})),Vu=qr("slate:operation:apply");function Hu(e,t){var n=(t=Xu.create(t)).type;switch(Vu(n,t),n){case"add_mark":var r=t,o=r.path,i=r.offset,a=r.length,s=r.mark;return e.addMark(o,i,a,s);case"insert_node":var u=t,c=u.path,f=u.node;return e.insertNode(c,f);case"insert_text":var l=t,d=l.path,v=l.offset,h=l.text,p=l.marks;return e.insertText(d,v,h,p);case"merge_node":var y=t.path;return e.mergeNode(y);case"move_node":var m=t,g=m.path,k=m.newPath;return Ru.isEqual(g,k)?e:e.moveNode(g,k);case"remove_mark":var _=t,b=_.path,w=_.offset,A=_.length,x=_.mark;return e.removeMark(b,w,A,x);case"remove_node":var O=t.path;return e.removeNode(O);case"remove_text":var S=t,E=S.path,T=S.offset,N=S.text;return e.removeText(E,T,N);case"set_mark":var C=t,F=C.path,B=C.offset,j=C.length,P=C.mark,z=C.properties;return e.setMark(F,B,j,P,z);case"set_node":var I=t,D=I.path,R=I.properties;return e.setNode(D,R);case"set_selection":var M=t.properties;return e.setSelection(M);case"set_value":var L=t.properties;return e.setProperties(L);case"split_node":var q=t,K=q.path,U=q.position,J=q.properties;return e.splitNode(K,U,J);default:throw new Error('Unknown operation type: "'+n+'".')}}var $u=qr("slate:operation:invert");function Yu(e){var t=(e=Xu.create(e)).type;switch($u(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(Ru.isEqual(r,o))return e;var i=r,a=o,s=o.size-1,u=r.size-1;return o.size<i.size&&o.slice(0,s).every(function(e,t){return e==i.get(t)})&&o.last()<i.get(s)&&(i=i.slice(0,s).concat(i.get(s)-1).concat(i.slice(s+1,i.size))),r.size<a.size&&r.slice(0,u).every(function(e,t){return e==a.get(t)})&&r.last()<=a.get(u)&&(a=a.slice(0,u).concat(a.get(u)+1).concat(a.slice(u+1,a.size))),e.set("path",i).set("newPath",a);case"merge_node":var c=e.path,f=Ru.decrement(c);return e.set("type","split_node").set("path",f);case"split_node":var l=e.path,d=Ru.increment(l);return e.set("type","merge_node").set("path",d);case"set_node":var v=e,h=v.properties,p=v.node,y=p.merge(h),m=ua(p,Object.keys(h));return e.set("node",y).set("properties",m);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");case"set_mark":var g=e,k=g.properties,_=g.mark,b=_.merge(k),w=ua(_,Object.keys(k));return e.set("mark",b).set("properties",w);case"set_selection":var A=e,x=A.properties,O=A.selection,S=O.merge(x),E=ua(O,Object.keys(x));return e.set("selection",S).set("properties",E);case"set_value":var T=e,N=T.properties,C=T.value,F=C.merge(N),B=ua(C,Object.keys(N));return e.set("value",F).set("properties",B);default:throw new Error('Unknown operation type: "'+t+'".')}}var Gu={add_mark:["value","path","offset","length","mark","data"],insert_node:["value","path","node","data"],insert_text:["value","path","offset","text","marks","data"],merge_node:["value","path","position","properties","target","data"],move_node:["value","path","newPath","data"],remove_mark:["value","path","offset","length","mark","data"],remove_node:["value","path","node","data"],remove_text:["value","path","offset","text","marks","data"],set_mark:["value","path","offset","length","mark","properties","data"],set_node:["value","path","node","properties","data"],set_selection:["value","selection","properties","data"],set_value:["value","properties","data"],split_node:["value","path","position","properties","target","data"]},Xu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"apply",value:function(e){return Hu(e,this)}},{key:"invert",value:function(){return Yu(this)}},{key:"toJSON",value:function(){var e=this.object,t=this.type,n={object:e,type:t},r=Gu[t],o=!0,i=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=this[c];if("document"!=c&&("selection"!=c&&"value"!=c&&("node"!=c||"insert_node"==t))){if("mark"!=c&&"marks"!=c&&"node"!=c&&"path"!=c&&"newPath"!=c||(f=f.toJSON()),"properties"==c&&"merge_node"==t){var l={};"data"in f&&(l.data=f.data.toJS()),"type"in f&&(l.type=f.type),f=l}if("properties"==c&&"set_mark"==t){var d={};"data"in f&&(d.data=f.data.toJS()),"type"in f&&(d.type=f.type),f=d}if("properties"==c&&"set_node"==t){var v={};"data"in f&&(v.data=f.data.toJS()),"type"in f&&(v.type=f.type),f=v}if("properties"==c&&"set_selection"==t){var h={};"anchor"in f&&(h.anchor=f.anchor.toJSON()),"focus"in f&&(h.focus=f.focus.toJSON()),"isFocused"in f&&(h.isFocused=f.isFocused),"marks"in f&&(h.marks=f.marks&&f.marks.toJSON()),f=h}if("properties"==c&&"set_value"==t){var p={};"data"in f&&(p.data=f.data.toJS()),"decorations"in f&&(p.decorations=f.decorations.toJS()),f=p}if("properties"==c&&"split_node"==t){var y={};"data"in f&&(y.data=f.data.toJS()),"type"in f&&(y.type=f.type),f=y}"data"===c&&(f=f.toJSON()),n[c]=f}}}catch(m){i=!0,a=m}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}return n}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(e))return e;if(p(e))return t.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(dn.isList(e)||Array.isArray(e))return new dn(e.map(t.create));throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(t.isOperation(e))return e;var n=e.type,r=Gu[n],o={type:n};if(!r)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var i=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value,l=e[f];if("data"===f&&void 0===l&&(l={}),void 0===l){if("document"==f)continue;if("selection"==f)continue;if("value"==f)continue;if("node"==f&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+f+'" attribute.')}"path"!==f&&"newPath"!==f||(l=Ru.create(l)),"mark"===f&&(l=yu.create(l)),"marks"===f&&null!=l&&(l=yu.createSet(l)),"node"===f&&(l=Eu.create(l)),"selection"===f&&(l=Ju.create(l)),"value"===f&&(l=Wu.create(l)),"properties"===f&&"merge_node"===n&&(l=Eu.createProperties(l)),"properties"===f&&"set_mark"===n&&(l=yu.createProperties(l)),"properties"===f&&"set_node"===n&&(l=Eu.createProperties(l)),"properties"===f&&"set_selection"===n&&(l=Ju.createProperties(l)),"properties"===f&&"set_value"===n&&(l=Wu.createProperties(l)),"properties"===f&&"split_node"===n&&(l=Eu.createProperties(l)),"data"===f&&(l=qt(l)),o[f]=l}}catch(d){a=!0,s=d}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}return new t(o)}},{key:"isOperationList",value:function(e){return dn.isList(e)&&e.every(function(e){return t.isOperation(e)})}}]),t}(mr({length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0,data:void 0})),Qu=function(e){function t(){return iu(this,t),fu(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return uu(t,e),au(t,[{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(t){return t.toJSON(e)})}}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isChange(e))return e;if(p(e))return t.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var n=e.value,r=e.operations,o=void 0===r?[]:r;return new t({value:Wu.create(n),operations:Xu.createList(o)})}}]),t}(mr({operations:void 0,value:void 0}));function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onCommand:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();n.command.apply(n,[a].concat(du(i)))},onConstruct:function(t,n){for(var r in e)t.registerCommand(r);return n()}}}var ec=55296,tc=57343,nc=/\s/,rc=/['\u2018\u2019]/,oc=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function ic(e){return ec<=e&&e<=tc}function ac(e,t){if(nc.test(e))return!1;if(rc.test(e)){var n=t.charAt(0),r=sc(n);if(ac(n=t.slice(0,r),t.slice(r)))return!0}return!oc.test(e)}function sc(e){return ic(e.charCodeAt(0))?2:1}function uc(e){return sc(e.charAt(0))}function cc(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var i=sc(o);if(ac(o=e.slice(n,n+i),e.slice(n+i)))r=!0,t+=i;else{if(r)break;t+=i}n+=i}return t}var fc={getCharLength:sc,getCharOffset:uc,getCharOffsetBackward:function(e,t){return e=e.slice(0,t),uc(e=ca(e))},getCharOffsetForward:function(e,t){return uc(e=e.slice(t))},getWordOffset:cc,getWordOffsetBackward:function(e,t){return e=e.slice(0,t),cc(e=ca(e))},getWordOffsetForward:function(e,t){return cc(e=e.slice(t))},isSurrogate:ic,isWord:ac};function lc(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,i=r.end;return t=n.hasDescendant(o.key)?t.moveToStart():t.moveTo(i.key,0).normalize(n)}var dc={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,i=t.end,a=r.getTextsAtRange(t);e.withoutNormalizing(function(){a.forEach(function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.addMarkByKey(r,a,s,n)})})}},addMarksAtRange:function(e,t,n){n.forEach(function(n){return e.addMarkAtRange(t,n)})},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=n.document,f=c.hasVoidParent(i,e),l=c.hasVoidParent(s,e),d=c.getClosestBlock(i),v=c.getClosestBlock(s),h=0==a&&0==u&&0==f&&i==d.getFirstText().key&&s==v.getFirstText().key;if(h&&l){var p=c.getPreviousText(s);s=p.key,u=p.text.length,l=c.hasVoidParent(s,e)}e.withoutNormalizing(function(){for(;f;){var t=c.getClosestVoid(i,e),n=c.getNextText(i);if(e.removeNodeByKey(t.key),i==s)return;if(!n)return;c=e.value.document,i=n.key,a=0,f=c.hasVoidParent(i,e)}for(;l;){var r=c.getClosestVoid(s,e),o=c.getPreviousText(s);e.removeNodeByKey(r.key),c=e.value.document,s=o.key,u=o.text.length,l=c.hasVoidParent(s,e)}if(i==s&&h)e.removeNodeByKey(d.key);else if(i!=s){d=c.getClosestBlock(i),v=c.getClosestBlock(s);var p=c.getNode(i),y=c.getNode(s),m=p.text.length-a,g=u,k=c.getCommonAncestor(i,s),_=k.getFurthestAncestor(i),b=k.getFurthestAncestor(s),w=c.getParent(d.key),A=w.nodes.indexOf(d),x=w.nodes.indexOf(v),O=void 0;for(O=p;O.key!=_.key;){var S=c.getParent(O.key),E=S.nodes.indexOf(O);S.nodes.slice(E+1).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),O=S}var T=k.nodes.indexOf(_),N=k.nodes.indexOf(b);for(k.nodes.slice(T+1,N).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),O=y;O.key!=b.key;){var C=c.getParent(O.key),F=C.nodes.indexOf(O);C.nodes.slice(0,F).reverse().forEach(function(t){e.removeNodeByKey(t.key)}),O=C}if(0!=m&&e.removeTextByKey(i,a,m),0!=g&&e.removeTextByKey(s,0,u),d.key!=v.key){var B=(c=e.value.document).getFurthestOnlyChildAncestor(v.key);x!=A+1&&e.moveNodeByKey(v.key,w.key,A+1),h?e.removeNodeByKey(d.key):e.mergeNodeByKey(v.key),B&&e.removeNodeByKey(B.key)}}else{var j=a,P=u-a;e.removeTextByKey(i,j,P)}})},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(i.key,e);if(s)e.removeNodeByKey(s.key);else if(!i.isAtStartOfNode(r)){var u=r.getClosestBlock(i.key);if(1!==r.nodes.size&&u&&""===u.text&&1===u.nodes.size)e.removeNodeByKey(u.key);else{var c=r.getDescendant(i.key);if(i.isAtStartOfNode(c)){var f=r.getPreviousText(c.key);r.getClosestInline(c.key)&&""===f.text&&(f=r.getPreviousText(f.key));var l=r.getClosestBlock(f.key),d=r.getClosestVoid(f.key,e);if(d)return void e.removeNodeByKey(d.key);if(1==n&&l!=u)return t=t.moveAnchorTo(f.key,f.text.length),void e.deleteAtRange(t)}if(n<a.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var v=c,h=0,p=a.offset;n>p;){var y=p+(v=r.getPreviousText(v.key)).text.length;if(n<=y){h=y-n;break}p=y}t=t.moveAnchorTo(v.key,h),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getCharOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getCharOffsetForward(a,i);e.deleteForwardAtRange(t,s)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value.document,o=t,i=o.start,a=o.focus;if(t.isExpanded)e.deleteAtRange(t);else{var s=r.getClosestVoid(i.key,e);if(s)e.removeNodeByKey(s.key);else{var u=r.getClosestBlock(i.key);if(u&&!e.isVoid(u)&&""===u.text&&1!==r.nodes.size){var c=r.getNextBlock(u.key);return e.removeNodeByKey(u.key),void(c&&c.key&&e.moveToStartOfNode(c))}if(!i.isAtEndOfNode(r)){var f=r.getDescendant(i.key);if(i.isAtEndOfNode(f)){var l=r.getNextText(f.key),d=r.getClosestBlock(l.key),v=r.getClosestVoid(l.key,e);if(v)return void e.removeNodeByKey(v.key);if(1==n&&d!=u)return t=t.moveFocusTo(l.key,0),void e.deleteAtRange(t)}if(n<=f.text.length-a.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var h=f,p=a.offset,y=f.text.length-a.offset;n>y;){var m=y+(h=r.getNextText(h.key)).text.length;if(n<=m){p=n-y;break}y=m}t=t.moveFocusTo(h.key,p),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-i)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=0===i?1:fc.getWordOffsetBackward(a,i);e.deleteBackwardAtRange(t,s)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),i=o.getOffset(r.key)+r.offset,a=o.text,s=fc.getWordOffsetForward(a,i),u=0===s?1:s;e.deleteForwardAtRange(t,u)}},insertBlockAtRange:function(e,t,n){t=lc(e,t),n=Tu.create(n);var r=e.value.document,o=t.start,i=o.key,a=o.offset,s=r.getClosestBlock(i),u=r.getClosestInline(i),c=r.getParent(s.key),f=c.nodes.indexOf(s);if(e.isVoid(s)){var l=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(c.key,f+l,n)}else if(u||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(c.key,f,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(c.key,f+1,n);else{if(u&&e.isVoid(u)){var d=o.isAtEndOfNode(u),v=d?r.getNextText(i):r.getPreviousText(i),h=d?t.moveToStartOfNode(v):t.moveToEndOfNode(v);i=h.start.key,a=h.start.offset}e.withoutNormalizing(function(){e.splitDescendantsByKey(s.key,i,a),e.insertNodeByKey(c.key,f+1,n)})}else e.insertNodeByKey(c.key,f+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing(function(){if(t=lc(e,t),n.nodes.size){n=n.mapDescendants(function(e){return e.regenerateKey()});var r=t.start,o=e.value.document,i=o.getDescendant(r.key),a=o.getClosestBlock(i.key),s=a.getFurthestAncestor(i.key),u=r.isAtStartOfNode(a),c=o.getParent(a.key),f=c.nodes.indexOf(a),l=n.getBlocks(),d=n.nodes.first(),v=n.nodes.last(),h=l.first(),p=l.last(),y=vc(n,o,a.key);if(h===p&&e.isVoid(h))e.insertBlockAtRange(t,h);else if(y!==n||!d.hasBlockChildren()&&!v.hasBlockChildren()){if(h!=p){var m=y.getFurthest(h.key,function(e){return 1==e.nodes.size})||h,g=c.nodes.indexOf(a);y.removeNode(m.key).nodes.forEach(function(t,n){var r=g+n+1;e.insertNodeByKey(c.key,r,t)})}if(0!=r.offset&&e.splitDescendantsByKey(s.key,r.key,r.offset),i=(o=e.value.document).getDescendant(r.key),s=(a=o.getClosestBlock(r.key)).getFurthestAncestor(i.key),h!=p){var k=u?s:a.getNextSibling(s.key),_=k?a.nodes.skipUntil(function(e){return e.key==k.key}):dn(),b=p.nodes.size;_.forEach(function(t,n){var r=b+n;e.moveNodeByKey(t.key,p.key,r)})}if(e.isVoid(a)||""!==a.text){var w=a.getFurthestAncestor(i.key),A=a.nodes.indexOf(w);h.nodes.forEach(function(t,n){var o=0==r.offset?0:1,i=A+n+o;e.insertNodeByKey(a.key,i,t)})}else e.removeNodeByKey(a.key),e.insertNodeByKey(c.key,f,h)}else n.nodes.reverse().forEach(function(n){e.insertBlockAtRange(t,n)})}})}},vc=function(e,t,n){var r=function(e){return e&&1===e.nodes.size},o=function(e){return e&&e.nodes.first()},i=e;if(r(e)){var a=o(e),s=t.getFurthest(n,function(e){return e.type===a.type});for(s===t.getParent(n)&&(i=a);r(a)&&r(s)&&(a=o(a),s=o(s),a.type===s.type);)i=a}return i};dc.insertInlineAtRange=function(e,t,n){n=pu.create(n),e.withoutNormalizing(function(){t=lc(e,t);var r=e.value.document,o=t.start,i=r.getParent(o.key),a=r.assertDescendant(o.key),s=i.nodes.indexOf(a);e.isVoid(i)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(i.key,s+1,n))})},dc.insertTextAtRange=function(e,t,n,r){t=lc(e,t);var o=e.value.document,i=t.start,a=i.offset,s=o.getParent(i.key);e.isVoid(s)||e.insertTextByKey(i.key,a,n,r)},dc.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,i=t.end;e.withoutNormalizing(function(){r.forEach(function(t){var r=t.key,a=0,s=t.text.length;r==o.key&&(a=o.offset),r==i.key&&(s=i.offset),r==o.key&&r==i.key&&(s=i.offset-o.offset),e.removeMarkByKey(r,a,s,n)})})}},dc.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=t.start,a=t.end,s=t.isCollapsed,u=r.hasVoidParent(i.key,e),c=r.getClosestBlock(i.key),f=r.getClosestBlock(a.key),l=0==s&&0==i.offset&&0==a.offset&&0==u&&i.key==c.getFirstText().key&&a.key==f.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing(function(){l.forEach(function(t){e.setNodeByKey(t.key,n)})})},dc.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing(function(){r.forEach(function(t){e.setNodeByKey(t.key,n)})})},dc.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t=lc(e,t),o=r.start,i=r.end,a=e.value,s=a.document,u=s.assertDescendant(o.key),c=s.getClosestBlock(u.key),f=0;c&&"block"==c.object&&f<n;)u=c,c=s.getClosestBlock(c.key),f++;e.withoutNormalizing(function(){if(e.splitDescendantsByKey(u.key,o.key,o.offset),a=e.value,s=a.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=s.getNextBlock(u.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===i.key&&(t=t.moveFocusTo(t.anchor.key,i.offset-o.offset)),t=s.resolveRange(t),e.deleteAtRange(t)}})},dc.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=(t=lc(e,t)).start,o=e.value.document,i=o.assertDescendant(r.key),a=o.getClosestInline(i.key),s=0;a&&"inline"==a.object&&s<n;)i=a,a=o.getClosestInline(a.key),s++;e.splitDescendantsByKey(i.key,r.key,r.offset)},dc.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=yu.create(n),e.value.document.getActiveMarksAtRange(t).some(function(e){return e.equals(n)})?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},dc.unwrapBlockAtRange=function(e,t,n){n=Eu.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.map(function(e){return r.getClosest(e.key,function(e){return"block"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){i.forEach(function(t){var n=t.nodes.first(),i=t.nodes.last(),a=r.getParent(t.key),s=a.nodes.indexOf(t),u=t.nodes.filter(function(e){return o.some(function(t){return e==t||e.hasDescendant(t.key)})}),c=u.first(),f=u.last();if(n==c&&i==f)t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+n)}),e.removeNodeByKey(t.key);else if(i==f)t.nodes.skipUntil(function(e){return e==c}).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+1+n)});else if(n==c)t.nodes.takeUntil(function(e){return e==f}).push(f).forEach(function(t,n){e.moveNodeByKey(t.key,a.key,s+n)});else{var l=c.getFirstText();e.splitDescendantsByKey(t.key,l.key,0),r=e.value.document,u.forEach(function(t,n){if(0==n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,a.key,s+1+n)})}})})},dc.unwrapInlineAtRange=function(e,t,n){n=Eu.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map(function(e){return r.getClosest(e.key,function(e){return"inline"==e.object&&((null==n.type||e.type==n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))})}).filter(function(e){return e}).toOrderedSet().toList();e.withoutNormalizing(function(){o.forEach(function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach(function(t,o){e.moveNodeByKey(t.key,n.key,r+o)}),e.removeNodeByKey(t.key)})})},dc.wrapBlockAtRange=function(e,t,n){n=(n=Tu.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),i=o.first(),a=o.last(),s=void 0,u=void 0,c=void 0;if(1===o.length?(s=r.getParent(i.key),u=o):s=r.getClosest(i.key,function(e){return!!r.getClosest(a.key,function(t){return e==t})}),null==s&&(s=r),null==u){var f=s.nodes.reduce(function(e,t,n){return(t==i||t.hasDescendant(i.key))&&(e[0]=n),(t==a||t.hasDescendant(a.key))&&(e[1]=n),e},[]);c=f[0],u=s.nodes.slice(f[0],f[1]+1)}null==c&&(c=s.nodes.indexOf(u.first())),e.withoutNormalizing(function(){e.insertNodeByKey(s.key,c,n),u.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r)})})},dc.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,i=t.end;if(t.isCollapsed){var a=r.getClosestInline(o.key);if(!a)return;if(!e.isVoid(a))return;return e.wrapInlineByKey(a.key,n)}n=(n=pu.create(n)).set("nodes",n.nodes.clear());var s=r.getLeafBlocksAtRange(t),u=r.getClosestBlock(o.key),c=r.getClosestBlock(i.key),f=r.getClosestInline(o.key),l=r.getClosestInline(i.key),d=u.getFurthestAncestor(o.key),v=c.getFurthestAncestor(i.key);e.withoutNormalizing(function(){f&&f==l||(e.splitDescendantsByKey(v.key,i.key,i.offset),e.splitDescendantsByKey(d.key,o.key,o.offset)),r=e.value.document,u=r.getDescendant(u.key),c=r.getDescendant(c.key),d=u.getFurthestAncestor(o.key),v=c.getFurthestAncestor(i.key);var a=u.nodes.indexOf(d),h=c.nodes.indexOf(v);if(f&&f==l){var p=u.getTextsAtRange(t).get(0).splitText(o.offset)[1].splitText(i.offset-o.offset)[0];n=n.set("nodes",dn([p])),e.insertInlineAtRange(t,n);var y=n.getFirstText().key,m={anchor:{key:y,offset:0},focus:{key:y,offset:i.offset-o.offset},isFocused:!0};e.select(m)}else if(u==c){r=e.value.document,u=r.getClosestBlock(o.key),d=u.getFurthestAncestor(o.key);var g=r.getNextSibling(d.key),k=u.nodes.indexOf(g),_=o.key==i.key?g:u.getFurthestAncestor(i.key),b=u.nodes.skipUntil(function(e){return e==g}).takeUntil(function(e){return e==_}).push(_),w=n.regenerateKey();e.insertNodeByKey(u.key,k,w),b.forEach(function(t,n){e.moveNodeByKey(t.key,w.key,n)})}else{var A=u.nodes.slice(a+1),x=c.nodes.slice(0,h+1),O=n.regenerateKey(),S=n.regenerateKey();e.insertNodeByKey(u.key,a+1,O),e.insertNodeByKey(c.key,h,S),A.forEach(function(t,n){e.moveNodeByKey(t.key,O.key,n)}),x.forEach(function(t,n){e.moveNodeByKey(t.key,S.key,n)}),s.slice(1,-1).forEach(function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n)})})}})},dc.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,i=t.end,a=t.moveToStart(),s=t.moveToEnd();o.key==i.key&&(s=s.moveForward(n.length)),e.withoutNormalizing(function(){e.insertTextAtRange(a,n,[]),e.insertTextAtRange(s,r,[])})};var hc={addMarkByPath:function(e,t,n,r,o){o=yu.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,f=0;a.forEach(function(e){var n=f,r=n+e.text.length;if(f+=e.text.length,!(r<u||c<n)&&!e.marks.has(o)){var a=Math.max(n,u),l=Math.min(r,c);s.push({type:"add_mark",value:i,path:t,offset:a,length:l-a,mark:o})}}),s.forEach(function(t){return e.applyOperation(t)})},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach(function(r,o){e.insertNodeByPath(t,n+o,r)})},insertNodeByPath:function(e,t,n,r){var o=e.value;e.applyOperation({type:"insert_node",value:o,path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){var i=e.value,a=i.decorations,s=i.document.assertNode(t);o=o||s.getMarksAtIndex(n);var u=!1,c=s.key,f=a.filter(function(t){var r=t.start,o=t.end,i=t.mark;return!e.isAtomic(i)||(r.key!==c||(!(r.offset<n&&(o.key!==c||o.offset>n))||(u=!0,!1)))});u&&e.setDecorations(f),e.applyOperation({type:"insert_text",value:i,path:t,offset:n,text:r,marks:o})},mergeNodeByPath:function(e,t){var n=e.value,r=n.document,o=r.getDescendant(t),i=r.getPreviousSibling(t);if(!i)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"==i.object?i.text.length:i.nodes.size;e.applyOperation({type:"merge_node",value:n,path:t,position:a,properties:{type:o.type,data:o.data},target:null})},moveNodeByPath:function(e,t,n,r){var o=e.value;if(Ru.isEqual(t,n))return e;e.applyOperation({type:"move_node",value:o,path:t,newPath:n.concat(r)})},removeMarkByPath:function(e,t,n,r,o){o=yu.create(o);var i=e.value,a=i.document.assertNode(t).getLeaves(),s=[],u=n,c=n+r,f=0;a.forEach(function(e){var n=f,r=n+e.text.length;if(f+=e.text.length,!(r<u||c<n)&&e.marks.has(o)){var a=Math.max(n,u),l=Math.min(r,c);s.push({type:"remove_mark",value:i,path:t,offset:a,length:l-a,mark:o})}}),s.forEach(function(t){return e.applyOperation(t)})},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach(function(t){t.getMarksAsArray().forEach(function(n){e.removeMarkByKey(t.key,0,t.text.length,n)})})},removeNodeByPath:function(e,t){var n=e.value,r=n.document.assertNode(t);e.applyOperation({type:"remove_node",value:n,path:t,node:r})},removeTextByPath:function(e,t,n,r){var o=e.value,i=o.decorations,a=o.document.assertNode(t),s=a.getLeaves(),u=a.text,c=!1,f=a.key,l=n,d=n+r,v=i.filter(function(t){var n=t.start,r=t.end,o=t.mark;return!e.isAtomic(o)||(n.key!==f||(n.offset<l&&(r.key!==f||r.offset>l)?(c=!0,!1):!(n.offset<d&&(r.key!==f||r.offset>d))||(c=!0,null)))});c&&e.setDecorations(v);var h=[],p=n,y=n+r,m=0;s.forEach(function(e){var n=m,r=n+e.text.length;if(m+=e.text.length,!(r<p||y<n)){var i=Math.max(n,p),a=Math.min(r,y),s=u.slice(i,a);h.push({type:"remove_text",value:o,path:t,offset:i,text:s,marks:e.marks})}}),h.reverse().forEach(function(t){return e.applyOperation(t)})},replaceNodeByPath:function(e,t,n){n=Eu.create(n);var r=t.last(),o=Ru.lift(t);e.withoutNormalizing(function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)})},replaceTextByPath:function(e,t,n,r,o,i){var a=e.value.document,s=a.assertNode(t);r+n>s.text.length&&(r=s.text.length-n);var u=a.createRange({anchor:{path:t,offset:n},focus:{path:t,offset:n+r}}),c=a.getActiveMarksAtRange(u);e.withoutNormalizing(function(){e.removeTextByPath(t,n,r),i?c&&(c=c.filter(function(e){return!i.find(function(t){return e.type===t.type})}),i=c.merge(i)):i=c||[],e.insertTextByPath(t,n,o,i)})},setMarkByPath:function(e,t,n,r,o,i){o=yu.create(o),i=yu.createProperties(i);var a=e.value;e.applyOperation({type:"set_mark",value:a,path:t,offset:n,length:r,mark:o,properties:i})},setNodeByPath:function(e,t,n){n=Eu.createProperties(n);var r=e.value,o=r.document.assertNode(t);e.applyOperation({type:"set_node",value:r,path:t,node:o,properties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).target,o=void 0===r?null:r,i=e.value,a=i.document.getDescendant(t);e.applyOperation({type:"split_node",value:i,path:t,position:n,target:o,properties:{type:a.type,data:a.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,i=o.assertNode(t),a=o.assertNode(n),s=o.getAncestors(n).skipUntil(function(e){return e.key==i.key}).reverse().unshift(a),u=void 0,c=void 0;e.withoutNormalizing(function(){s.forEach(function(t){var n=null==c?null:c;c=u?t.nodes.indexOf(u)+1:r,u=t,e.splitNodeByKey(t.key,c,{target:n})})})}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapInlineAtRange(c,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,i=r.selection,a=o.assertNode(t),s=a.getFirstText(),u=a.getLastText(),c=i.moveToRangeOfNode(s,u);e.unwrapBlockAtRange(c,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=Ru.lift(t),o=n.assertNode(r),i=t.last(),a=r.last(),s=Ru.lift(r),u=0===i,c=i===o.nodes.size-1;e.withoutNormalizing(function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,a+1),e.removeNodeByPath(r);else if(u)e.moveNodeByPath(t,s,a);else if(c)e.moveNodeByPath(t,s,a+1);else{var n=Ru.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,i),e.moveNodeByPath(n,s,a+1)}})},unwrapChildrenByPath:function(e,t){t=Ru.create(t);var n=e.value.document.assertNode(t),r=Ru.lift(t),o=t.last(),i=n.nodes;e.withoutNormalizing(function(){i.reverse().forEach(function(n,a){var s=i.size-a-1,u=t.push(s);e.moveNodeByPath(u,r,o+1)}),e.removeNodeByPath(t)})},wrapBlockByPath:function(e,t,n){n=(n=Tu.create(n)).set("nodes",n.nodes.clear());var r=Ru.lift(t),o=t.last(),i=Ru.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapInlineByPath:function(e,t,n){n=(n=pu.create(n)).set("nodes",n.nodes.clear());var r=Ru.lift(t),o=t.last(),i=Ru.increment(t);e.withoutNormalizing(function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(i,t,0)})},wrapNodeByPath:function(e,t,n){"block"===(n=Eu.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},pc=function(e){hc[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=t.value.document.assertPath(n);t[e+"ByPath"].apply(t,[a].concat(o))}},yc=!0,mc=!1,gc=void 0;try{for(var kc,_c=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(yc=(kc=_c.next()).done);yc=!0){pc(kc.value)}}catch(kv){mc=!0,gc=kv}finally{try{!yc&&_c.return&&_c.return()}finally{if(mc)throw gc}}hc.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,s=a.assertPath(t),u=a.assertPath(n);e.moveNodeByPath.apply(e,[s,u].concat(o))},hc.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=e.value.document,s=a.assertPath(t),u=a.assertPath(n);e.splitDescendantsByPath.apply(e,[s,u].concat(o))};var bc={};bc.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,i=o.save,a=o.merge;if(!1!==i){var s,u,c=r.get("undos")||dn(),f=c.last(),l=f&&f.last();if(null==a&&(0!==n.size?a=!0:(s=t,a=!!(u=l)&&("set_selection"===s.type&&"set_selection"===u.type||"insert_text"===s.type&&"insert_text"===u.type&&s.offset===u.offset+u.text.length&&s.path.equals(u.path)||"remove_text"===s.type&&"remove_text"===u.type&&s.offset+s.text.length===u.offset&&s.path.equals(u.path)))),a&&f){var d=f.push(t);c=(c=c.pop()).push(d)}else{var v=dn([t]);c=c.push(v)}c.size>100&&(c=c.takeLast(100)),e.withoutSaving(function(){var t=dn(),n=r.set("undos",c).set("redos",t);e.setData(n)})}},bc.redo=function(e){var t=e.value.data,n=t.get("redos")||dn(),r=t.get("undos")||dn(),o=n.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",Qs(o,"isFocused"))),e.applyOperation(t)}),n=n.pop(),r=r.push(o);var i=t.set("undos",r).set("redos",n);e.setData(i)})})},bc.undo=function(e){var t=e.value.data,n=t.get("redos")||dn(),r=t.get("undos")||dn(),o=r.last();o&&e.withoutSaving(function(){e.withoutNormalizing(function(){o.slice().reverse().map(function(e){return e.invert()}).forEach(function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",Qs(o,"isFocused"))),e.applyOperation(t)}),n=n.push(o),r=r.pop();var i=t.set("undos",r).set("redos",n);e.setData(i)})})},bc.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},bc.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var wc={};function Ac(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=(n=e.value.selection)[t].apply(n,o);e.select(a)}function xc(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),a=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+i+"OfNode",u="text"==r?"getNode":"getClosest"+a,c=e.value,f=c.document,l=c.selection[t],d=f[u](l.key);d&&e[s](d)}function Oc(e,t,n,r,o){var i=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),u=o.slice(0,1).toUpperCase()+o.slice(1),c="move"+i+"To"+a+"OfNode",f="text"==o?"getNode":"getClosest"+u,l="get"+s+u,d=e.value,v=d.document,h=d.selection[t],p=v[f](h.key);if(p){var y=v[l](p.key);y&&e[c](y)}}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Ec(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],u=i.hasVoidParent(s.path,e);if(!u&&s.offset-n>=0){var c=a["move"+r+"Backward"](n);e.select(c)}else{var f=i.getPreviousText(s.path);if(f){var l=i.getClosestBlock(s.path).hasNode(f.key),d=f&&i.hasVoidParent(f.key,e);if(e["move"+r+"ToEndOfNode"](f),!u&&!d&&l){var v=e.value.selection["move"+r+"Backward"](n);e.select(v)}}}}}function Ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return Sc(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,i=o.document,a=o.selection,s=a[t],u=i.getNode(s.path),c=i.hasVoidParent(s.path,e);if(!c&&s.offset+n<=u.text.length){var f=a["move"+r+"Forward"](n);e.select(f)}else{var l=i.getNextText(s.path);if(l){var d=i.getClosestBlock(s.path).hasNode(l.key),v=i.hasVoidParent(l.key,e);if(e["move"+r+"ToStartOfNode"](l),!c&&!v&&d){var h=e.value.selection["move"+r+"Forward"](n);e.select(h)}}}}}function Tc(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=fc.getWordOffsetBackward(s,a);e.command(Sc,t,u>0?u:1)}function Nc(e,t){var n=e.value,r=n.document,o=n.selection[t],i=r.getClosestBlock(o.key),a=i.getOffset(o.key)+o.offset,s=i.text,u=fc.getWordOffsetForward(s,a);e.command(Ec,t,u>0?u:1)}wc.blur=function(e){e.select({isFocused:!1})},wc.deselect=function(e){var t=Ju.create();e.select(t)},wc.focus=function(e){e.select({isFocused:!0})},wc.flip=function(e){e.command(Ac,"flip")},wc.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"anchor"].concat(n))},wc.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"anchor"].concat(n))},wc.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ec,"anchor"].concat(n))},wc.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"anchor"].concat(n))},wc.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveAnchorTo"].concat(n))},wc.moveAnchorToEndOfBlock=function(e){e.command(xc,"anchor","end","block")},wc.moveAnchorToEndOfInline=function(e){e.command(xc,"anchor","end","inline")},wc.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},wc.moveAnchorToEndOfNextBlock=function(e){e.command(Oc,"anchor","end","next","block")},wc.moveAnchorToEndOfNextInline=function(e){e.command(Oc,"anchor","end","next","inline")},wc.moveAnchorToEndOfNextText=function(e){e.command(Oc,"anchor","end","next","text")},wc.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveAnchorToEndOfNode"].concat(n))},wc.moveAnchorToEndOfPreviousBlock=function(e){e.command(Oc,"anchor","end","previous","block")},wc.moveAnchorToEndOfPreviousInline=function(e){e.command(Oc,"anchor","end","previous","inline")},wc.moveAnchorToEndOfPreviousText=function(e){e.command(Oc,"anchor","end","previous","text")},wc.moveAnchorToEndOfText=function(e){e.command(xc,"anchor","end","text")},wc.moveAnchorToStartOfBlock=function(e){e.command(xc,"anchor","start","block")},wc.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},wc.moveAnchorToStartOfInline=function(e){e.command(xc,"anchor","start","inline")},wc.moveAnchorToStartOfNextBlock=function(e){e.command(Oc,"anchor","start","next","block")},wc.moveAnchorToStartOfNextInline=function(e){e.command(Oc,"anchor","start","next","inline")},wc.moveAnchorToStartOfNextText=function(e){e.command(Oc,"anchor","start","next","text")},wc.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveAnchorToStartOfNode"].concat(n))},wc.moveAnchorToStartOfPreviousBlock=function(e){e.command(Oc,"anchor","start","previous","block")},wc.moveAnchorToStartOfPreviousInline=function(e){e.command(Oc,"anchor","start","previous","inline")},wc.moveAnchorToStartOfPreviousText=function(e){e.command(Oc,"anchor","start","previous","text")},wc.moveAnchorToStartOfText=function(e){e.command(xc,"anchor","start","text")},wc.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},wc.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},wc.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"end"].concat(n))},wc.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"end"].concat(n))},wc.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ec,"end"].concat(n))},wc.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"end"].concat(n))},wc.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveEndTo"].concat(n))},wc.moveEndToEndOfBlock=function(e){e.command(xc,"end","end","block")},wc.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},wc.moveEndToEndOfInline=function(e){e.command(xc,"end","end","inline")},wc.moveEndToEndOfNextBlock=function(e){e.command(Oc,"end","end","next","block")},wc.moveEndToEndOfNextInline=function(e){e.command(Oc,"end","end","next","inline")},wc.moveEndToEndOfNextText=function(e){e.command(Oc,"end","end","next","text")},wc.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveEndToEndOfNode"].concat(n))},wc.moveEndToEndOfPreviousBlock=function(e){e.command(Oc,"end","end","previous","block")},wc.moveEndToEndOfPreviousInline=function(e){e.command(Oc,"end","end","previous","inline")},wc.moveEndToEndOfPreviousText=function(e){e.command(Oc,"end","end","previous","text")},wc.moveEndToEndOfText=function(e){e.command(xc,"end","end","text")},wc.moveEndToStartOfBlock=function(e){e.command(xc,"end","start","block")},wc.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},wc.moveEndToStartOfInline=function(e){e.command(xc,"end","start","inline")},wc.moveEndToStartOfNextBlock=function(e){e.command(Oc,"end","start","next","block")},wc.moveEndToStartOfNextInline=function(e){e.command(Oc,"end","start","next","inline")},wc.moveEndToStartOfNextText=function(e){e.command(Oc,"end","start","next","text")},wc.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveEndToStartOfNode"].concat(n))},wc.moveEndToStartOfPreviousBlock=function(e){e.command(Oc,"end","start","previous","block")},wc.moveEndToStartOfPreviousInline=function(e){e.command(Oc,"end","start","previous","inline")},wc.moveEndToStartOfPreviousText=function(e){e.command(Oc,"end","start","previous","text")},wc.moveEndToStartOfText=function(e){e.command(xc,"end","start","text")},wc.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"focus"].concat(n))},wc.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"focus"].concat(n))},wc.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ec,"focus"].concat(n))},wc.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"focus"].concat(n))},wc.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveFocusTo"].concat(n))},wc.moveFocusToEndOfBlock=function(e){e.command(xc,"focus","end","block")},wc.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},wc.moveFocusToEndOfInline=function(e){e.command(xc,"focus","end","inline")},wc.moveFocusToEndOfNextBlock=function(e){e.command(Oc,"focus","end","next","block")},wc.moveFocusToEndOfNextInline=function(e){e.command(Oc,"focus","end","next","inline")},wc.moveFocusToEndOfNextText=function(e){e.command(Oc,"focus","end","next","text")},wc.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveFocusToEndOfNode"].concat(n))},wc.moveFocusToEndOfPreviousBlock=function(e){e.command(Oc,"focus","end","previous","block")},wc.moveFocusToEndOfPreviousInline=function(e){e.command(Oc,"focus","end","previous","inline")},wc.moveFocusToEndOfPreviousText=function(e){e.command(Oc,"focus","end","previous","text")},wc.moveFocusToEndOfText=function(e){e.command(xc,"focus","end","text")},wc.moveFocusToStartOfBlock=function(e){e.command(xc,"focus","start","block")},wc.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},wc.moveFocusToStartOfInline=function(e){e.command(xc,"focus","start","inline")},wc.moveFocusToStartOfNextBlock=function(e){e.command(Oc,"focus","start","next","block")},wc.moveFocusToStartOfNextInline=function(e){e.command(Oc,"focus","start","next","inline")},wc.moveFocusToStartOfNextText=function(e){e.command(Oc,"focus","start","next","text")},wc.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveFocusToStartOfNode"].concat(n))},wc.moveFocusToStartOfPreviousBlock=function(e){e.command(Oc,"focus","start","previous","block")},wc.moveFocusToStartOfPreviousInline=function(e){e.command(Oc,"focus","start","previous","inline")},wc.moveFocusToStartOfPreviousText=function(e){e.command(Oc,"focus","start","previous","text")},wc.moveFocusToStartOfText=function(e){e.command(xc,"focus","start","text")},wc.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},wc.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},wc.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Sc,"start"].concat(n))},wc.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Tc,"start"].concat(n))},wc.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ec,"start"].concat(n))},wc.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Nc,"start"].concat(n))},wc.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveStartTo"].concat(n))},wc.moveStartToEndOfBlock=function(e){e.command(xc,"start","end","block")},wc.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},wc.moveStartToEndOfInline=function(e){e.command(xc,"start","end","inline")},wc.moveStartToEndOfNextBlock=function(e){e.command(Oc,"start","end","next","block")},wc.moveStartToEndOfNextInline=function(e){e.command(Oc,"start","end","next","inline")},wc.moveStartToEndOfNextText=function(e){e.command(Oc,"start","end","next","text")},wc.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveStartToEndOfNode"].concat(n))},wc.moveStartToEndOfPreviousBlock=function(e){e.command(Oc,"start","end","previous","block")},wc.moveStartToEndOfPreviousInline=function(e){e.command(Oc,"start","end","previous","inline")},wc.moveStartToEndOfPreviousText=function(e){e.command(Oc,"start","end","previous","text")},wc.moveStartToEndOfText=function(e){e.command(xc,"start","end","text")},wc.moveStartToStartOfBlock=function(e){e.command(xc,"start","start","block")},wc.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},wc.moveStartToStartOfInline=function(e){e.command(xc,"start","start","inline")},wc.moveStartToStartOfNextBlock=function(e){e.command(Oc,"start","start","next","block")},wc.moveStartToStartOfNextInline=function(e){e.command(Oc,"start","start","next","inline")},wc.moveStartToStartOfNextText=function(e){e.command(Oc,"start","start","next","text")},wc.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveStartToStartOfNode"].concat(n))},wc.moveStartToStartOfPreviousBlock=function(e){e.command(Oc,"start","start","previous","block")},wc.moveStartToStartOfPreviousInline=function(e){e.command(Oc,"start","start","previous","inline")},wc.moveStartToStartOfPreviousText=function(e){e.command(Oc,"start","start","previous","text")},wc.moveStartToStartOfText=function(e){e.command(xc,"start","start","text")},wc.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveTo"].concat(n))},wc.moveToAnchor=function(e){e.command(Ac,"moveToAnchor")},wc.moveToEnd=function(e){e.command(Ac,"moveToEnd")},wc.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},wc.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},wc.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},wc.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},wc.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},wc.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},wc.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveToEndOfNode"].concat(n))},wc.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},wc.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},wc.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},wc.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},wc.moveToFocus=function(e){e.command(Ac,"moveToFocus")},wc.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},wc.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveToRangeOfNode"].concat(n))},wc.moveToStart=function(e){e.command(Ac,"moveToStart")},wc.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},wc.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},wc.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},wc.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},wc.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},wc.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},wc.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"moveToStartOfNode"].concat(n))},wc.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},wc.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},wc.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},wc.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},wc.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Ju.createProperties(t);var r=n.snapshot,o=void 0!==r&&r,i=e.value,a=i.document,s=i.selection,u={},c=s.setProperties(t);for(var f in c=a.resolveSelection(c),t=ua(c,Object.keys(t)))!0!==o&&Oe(t[f],s[f])||(u[f]=t[f]);s.marks&&!u.marks&&(u.anchor||u.focus)&&(u.marks=null),0!==Object.keys(u).length&&e.applyOperation({type:"set_selection",value:i,properties:u,selection:s.toJSON()},o?{skip:!1,merge:!1}:{})},wc.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"setAnchor"].concat(n))},wc.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"setEnd"].concat(n))},wc.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"setFocus"].concat(n))},wc.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[Ac,"setStart"].concat(n))},wc.snapshotSelection=function(e){e.withoutMerging(function(){e.select(e.value.selection,{snapshot:!0})})};var Cc={};function Fc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{onConstruct:function(t,n){for(var r in e)t.registerQuery(r);return n()},onQuery:function(t,n,r){var o=t.type,i=t.args,a=e[o];if(!a)return r();var s=a.apply(void 0,[n].concat(du(i)));return void 0===s?r():s}}}Cc.setData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Wu.createProperties({data:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})},Cc.setDecorations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Wu.createProperties({decorations:t}),r=e.value;e.applyOperation({type:"set_value",properties:n,value:r})};var Bc=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iu(this,t);var r=fu(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var o in r.code=e,n)r[o]=n[o];return Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=(new Error).stack,r}return uu(t,e),t}(Error);function jc(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,i=e.marks,a=[];if(t&&(a=a.concat(t)),n&&a.push(su({match:[{object:"document"}]},n)),r)for(var s in r)a.push(su({match:[{object:"block",type:s}]},r[s]));if(o)for(var u in o)a.push(su({match:[{object:"inline",type:u}]},o[u]));if(i)for(var c in i)a.push(su({match:[{object:"mark",type:c}]},i[c]));function f(e,t,n){var r=a.filter(function(t){return Pc(e,t.match)}),o=zc(e,r,a,{every:!0});return o?new Bc(o.code,o):n()}return[{normalizeNode:function(e,t,n){var r=f(e,0,function(){});return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function(e,t){var n=t.code,r=t.node,o=t.child,i=t.next,a=t.previous,s=t.key,u=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach(function(t){return e.removeNodeByKey(t.key)}):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach(function(t){return e.removeMarkByKey(t.key,0,t.text.length,u)});default:e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode:f},Fc({isAtomic:function(e,t){var n=a.find(function(e){return"isAtomic"in e&&Pc(t,e.match)});return n&&n.isAtomic},isVoid:function(e,t){var n=a.find(function(e){return"isVoid"in e&&Pc(t,e.match)});return n&&n.isVoid}})]}function Pc(e,t){return!zc(e,t)}function zc(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).every,o=void 0!==r&&r;if(Array.isArray(t)){var i=t.length?t:[{}],a=void 0,s=!0,u=!1,c=void 0;try{for(var f,l=i[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var d=zc(e,f.value,n);if(a=a||d,o&&d)return d;if(!o&&!d)return}}catch(kv){u=!0,c=kv}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}return a}return function(e,t){if(null==t.object)return;if(t.object===e.object)return;if("function"===typeof t.object&&t.object(e.object))return;return Mc("node_object_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.type)return;if(t.type===e.type)return;if("function"===typeof t.type&&t.type(e.type))return;return Mc("node_type_invalid",{rule:t,node:e})}(e,t)||function(e,t){if(null==t.data)return;if(null==e.data)return;if("function"===typeof t.data){if(t.data(e.data))return;return Mc("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n),i="function"===typeof r?r(o):r===o;if(!i)return Mc("node_data_invalid",{rule:t,node:e,key:n,value:o})}}(e,t)||function(e,t){if(null==t.marks)return;var n=e.getMarks().toArray(),r=function(n){var r=t.marks.some(function(e){return"function"===typeof e.type?e.type(n.type):e.type===n.type});return r?"continue":{v:Mc("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value,f=r(c);switch(f){case"continue":continue;default:if("object"===("undefined"===typeof f?"undefined":ou(f)))return f.v}}}catch(kv){i=!0,a=kv}finally{try{!o&&u.return&&u.return()}finally{if(i)throw a}}}(e,t)||function(e,t){if(null==t.text)return;var n=e.text;if("function"===typeof t.text?t.text(n):t.text.test(n))return;return Mc("node_text_invalid",{rule:t,node:e,text:n})}(e,t)||function(e,t){if(null==t.first)return;var n=e.nodes.first();if(!n)return;var r=zc(n,t.first);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}(e,t)||function(e,t){if(null==t.last)return;var n=e.nodes.last();if(!n)return;var r=zc(n,t.last);if(!r)return;return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}(e,t)||function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==e.nodes)return;var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],i=0,a=0,s=null,u=-1,c=null,f=null,l=null,d=null,v=null;function h(){return 0!==o.length&&(c=o.shift(),a=i,i=0,s=c.min||null,f=c.max||null,!0)}function p(){return d=(u+=1)?r.get(u-1):null,l=r.get(u),v=r.get(u+1),!!l&&(a=i,i+=1,!0)}function y(){u>0&&(u-=1,i=a)}null!=t.nodes&&h();for(;p();){var m=Ic(e,l,n)||Dc(e,l,d,u,n)||Rc(e,l,v,u,n);if(m)return m;if(null!=t.nodes){if(!c)return Mc("child_unknown",{rule:t,node:e,child:l,index:u});if(c.match){var g=zc(l,c.match);if(g){if(null!=f&&i-1>f)return y(),Mc("child_max_invalid",{rule:t,node:e,index:u,child:r.get(u),count:i,limit:f});var k=s;if(h()){if(a-1>=k){u-=1;continue}return null==zc(l,c.match)?(y(),Mc("child_min_invalid",{rule:t,node:e,index:u,count:a-1,limit:k})):(g.rule=t,g.node=e,g.child=l,g.index=u,g.code=g.code.replace("node_","child_"),g)}return null!=f&&i>f?Mc("child_unknown",{rule:t,node:e,child:l,index:u}):(g.rule=t,g.node=e,g.child=l,g.index=u,g.code=g.code.replace("node_","child_"),g)}}}}if(null!=f&&i>f)return Mc("child_max_invalid",{rule:t,node:e,index:u-1,count:i,child:r.get(u-1),limit:f});if(null!=t.nodes)do{if(i<s)return Mc("child_min_invalid",{rule:t,node:e,index:u,count:i,limit:s})}while(h())}(e,t,n)}function Ic(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(null!=u.parent&&Pc(t,u.match)){var c=zc(e,u.parent);if(c)return c.rule=u,c.parent=e,c.node=t,c.code=c.code.replace("node_","parent_"),c}}}catch(kv){o=!0,i=kv}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}function Dc(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(null!=f.previous&&Pc(t,f.match)){var l=zc(n,f.previous);if(l)return l.rule=f,l.node=e,l.child=t,l.index=r,l.previous=n,l.code=l.code.replace("node_","previous_sibling_"),l}}}catch(kv){a=!0,s=kv}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function Rc(e,t,n,r,o){if(n){var i=!0,a=!1,s=void 0;try{for(var u,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(null!=f.next&&Pc(t,f.match)){var l=zc(n,f.next);if(l)return l.rule=f,l.node=e,l.child=t,l.index=r,l.next=n,l.code=l.code.replace("node_","next_sibling_"),l}}}catch(kv){a=!0,s=kv}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}}function Mc(e,t){return su({code:e},t)}function Lc(e){e.value.selection.isExpanded&&e.delete()}var qc={};qc.addMark=function(e,t){t=yu.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var i=o.marks.add(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).add(t),u=o.set("marks",s);e.select(u)}},qc.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})},qc.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},qc.deleteBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteBackwardAtRange(n,t)},qc.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharBackwardAtRange(t)},qc.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineBackwardAtRange(t)},qc.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordBackwardAtRange(t)},qc.deleteForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value.selection;n.isExpanded?e.delete():e.deleteForwardAtRange(n,t)},qc.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharForwardAtRange(t)},qc.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineForwardAtRange(t)},qc.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordForwardAtRange(t)},qc.insertBlock=function(e,t){Lc(e),t=Tu.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},qc.insertFragment=function(e,t){if(t.nodes.size){Lc(e);var n=e.value,r=n,o=r.document,i=r.selection,a=i.start,s=i.end,u=n,c=u.startText,f=u.endText,l=u.startInline,d=t.getLastText(),v=t.getClosestInline(d.key),h=t.getClosestBlock(d.key),p=t.nodes.first(),y=t.nodes.last(),m=o.getTexts().map(function(e){return e.key}),g=!l||a.isAtStartOfNode(c)||s.isAtStartOfNode(c)||a.isAtEndOfNode(f)||s.isAtEndOfNode(f),k=p.hasBlockChildren()||y.hasBlockChildren();e.insertFragmentAtRange(i,t);var _=(o=(n=e.value).document).getTexts().filter(function(e){return!m.includes(e.key)}),b=g?_.last():_.takeLast(2).first();b&&(v||k)?e.moveToEndOfNode(b):b&&e.moveToStartOfNode(b).moveForward(h.text.length)}},qc.insertInline=function(e,t){Lc(e),t=pu.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},qc.insertText=function(e,t,n){Lc(e);var r=e.value,o=r.document,i=r.selection;n=n||i.marks||o.getInsertMarksAtRange(i),e.insertTextAtRange(i,t,n),i.marks&&o!=e.value.document&&e.select({marks:null})},qc.removeMark=function(e,t){t=yu.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var i=o.marks.remove(t),a=o.set("marks",i);e.select(a)}else{var s=r.getActiveMarksAtRange(o).remove(t),u=o.set("marks",s);e.select(u)}},qc.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},qc.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},qc.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},qc.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Lc(e);var n=e.value,r=n.selection,o=n.document,i=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),i&&0!==i.size&&e.select({marks:i})},qc.splitInline=function(e,t){Lc(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},qc.toggleMark=function(e,t){t=yu.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},qc.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},qc.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},qc.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},qc.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},qc.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value.selection;e.wrapTextAtRange(r,t,n),r.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),r.isForward!=e.value.selection.isForward&&e.flip()};var Kc=qr("slate:editor"),Uc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iu(this,e);var r=n.controller,o=void 0===r?this:r,i=n.construct,a=void 0===i||i,s=t.onChange,u=void 0===s?function(){}:s,c=t.plugins,f=void 0===c?[]:c,l=t.readOnly,d=void 0!==l&&l,v=t.value,h=void 0===v?Wu.create():v;this.controller=o,this.middleware={},this.onChange=u,this.operations=dn(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0},function e(t,n){if(Array.isArray(n))return void n.forEach(function(n){return e(t,n)});var r=n.commands,o=n.queries,i=n.schema,a=cu(n,["commands","queries","schema"]);if(r){var s=Zu(r);e(t,s)}if(o){var u=Fc(o);e(t,u)}if(i){var c=jc(i);e(t,c)}for(var f in a){var l=a[f],d=t.middleware[f]=t.middleware[f]||[];d.push(l)}}(this,function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=Zu(su({},dc,hc,bc,wc,Cc,qc)),r=Fc({isAtomic:function(){return!1},isVoid:function(){return!1}});return[jc({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,Su.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=Su.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else{if("last_child_object_invalid"!==n)return;i=r.nodes.size}e.insertNodeByKey(r.key,i,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(e,t){var n=t.code,r=t.node,o=t.index,i=Su.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else if("last_child_object_invalid"===n)a=r.nodes.size;else if("previous_sibling_object_invalid"===n)a=o;else{if("next_sibling_object_invalid"!==n)return;a=o+1}e.insertNodeByKey(r.key,a,i)}},{match:{object:"text"},next:[{object:"block"},{object:"inline"}],normalize:function(e,t){var n=t.code,r=t.next;"next_sibling_object_invalid"===n&&e.mergeNodeByKey(r.key)}}]})].concat(du(t),[n,r])}({plugins:f})),a&&(this.run("onConstruct"),this.setReadOnly(d),this.setValue(h,n))}return au(e,[{key:"applyOperation",value:function(e){var t=this,n=this.operations,r=this.controller,o=this.value;p(e)&&(e=su({},e,{value:o})),e=Xu.create(e),this.withoutNormalizing(function(){r.save(e),o=t.value}),Kc("apply",{operation:e}),this.value=e.apply(o),this.operations=n.push(e);var i=function(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var i=Ru.getAncestors(r).toArray();return[].concat(du(i),[r]);case"insert_node":var a=n.getKeysToPathsTable(),s=Object.values(a).map(function(e){return r.concat(e)}),u=Ru.getAncestors(r).toArray();return[].concat(du(u),[r],du(s));case"split_node":var c=Ru.getAncestors(r).toArray(),f=Ru.increment(r);return[].concat(du(c),[r,f]);case"merge_node":var l=Ru.getAncestors(r).toArray(),d=Ru.decrement(r);return[].concat(du(l),[d]);case"move_node":var v=Ru.lift(r),h=Ru.lift(o);if(Ru.isEqual(r,o))return[];Ru.isSibling(r,o)||(h.size&&Ru.isYounger(r,o)&&(h=Ru.decrement(h,1,r.size-1)),v.size&&Ru.isYounger(o,r)&&(v=Ru.increment(v,1,o.size-1)));var p=Ru.getAncestors(v).toArray(),y=Ru.getAncestors(h).toArray();return[].concat(du(p),[v],du(y),[h]);case"remove_node":var m=Ru.getAncestors(r).toArray();return[].concat(du(m));default:return[]}}(e),a=this.tmp.dirty.reduce(function(t,n){n=Ru.create(n);var r=Ru.transform(n,e);return t=t.concat(r.toArray())},i);return this.tmp.dirty=a,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return t.flush()})),r}},{key:"flush",value:function(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,r={value:e,operations:t};return this.operations=dn(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof e)return e.apply(void 0,[o].concat(n)),Jc(this),o;Kc("command",{type:e,args:n});var i={type:e,args:n};return this.run("onCommand",i),Jc(this),o}},{key:"hasCommand",value:function(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(Ru.create);this.tmp.dirty=this.tmp.dirty.concat(o),Jc(this);var i=e.selection;return n=e.document,i.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"===typeof e)return e.apply(void 0,[o].concat(n));Kc("query",{type:e,args:n});var i={type:e,args:n};return this.run("onQuery",i)}},{key:"registerCommand",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;Nr(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;Nr(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,i=this.middleware[e]||[],a=0;function s(){var e=i[a++];if(e){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];return r.length&&(n=r),e.apply(void 0,du(n).concat([o,s]))}}return Object.defineProperty(s,"change",{get:function(){Nr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"onChange",{get:function(){Nr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"props",{get:function(){Nr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"schema",{get:function(){Nr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(s,"stack",{get:function(){Nr(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),s()}},{key:"setReadOnly",value:function(e){return this.readOnly=e,this}},{key:"setValue",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).normalize,n=void 0===t?e!==this.value:t;return this.value=e,n&&this.normalize(),this}},{key:"withoutNormalizing",value:function(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,Jc(this),t}},{key:"change",value:function(e){Sr(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function(e){Sr(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function(e){var t=this;return Sr(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach(function(e){return t.applyOperation(e)}),this.controller}},{key:"setOperationFlag",value:function(e,t){return Sr(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sr(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function(e){return Sr(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function(e){return Sr(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function(){return Sr(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),e}();function Jc(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing(function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();Wc(e,t)}})}function Wc(e,t){for(var n=e.controller,r=e.value,o=r.document,i=o.assertNode(t),a=0,s=100+("text"===i.object?1:i.nodes.size);i;){var u=i.normalize(n);if(!u)break;u(n),o=(r=e.value).document;var c=i.key,f=o.getDescendant(t);if(f&&f.key===c)i=f;else{if(!(f=o.getDescendant(c)))break;i=f,t=o.getPath(c)}if(++a>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function Vc(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,u=!0,c=!1,f=void 0;try{for(var l,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(u=(l=d.next()).done);u=!0){var v=l.value;if(!s.hasOwnProperty(v)){var h=Object.getOwnPropertyDescriptor(e,v);Object.defineProperty(s,v,h)}}}catch(kv){c=!0,f=kv}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}var p=!0,y=!1,m=void 0;try{for(var g,k=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(p=(g=k.next()).done);p=!0){var _=g.value;if(!s.prototype.hasOwnProperty(_)){h=Object.getOwnPropertyDescriptor(e.prototype,_);Object.defineProperty(s.prototype,_,h)}}}catch(kv){y=!0,m=kv}finally{try{!p&&k.return&&k.return()}finally{if(y)throw m}}}}catch(kv){r=!0,o=kv}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}}function Hc(e){var t=qu[e],n="is"+(""+e.charAt(0).toUpperCase()+e.slice(1)),r=function(){function t(){iu(this,t)}return au(t,[{key:"object",get:function(){return e}}]),t}();return r[n]=Ku.bind(null,e),r.prototype[t]=!0,r}Vc(Hc("block"),[Tu]),Vc(Hc("change"),[Qu]),Vc(Hc("decoration"),[Lu]),Vc(Hc("document"),[hu]),Vc(Hc("editor"),[Uc]),Vc(Hc("inline"),[pu]),Vc(Hc("leaf"),[mu]),Vc(Hc("mark"),[yu]),Vc(Hc("node"),[Eu]),Vc(Hc("operation"),[Xu]),Vc(Hc("point"),[Mu]),Vc(Hc("range"),[Uu]),Vc(Hc("selection"),[Ju]),Vc(Hc("text"),[Su]),Vc(Hc("value"),[Wu]),Vc(function(){function e(){iu(this,e)}return au(e,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),e}(),[Tu,Lu,hu,pu,mu,yu,Eu,Xu,Mu,Uu,Ju,Su,Wu]);var $c=function(){function e(){iu(this,e)}return au(e,[{key:"getFirstText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.find(function(t){return"text"===t.object||!!(e=t.getFirstText())});return e||t}},{key:"getKeysToPathsTable",value:function(){var e,t,n,r=(e={},t=this.key,n=[],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return this.nodes&&this.nodes.forEach(function(e,t){var n=e.getKeysToPathsTable();for(var o in n){var i=n[o];Sr(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[t].concat(du(i))}}),r}},{key:"getLastText",value:function(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast(function(t){return"text"==t.object||(e=t.getLastText())});return e||t}},{key:"getNode",value:function(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function(e){if(dn.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?dn(t):null}},{key:"getText",value:function(){return("text"===this.object?this.leaves:this.nodes).reduce(function(e,t){return e+t.text},"")}},{key:"hasNode",value:function(e){return!!this.getNode(e)}},{key:"normalize",value:function(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function(){var e=ru.create();return this.set("key",e)}},{key:"resolvePath",value:function(e,t){return"string"===typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=Ru.create(e),e}},{key:"validate",value:function(e){return e.run("validateNode",this)}},{key:"text",get:function(){return this.getText()}}]),e}();Ou($c.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),Vc($c,[Tu,hu,pu,Su]);var Yc=function(){function e(){iu(this,e)}return au(e,[{key:"addMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.addMark(t,n,r),this.replaceNode(e,o)}},{key:"createDecoration",value:function(e){return e=Lu.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function(e){return e=Mu.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function(e){return e=Uu.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function(e){return e=Ju.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function(e){var t=[];return this.forEachDescendant(function(n,r,o){e(n,r,o)&&t.push(n)}),dn(t)}},{key:"findDescendant",value:function(e){var t=null;return this.forEachDescendant(function(n,r,o){if(e(n,r,o))return t=n,!1}),t}},{key:"forEachDescendant",value:function(e){var t=void 0;return this.nodes.forEach(function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!=n.object?t=n.forEachDescendant(e):void 0}),t}},{key:"getActiveMarksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return Un();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.key,t.offset).toSet()}var n=e,r=n.start,o=n.end,i=r.key,a=r.offset,s=o.key,u=o.offset,c=this.getDescendant(i);if(i!==s){for(;i!==s&&0===u;){var f=this.getPreviousText(s);s=f.key,u=f.text.length}for(;i!==s&&a===c.text.length;)i=(c=this.getNextText(i)).key,a=0}if(i===s)return c.getActiveMarksBetweenOffsets(a,u);var l=c.getActiveMarksBetweenOffsets(a,c.text.length);if(0===l.size)return Un();var d=this.getDescendant(s).getActiveMarksBetweenOffsets(0,u),v=l.intersect(d);if(0===v.size)return v;for(var h=this.getNextText(i);h.key!==s;){if(0!==h.text.length&&0===(v=v.intersect(h.getActiveMarks())).size)return Un();h=this.getNextText(h.key)}return v}},{key:"getAncestors",value:function(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach(function(r,o){var i=e.slice(0,o),a=t.getNode(i);n.push(a)}),dn(n)}},{key:"getBlocks",value:function(){var e=this.getBlocksAsArray();return dn(e)}},{key:"getBlocksAsArray",value:function(){return this.nodes.reduce(function(e,t){return"block"!=t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())},[])}},{key:"getBlocksAtRange",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getBlocksByType",value:function(e){var t=this.getBlocksByTypeAsArray(e);return dn(t)}},{key:"getBlocksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"block"!=n.object?t:n.isLeafBlock()&&n.type==e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))},[])}},{key:"getChild",value:function(e){return(e=this.resolvePath(e))&&1===e.size?this.nodes.get(e.first()):null}},{key:"getClosest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))})||null}},{key:"getClosestBlock",value:function(e){return this.getClosest(e,function(e){return"block"===e.object})}},{key:"getClosestInline",value:function(e){return this.getClosest(e,function(e){return"inline"===e.object})}},{key:"getClosestVoid",value:function(e,t){Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast(function(e){return t.query("isVoid",e)}):null}},{key:"getCommonAncestor",value:function(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=Ru.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function(e){Nr(!Wu.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this);return Lu.createList(t)}},{key:"getDepth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(e=this.resolvePath(e))&&this.getNode(e)?e.size-1+t:null}},{key:"getDescendant",value:function(e){if(!(e=this.resolvePath(e)))return null;var t=e.flatMap(function(e){return["nodes",e]});return this.getIn(t)}},{key:"getFragmentAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return hu.create();for(var t=e,n=t.start,r=t.end,o=this,i=r.path,a=r.offset,s="end";i.size;){var u=i.last();o=o.splitNode(i,a),a=u+1,(i=Ru.lift(i)).size||"end"!==s||(i=n.path,a=n.offset,s="start")}var c=n.path.first()+1,f=r.path.first()+2,l=o.nodes.slice(c,f);return hu.create({nodes:l})}},{key:"getFurthest",value:function(e,t){var n=this,r=this.getAncestors(e);return r&&r.find(function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e!==n&&t.apply(void 0,[e].concat(o))})||null}},{key:"getFurthestAncestor",value:function(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function(e){return this.getFurthest(e,function(e){return"block"===e.object})}},{key:"getFurthestInline",value:function(e){return this.getFurthest(e,function(e){return"inline"===e.object})}},{key:"getFurthestOnlyChildAncestor",value:function(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil(function(e){return e.nodes.size>1}).last()||null}},{key:"getInlines",value:function(){var e=this.getInlinesAsArray();return dn(e)}},{key:"getInlinesAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"!=t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))}),e}},{key:"getInlinesAtRange",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function(e){return Sr(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getInlinesByType",value:function(e){var t=this.getInlinesByTypeAsArray(e);return dn(t)}},{key:"getInlinesByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"==n.object?t:n.isLeafInline()&&n.type==e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))},[])}},{key:"getInsertMarksAtRange",value:function(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Un():e.isCollapsed?this.getMarksAtPosition(t.key,t.offset):this.getDescendant(t.key).getMarksAtIndex(t.offset+1)}},{key:"getLeafBlocksAtRange",value:function(e){var t=this.getLeafBlocksAtRangeAsArray(e);return dn(dr(t))}},{key:"getLeafBlocksAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end,o=this.getClosestBlock(n.key);if(n.key===r.key)return[o];var i=this.getClosestBlock(r.key),a=this.getBlocksAsArray(),s=a.indexOf(o),u=a.indexOf(i);return a.slice(s,u+1)}},{key:"getLeafInlinesAtRange",value:function(e){var t=this.getLeafInlinesAtRangeAsArray(e);return dn(dr(t))}},{key:"getLeafInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map(function(e){return t.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getMarks",value:function(){var e=this.getMarksAsArray();return Un(e)}},{key:"getMarksAsArray",value:function(){var e,t=[];return this.nodes.forEach(function(e){t.push(e.getMarksAsArray())}),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function(e,t){var n=this.getDescendant(e).getMarksAtIndex(t);if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousText(e);return o?r.hasDescendant(o.key)?o.getMarksAtIndex(o.text.length):n:Un()}},{key:"getMarksAtRange",value:function(e){return Un(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return Un(t)}},{key:"getMarksByTypeAsArray",value:function(e){return this.nodes.reduce(function(t,n){return"text"==n.object?t.concat(n.getMarksAsArray().filter(function(t){return t.type==e})):t.concat(n.getMarksByTypeAsArray(e))},[])}},{key:"getNextBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getLastText():n=this.getClosestBlock(e).getLastText();var r=this.getNextText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getNextNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=Ru.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=Ru.increment(e);return this.getNode(t)}},{key:"getNextText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getNodesAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return dn();for(var t=e,n=t.start,r=t.end,o=Bn(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map(function(e,t){return{node:e,onStartEdge:0===t,onEndEdge:t===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}})),i=[],a=function(){var e=o.peek(),t=e.node,n=e.onStartEdge,r=e.onEndEdge,a=e.relativeStartPath,s=e.relativeEndPath;if(o=o.shift(),i.push(t),"text"===t.object)return"continue";var u=n?a.get(0):0,c=r?s.get(0):t.nodes.size-1;o=o.pushAll(t.nodes.slice(u,c+1).map(function(e,t){return{node:e,onStartEdge:n&&0===t,onEndEdge:r&&t===c-u,relativeStartPath:n&&0===t?a.slice(1):null,relativeEndPath:r&&t===c-u?s.slice(1):null}}))};o.size>0;)a();return dn(i)}},{key:"getOffset",value:function(e){this.assertDescendant(e);var t=this.getFurthestAncestor(e),n=this.nodes.takeUntil(function(e){return e==t}).reduce(function(e,t){return e+t.text.length},0);return this.hasChild(e)?n:n+t.getOffset(e)}},{key:"getOffsetAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.key)+t.offset}},{key:"getOrderedMarks",value:function(){var e=this.getMarksAsArray();return dr(e)}},{key:"getOrderedMarksAtRange",value:function(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?dr():e.isCollapsed?this.getMarksAtPosition(n.key,n.offset):this.getOrderedMarksBetweenPositions(n.key,n.offset,r.key,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function(e,t,n,r){if(e===n)return this.getDescendant(e).getMarksBetweenOffsets(t,r);var o=this.getTextsBetweenPositionsAsArray(e,n);return dr().withMutations(function(i){o.forEach(function(o){o.key===e?i.union(o.getMarksBetweenOffsets(t,o.text.length)):o.key===n?i.union(o.getMarksBetweenOffsets(0,r)):i.union(o.getMarks())})})}},{key:"getOrderedMarksByType",value:function(e){var t=this.getMarksByTypeAsArray(e);return dr(t)}},{key:"getParent",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=Ru.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function(e){var t=this.assertDescendant(e),n=void 0;"block"==t.object?n=t.getFirstText():n=this.getClosestBlock(e).getFirstText();var r=this.getPreviousText(n.key);return r?this.getClosestBlock(r.key):null}},{key:"getRootBlocksAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return dn();var t=e,n=t.start,r=t.end,o=this.getFurthestBlock(n.key);if(n.key===r.key)return dn([o]);var i=this.getFurthestBlock(r.key),a=this.nodes.indexOf(o),s=this.nodes.indexOf(i);return this.nodes.slice(a,s+1)}},{key:"getRootInlinesAtRange",value:function(e){var t=this.getRootInlinesAtRangeAsArray(e);return dn(dr(t))}},{key:"getRootInlinesAtRangeAsArray",value:function(e){var t=this;return(e=this.resolveRange(e)).isUnset?dn():this.getTextsAtRangeAsArray(e).map(function(e){return t.getFurthestInline(e.key)}).filter(function(e){return e})}},{key:"getPreviousNode",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=Ru.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousSibling",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=Ru.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getSelectionIndexes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key==r.key){var o=this.getFurthestAncestor(n.key),i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var a=null,s=null;return this.nodes.forEach(function(e,t){return"text"==e.object?(null==a&&e.key==n.key&&(a=t),null==s&&e.key==r.key&&(s=t+1)):(null==a&&e.hasDescendant(n.key)&&(a=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==a||null==s}),t&&null==a&&(a=0),t&&null==s&&(s=this.nodes.size),null==a?null:{start:a,end:s}}},{key:"getTextAtOffset",value:function(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find(function(n,r,o){return(t+=n.text.length)>e})}},{key:"getTextDirection",value:function(){var e=Zs(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function(){var e=this.getTextsAsArray();return dn(e)}},{key:"getTextsAsArray",value:function(){var e=[];return this.nodes.forEach(function(t){"text"==t.object?e.push(t):e=e.concat(t.getTextsAsArray())}),e}},{key:"getTextsAtRange",value:function(e){if((e=this.resolveRange(e)).isUnset)return dn();var t=e,n=t.start,r=t.end;return dn(this.getTextsBetweenPositionsAsArray(n.key,r.key))}},{key:"getTextsAtRangeAsArray",value:function(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPositionsAsArray(n.key,r.key)}},{key:"getTextsBetweenPositionsAsArray",value:function(e,t){var n=this.getDescendant(e);if(e==t)return[n];var r=this.getDescendant(t),o=this.getTextsAsArray(),i=o.indexOf(n),a=o.indexOf(r,i);return o.slice(i,a+1)}},{key:"hasBlockChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"block"===e.object}))}},{key:"hasChild",value:function(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function(){return!(!this.nodes||!this.nodes.find(function(e){return"inline"===e.object||"text"===e.object}))}},{key:"hasDescendant",value:function(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function(e,t){return Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function(e,t){var n=(e=this.resolvePath(e)).last(),r=Ru.lift(e),o=this.assertNode(r),i=o.nodes.splice(n,0,t);return o=o.set("nodes",i),this.replaceNode(r,o)}},{key:"insertText",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.insertText(t,n,r),this.replaceNode(e,o)}},{key:"isLeafBlock",value:function(){var e=this.object,t=this.nodes;if(!t.size)return!0;var n=t.first();return"block"===e&&"block"!==n.object}},{key:"isLeafInline",value:function(){var e=this.object,t=this.nodes;if(!t.size)return!0;var n=t.first();return"inline"===e&&"inline"!==n.object}},{key:"isNodeInRange",value:function(e,t){if(this.assertDescendant(e),e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=Ru.compare(e,t.start.path),r=t.start.key===t.end.key?n:Ru.compare(e,t.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var i=e(r,o,t.nodes);i!==r&&(n=n.set(i.key,i))}),this.set("nodes",n)}},{key:"mapDescendants",value:function(e){var t=this,n=this.nodes;return n.forEach(function(r,o){var i=r;"text"!==i.object&&(i=i.mapDescendants(e)),(i=e(i,o,t.nodes))!==r&&(n=n.set(o,i))}),this.set("nodes",n)}},{key:"mergeNode",value:function(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=Ru.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),i=this;return i=(i=(i=i.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=Ru.lift(t);this.assertNode(o);var i=Ru.crop(e,t),a=lu(i,2),s=a[0],u=a[1],c=Ru.compare(s,u);e.size<t.size&&-1===c&&(t=Ru.decrement(t,1,s.size-1));var f=this;return f=(f=f.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function(e,t,n,r){var o=this.assertDescendant(e);return e=this.resolvePath(e),o=o.removeMark(t,n,r),this.replaceNode(e,o)}},{key:"removeNode",value:function(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap(function(e){return["nodes",e]});return this.deleteIn(t)}},{key:"removeText",value:function(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap(function(e){return["nodes",e]});return this.setIn(n,t)}},{key:"resolveDecoration",value:function(e){return e=(e=Lu.create(e)).normalize(this)}},{key:"resolvePoint",value:function(e){return e=(e=Mu.create(e)).normalize(this)}},{key:"resolveRange",value:function(e){return e=(e=Uu.create(e)).normalize(this)}},{key:"resolveSelection",value:function(e){return e=(e=Ju.create(e)).normalize(this)}},{key:"setNode",value:function(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function(e,t,n,r,o){var i=this.assertNode(e);return i=i.updateMark(t,n,r,o),this.replaceNode(e,i)}},{key:"splitNode",value:function(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,i=void 0;if("text"===r.object){var a=r.splitText(t),s=lu(a,2);o=s[0],i=s[1]}else{var u=r.nodes.take(t),c=r.nodes.skip(t);o=r.set("nodes",u),i=r.set("nodes",c).regenerateKey()}n&&"text"!==r.object&&(i=i.merge(n));var f=this;return f=(f=(f=f.removeNode(e)).insertNode(e,i)).insertNode(e,o)}}]),e}(),Gc=function(e){Yc.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this["get"+e].apply(this,[t].concat(r));if(null==i)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return i}},Xc=!0,Qc=!1,Zc=void 0;try{for(var ef,tf=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Xc=(ef=tf.next()).done);Xc=!0){Gc(ef.value)}}catch(kv){Qc=!0,Zc=kv}finally{try{!Xc&&tf.return&&tf.return()}finally{if(Qc)throw Zc}}Ou(Yc.prototype,["getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray"]),Vc(Yc,[Tu,hu,pu]),Vc(function(){function e(){iu(this,e)}return au(e,[{key:"flip",value:function(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function(e){return this.updatePoints(function(t){return t.moveForward(e)})}},{key:"moveBackward",value:function(e){return this.updatePoints(function(t){return t.moveBackward(e)})}},{key:"moveAnchorBackward",value:function(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function(e,t){return this.updatePoints(function(n){return n.moveTo(e,t)})}},{key:"moveToAnchor",value:function(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToEndOfNode(e)})}},{key:"moveToFocus",value:function(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)])}},{key:"moveToStart",value:function(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function(e){return this.updatePoints(function(t){return t.moveToStartOfNode(e)})}},{key:"normalize",value:function(e){return this.updatePoints(function(t){return t.normalize(e)})}},{key:"setAnchor",value:function(e){return this.set("anchor",e)}},{key:"setEnd",value:function(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function(e){return this.set("focus",e)}},{key:"setPoints",value:function(e){var t=lu(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function(e){var t=e=Uu.createProperties(e),n=t.anchor,r=t.focus,o=cu(t,["anchor","focus"]);return n&&(o.anchor=Mu.create(n)),r&&(o.focus=Mu.create(r)),this.merge(o)}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)}}},{key:"toRange",value:function(){var e=Uu.createProperties(this);return Uu.create(e)}},{key:"unset",value:function(){return this.updatePoints(function(e){return e.unset()})}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:Ru.isBefore(n.path,t.path)}},{key:"isForward",get:function(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),e}(),[Lu,Uu,Ju]);var nf=function e(t){if(of(t))return t;if(of(t.ownerDocument))return t.ownerDocument;if(of(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)},rf=9;function of(e){return e&&e.nodeType===rf}var af=!!document.attachEvent&&window!==document.parentWindow,sf=function(e){if(t=e,t&&t.window===t)return e;var t;var n=nf(e);if(af){n.parentWindow.execScript("document._parentWindow = window;","Javascript");var r=n._parentWindow;return n._parentWindow=null,r}return n.defaultView||n.parentWindow};var uf=self.atob.bind(self),cf=self.btoa.bind(self);function ff(e){var t=JSON.stringify(e);return cf(encodeURIComponent(t))}function lf(e){var t=decodeURIComponent(uf(e));return JSON.parse(t)}var df={deserialize:function(e,t){var n=lf(e);return Wu.fromJSON(n,t)},deserializeNode:function(e,t){var n=lf(e);return Eu.fromJSON(n,t)},serialize:function(e,t){return ff(e.toJSON(t))},serializeNode:function(e,t){return ff(e.toJSON(t))}},vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function hf(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter,n=void 0===t?"\n":t;return"document"==e.object||"block"==e.object&&Tu.isBlockList(e.nodes)?e.nodes.map(hf).join(n):e.text}var pf={deserialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultBlock,r=void 0===n?"line":n,o=t.defaultMarks,i=void 0===o?[]:o,a=t.delimiter,s=void 0===a?"\n":a,u=t.toJSON,c=void 0!==u&&u;Un.isSet(i)&&(i=i.toArray()),r=Eu.createProperties(r),i=i.map(yu.createProperties);var f={object:"value",document:{object:"document",data:{},nodes:e.split(s).map(function(e){return vf({},r,{object:"block",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:i}]}]})})}};return c?f:Wu.fromJSON(f)},serialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hf(e.document,t)}},yf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf="object"===("undefined"===typeof window?"undefined":yf(window))&&"object"===("undefined"===typeof document?"undefined":yf(document))&&9===document.nodeType,gf=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(kv){o=!0,i=kv}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),kf=void 0;if(mf){var _f=!0,bf=!1,wf=void 0;try{for(var Af,xf=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]][Symbol.iterator]();!(_f=(Af=xf.next()).done);_f=!0){var Of=gf(Af.value,2),Sf=Of[0];if(Of[1].test(window.navigator.userAgent)){kf=Sf;break}}}catch(kv){bf=!0,wf=kv}finally{try{!_f&&xf.return&&xf.return()}finally{if(bf)throw wf}}}var Ef=void 0;if(mf){var Tf=!0,Nf=!1,Cf=void 0;try{for(var Ff,Bf=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]][Symbol.iterator]();!(Tf=(Ff=Bf.next()).done);Tf=!0){var jf=gf(Ff.value,2),Pf=jf[0];if(jf[1].test(window.navigator.userAgent)){Ef=Pf;break}}}catch(kv){Nf=!0,Cf=kv}finally{try{!Tf&&Bf.return&&Bf.return()}finally{if(Nf)throw Cf}}}var zf=[];if(mf){var If=!0,Df=!1,Rf=void 0;try{for(var Mf,Lf=[["inputeventslevel1",function(e){return"inputType"in(e.InputEvent?new e.InputEvent("input"):{})}],["inputeventslevel2",function(e){var t=e.document.createElement("div");return t.contentEditable=!0,"onbeforeinput"in t}]][Symbol.iterator]();!(If=(Mf=Lf.next()).done);If=!0){var qf=gf(Mf.value,2),Kf=qf[0];(0,qf[1])(window)&&zf.push(Kf)}}catch(kv){Df=!0,Rf=kv}finally{try{!If&&Lf.return&&Lf.return()}finally{if(Df)throw Rf}}}var Uf="firefox"===kf,Jf="safari"===kf,Wf="ie"===kf,Vf="edge"===kf,Hf="ios"===Ef,$f="macos"===Ef,Yf=zf.includes("inputeventslevel2"),Gf=1e3,Xf=60*Gf,Qf=60*Xf,Zf=24*Qf,el=7*Zf,tl=365.25*Zf,nl=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*tl;case"weeks":case"week":case"w":return n*el;case"days":case"day":case"d":return n*Zf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Qf;case"minutes":case"minute":case"mins":case"min":case"m":return n*Xf;case"seconds":case"second":case"secs":case"sec":case"s":return n*Gf;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=Zf)return rl(e,t,Zf,"day");if(t>=Qf)return rl(e,t,Qf,"hour");if(t>=Xf)return rl(e,t,Xf,"minute");if(t>=Gf)return rl(e,t,Gf,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Zf)return Math.round(e/Zf)+"d";if(t>=Qf)return Math.round(e/Qf)+"h";if(t>=Xf)return Math.round(e/Xf)+"m";if(t>=Gf)return Math.round(e/Gf)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function rl(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var ol,il=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var i;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=a,s=Number(new Date),u=s-(i||s);o.diff=u,o.prev=i,o.curr=s,i=s,t[0]=n.coerce(t[0]),"string"!==typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"===typeof i){var a=t[c];e=i.call(o,a),t.splice(c,1),c--}return e}),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=r,a.extend=o,"function"===typeof n.init&&n.init(a),n.instances.push(a),a}function r(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+("undefined"===typeof t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=nl,Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},al=Fr(function(e,t){function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"===typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof r&&"env"in r&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/react-richeditor-skeleton"}).DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=il(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}),sl=(al.log,al.formatArgs,al.save,al.load,al.useColors,al.storage,al.colors,Fr(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)i["f"+a]=111+a;function s(e,t,n){!t||"byKey"in t||(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(e){return u(e,t)}),o=function(e){return r.some(function(t){return c(t,e)})};return null==n?o:o(n)}function u(e,t){var n=t&&t.byKey,o={},i=(e=e.replace("++","+add")).split("+"),a=i.length;for(var s in r)o[r[s]]=!1;var u=!0,c=!1,d=void 0;try{for(var v,h=i[Symbol.iterator]();!(u=(v=h.next()).done);u=!0){var p=v.value,y=p.endsWith("?");y&&(p=p.slice(0,-1));var m=l(p),g=r[m];1!==a&&g||(n?o.key=m:o.which=f(p)),g&&(o[g]=!y||null)}}catch(kv){c=!0,d=kv}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&((null!=(o="key"===n?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r))return!1}return!0}function f(e){return e=l(e),i[e]||e.toUpperCase().charCodeAt(0)}function l(e){return e=e.toLowerCase(),e=o[e]||e}t.default=s,t.isHotkey=s,t.isCodeHotkey=function(e,t){return s(e,t)},t.isKeyHotkey=function(e,t){return s(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=c,t.toKeyCode=f,t.toKeyName=l}));(ol=sl)&&ol.__esModule&&Object.prototype.hasOwnProperty.call(ol,"default")&&ol.default;sl.isHotkey,sl.isCodeHotkey;var ul=sl.isKeyHotkey,cl=(sl.parseHotkey,sl.compareHotkey,sl.toKeyCode,sl.toKeyName,{bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"}),fl={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ll={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},dl={},vl=Hf||$f,hl=!vl;function pl(e,t){function n(n,r,o,i,a){var s=r[o];return null!=s||n?null==s&&n?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but it was not supplied."):t(s)?null:new Error("Invalid "+a+" `"+o+"` supplied to `"+i+"`, expected a Slate `"+e+"` but received: "+s):null}function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!1].concat(t))}return r.isRequired=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[!0].concat(t))},r}[].concat(Object.keys(cl)).concat(Object.keys(fl)).concat(Object.keys(ll)).forEach(function(e){var t="is"+e[0].toUpperCase()+e.slice(1);if(!dl[t]){var n=cl[e],r=fl[e],o=ll[e],i=n&&ul(n),a=r&&ul(r),s=o&&ul(o);dl[t]=function(e){return!(!i||!i(e))||(!!(vl&&a&&a(e))||!!(hl&&s&&s(e)))}}});var yl={block:pl("Block",function(e){return Tu.isBlock(e)}),blocks:pl("List<Block>",function(e){return Tu.isBlockList(e)}),change:pl("Change",function(e){return Qu.isChange(e)}),data:pl("Data",function(e){return vu.isData(e)}),document:pl("Document",function(e){return hu.isDocument(e)}),inline:pl("Inline",function(e){return pu.isInline(e)}),inlines:pl("Inline",function(e){return pu.isInlineList(e)}),leaf:pl("Leaf",function(e){return mu.isLeaf(e)}),leaves:pl("List<Leaf>",function(e){return mu.isLeafList(e)}),mark:pl("Mark",function(e){return yu.isMark(e)}),marks:pl("Set<Mark>",function(e){return yu.isMarkSet(e)}),node:pl("Node",function(e){return Eu.isNode(e)}),nodes:pl("List<Node>",function(e){return Eu.isNodeList(e)}),range:pl("Range",function(e){return Uu.isRange(e)}),ranges:pl("List<Range>",function(e){return Uu.isRangeList(e)}),value:pl("Value",function(e){return Wu.isValue(e)}),text:pl("Text",function(e){return Su.isText(e)}),texts:pl("List<Text>",function(e){return Su.isTextList(e)})},ml="<<anonymous>>";function gl(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof Or.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function kl(e){function t(t,n,r,o,i,a){for(var s=arguments.length,u=Array(s>6?s-6:0),c=6;c<s;c++)u[c-6]=arguments[c];return a=a||r,o=o||ml,null!=n[r]?e.apply(void 0,[n,r,o,i,a].concat(u)):t?new Error("Required "+i+" `"+a+"` was not specified in `"+o+"`."):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function _l(e,t){return kl(function(n,r,o,i,a){var s=n[r];if(!t(s)){var u=gl(s);return new Error("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+o+"`, expected `"+e+"`.")}return null})}function bl(e,t,n){return kl(function(r,o,i,a,s){for(var u=arguments.length,c=Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];var l=r[o];if(!n(l)){var d=a,v=gl(l);return new Error("Invalid "+d+" `"+s+"` of type `"+v+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!==typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+s+"`, expected a function.");for(var h=l.toArray(),p=0,y=h.length;p<y;p++){var m=e.apply(void 0,[h,p,i,a,s+"["+p+"]"].concat(c));if(m instanceof Error)return m}})}function wl(e,t,n,r){return kl(function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return bl(e,n,r).apply(void 0,i)||t&&(s=t,kl(function(e,t,n,r,o){for(var i=arguments.length,a=Array(i>5?i-5:0),u=5;u<i;u++)a[u-5]=arguments[u];var c=e[t];if("function"!==typeof s)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");for(var f=c.keySeq().toArray(),l=0,d=f.length;l<d;l++){var v=s.apply(void 0,[f,l,n,r,o+" -> key("+f[l]+")"].concat(a));if(v instanceof Error)return v}})).apply(void 0,i);var s})}function Al(e){var t=void 0===arguments[1]?"Iterable":arguments[1],n=void 0===arguments[2]?Or.Iterable.isIterable:arguments[2];return kl(function(r,o,i,a,s){for(var u=arguments.length,c=Array(u>5?u-5:0),f=5;f<u;f++)c[f-5]=arguments[f];var l=r[o];if(!n(l)){var d=gl(l);return new Error("Invalid "+a+" `"+s+"` of type `"+d+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var v=l.toObject();for(var h in e){var p=e[h];if(p){var y=p.apply(void 0,[v,h,i,a,s+"."+h].concat(c));if(y)return y}}})}function xl(e){return Al(e)}var Ol={listOf:function(e){return bl(e,"List",Or.List.isList)},mapOf:function(e,t){return wl(e,t,"Map",Or.Map.isMap)},orderedMapOf:function(e,t){return wl(e,t,"OrderedMap",Or.OrderedMap.isOrderedMap)},setOf:function(e){return bl(e,"Set",Or.Set.isSet)},orderedSetOf:function(e){return bl(e,"OrderedSet",Or.OrderedSet.isOrderedSet)},stackOf:function(e){return bl(e,"Stack",Or.Stack.isStack)},iterableOf:function(e){return bl(e,"Iterable",Or.Iterable.isIterable)},recordOf:function(e){return kl(function(t,n,r,o,i){for(var a=arguments.length,s=Array(a>5?a-5:0),u=5;u<a;u++)s[u-5]=arguments[u];var c=t[n];if(!(c instanceof Or.Record)){var f=gl(c),l=o;return new Error("Invalid "+l+" `"+i+"` of type `"+f+"` supplied to `"+r+"`, expected an Immutable.js Record.")}for(var d in e){var v=e[d];if(v){var h=c.toObject(),p=v.apply(void 0,[h,d,r,o,i+"."+d].concat(s));if(p)return p}}})},shape:xl,contains:xl,mapContains:function(e){return Al(e,"Map",Or.Map.isMap)},list:_l("List",Or.List.isList),map:_l("Map",Or.Map.isMap),orderedMap:_l("OrderedMap",Or.OrderedMap.isOrderedMap),set:_l("Set",Or.Set.isSet),orderedSet:_l("OrderedSet",Or.OrderedSet.isOrderedSet),stack:_l("Stack",Or.Stack.isStack),seq:_l("Seq",Or.Seq.isSeq),record:_l("Record",function(e){return e instanceof Or.Record}),iterable:_l("Iterable",Or.Iterable.isIterable)};var Sl=function(e){var t=e.anchorNode,n=e.anchorOffset,r=e.focusNode,o=e.focusOffset,i=t.compareDocumentPosition(r);return!(4===i||0===i&&n<o)},El=function(){return Wr.Date.now()},Tl=NaN,Nl=/^\s+|\s+$/g,Cl=/^[-+]0x[0-9a-f]+$/i,Fl=/^0b[01]+$/i,Bl=/^0o[0-7]+$/i,jl=parseInt;var Pl=function(e){if("number"==typeof e)return e;if(ao(e))return Tl;if(fo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=fo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Nl,"");var n=Fl.test(e);return n||Bl.test(e)?jl(e.slice(2),n?2:8):Cl.test(e)?Tl:+e},zl="Expected a function",Il=Math.max,Dl=Math.min;var Rl=function(e,t,n){var r,o,i,a,s,u,c=0,f=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError(zl);function v(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function h(e){var n=e-u;return void 0===u||n>=t||n<0||l&&e-c>=i}function p(){var e=El();if(h(e))return y(e);s=setTimeout(p,function(e){var n=t-(e-u);return l?Dl(n,i-(e-c)):n}(e))}function y(e){return s=void 0,d&&r?v(e):(r=o=void 0,a)}function m(){var e=El(),n=h(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(p,t),f?v(e):a}(u);if(l)return s=setTimeout(p,t),v(u)}return void 0===s&&(s=setTimeout(p,t)),a}return t=Pl(t)||0,fo(n)&&(f=!!n.leading,i=(l="maxWait"in n)?Il(Pl(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},m.flush=function(){return void 0===s?a:y(El())},m},Ml="Expected a function";var Ll=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(Ml);return fo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Rl(e,t,{leading:r,maxWait:t,trailing:o})},ql=function(e,t){return e===t};var Kl=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onPaste","onSelect"],Ul={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function Jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;Eu.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function Wl(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var Vl=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Hl=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),$l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Yl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Xl=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Ql=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(kv){o=!0,i=kv}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Zl=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},ed=/^([\w-]+)(?::(\d+))?$/;var td={parse:function(e){var t=ed.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=Ql(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function(e){return e.key+":"+e.index}},nd="data-slate-zero-width",rd="["+nd+"]",od="data-offset-key",id="["+od+"]",ad="[data-key]",sd="[data-slate-void]";function ud(e,t,n){Nr(!Wu.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var r=function(e,t){if(1==e.nodeType&&e.childNodes.length){var n=t==e.childNodes.length,r=n?"backward":"forward",o=n?t-1:t;for(e=cd(e,o,r);1==e.nodeType&&e.childNodes.length;){var i=n?e.childNodes.length-1:0;e=cd(e,i,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),o=r.node,i=r.offset,a=sf(e),s=o.parentNode,u=s.closest(id),c=void 0,f=void 0;if(u){var l=a.document.createRange(),d=u.closest(ad);l.setStart(d,0),l.setEnd(o,i),f=d,c=l.toString().length}else{var v=s.closest(sd);if(!v)return null;if(!(u=v.querySelector(id)))return null;c=(f=u).textContent.length}c==f.textContent.length&&s.hasAttribute(nd)&&c--;var h=u.getAttribute(od);if(!h)return null;var p=td.parse(h).key,y=n.value;return y.document.hasDescendant(p)?y.document.createPoint({key:p,offset:c}):null}function cd(e,t,n){for(var r=e.childNodes,o=r[t],i=t,a=!1,s=!1;(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable"))&&(!a||!s);)i>=r.length?(a=!0,i=t-1,n="backward"):i<0?(s=!0,i=t+1,n="forward"):(o=r[i],"forward"==n&&i++,"backward"==n&&i--);return o||null}var fd=Ul.FRAGMENT,ld=Ul.HTML,dd=Ul.TEXT;function vd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var r=sf(e.target),o=r.getSelection(),i=t.value,a=i.document,s=i.fragment,u=i.selection,c=u.start,f=u.end,l=a.getClosestVoid(c.key,t),d=a.getClosestVoid(f.key,t);if(!o.isCollapsed||l){var v=df.serializeNode(s),h=o.getRangeAt(0),p=h.cloneContents(),y=p.childNodes[0];if(p.childNodes.forEach(function(e){e.textContent&&""!==e.textContent.trim()&&(y=e)}),d){var m=h.cloneRange(),g=Jl(d,r);m.setEndAfter(g),p=m.cloneContents()}if(l&&(y=p.childNodes[0].childNodes[1].firstChild),[].slice.call(p.querySelectorAll(rd)).forEach(function(e){var t="n"===e.getAttribute(nd);e.textContent=t?"\n":""}),3==y.nodeType){var k=r.document.createElement("span");k.style.whiteSpace="pre",k.appendChild(y),p.appendChild(k),y=k}y.setAttribute("data-slate-fragment",v);var _=Wu.create({document:s}),b=pf.serialize(_),w=r.document.createElement("div");if(w.appendChild(p),e.clipboardData&&e.clipboardData.setData&&!Wf)return e.preventDefault(),e.clipboardData.setData(dd,b),e.clipboardData.setData(fd,v),e.clipboardData.setData(ld,w.innerHTML),void n();var A=e.target.closest("[data-slate-editor]");w.setAttribute("contenteditable",!0),w.style.position="absolute",w.style.left="-9999px",A.appendChild(w),o.selectAllChildren(w),r.requestAnimationFrame(function(){A.removeChild(w),Wl(o),o.addRange(h),n()})}}function hd(e,t){Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var r=n.getAttribute("data-key");return r&&t.value.document.getNode(r)||null}function pd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=Jl(e.key,t),r=0,o=void 0,i=t.document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},!1);o=i.nextNode();){var a=r+o.textContent.length;if(e.offset<=a){var s=e.offset-r;return{node:o,offset:s>=0?s:0}}r=a}return null}function yd(e,t){Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var r=sf(n);(e instanceof r.Range||r.StaticRange&&e instanceof r.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var o=e,i=o.anchorNode,a=o.anchorOffset,s=o.focusNode,u=o.focusOffset,c=o.isCollapsed,f=t.value,l=ud(i,a,t),d=c?l:ud(s,u,t);if(!l||!d)return null;if(Wf||Vf){var v=pd(l),h=pd(d);e={anchorNode:v.node,anchorOffset:v.offset,focusNode:h.node,focusOffset:h.offset}}return f.document.createRange({anchor:l,focus:d})}var md=Ul.FRAGMENT,gd=Ul.HTML,kd=Ul.NODE,_d=Ul.RICH,bd=Ul.TEXT,wd=/ data-slate-fragment="([^\s"]+)"/;function Ad(e){!Wf&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=xd(t,md),r=xd(t,kd),o=xd(t,gd),i=xd(t,_d),a=xd(t,bd),s=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var u=wd.exec(o),c=Ql(u,2),f=(c[0],c[1]);f&&(n=f)}if(a){var l=function(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(kv){throw new Error("Unable to parse custom Slate drag event data.")}}(a);l[md]&&(n=l[md]),l[kd]&&(r=l[kd]),l[bd]&&(a=l[bd])}n&&(n=df.deserializeNode(n)),r&&(r=df.deserializeNode(r));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"==e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(kv){t.files&&t.files.length&&(s=Array.from(t.files))}var d={files:s,fragment:n,html:o,node:r,rich:i,text:a};return d.type=function(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(d),d}function xd(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t==bd&&e.getData("Text")||null}var Od=Ul.TEXT;var Sd=al("slate:after");function Ed(){var e=null;return{onBeforeInput:function(e,t,n){var r=t.value;if(e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),i=Ql(o,1)[0];if(!i)return n();Sd("onBeforeInput",{event:e}),e.preventDefault();var a=r.document,s=r.selection,u=yd(i,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(u);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(u);break;case"deleteWordForward":t.deleteWordForwardAtRange(u);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(u);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(u);break;case"insertLineBreak":case"insertParagraph":a.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(u);break;case"insertFromYank":case"insertReplacementText":case"insertText":var c=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==c)break;t.insertTextAtRange(u,c,s.marks),s.marks&&r.document!=t.value.document&&t.select({marks:null})}n()},onBlur:function(e,t,n){Sd("onBlur",{event:e}),t.blur(),n()},onClick:function(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=hd(e.target,t);if(!o)return n();Sd("onClick",{event:e});var i=r.getAncestors(o.key);o&&(t.isVoid(o)||i.some(function(e){return t.isVoid(e)}))&&t.focus().moveToEndOfNode(o),n()},onCopy:function(e,t,n){Sd("onCopy",{event:e}),vd(e,t),n()},onCut:function(e,t,n){Sd("onCut",{event:e}),vd(e,t,function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,i=n&&t.isVoid(n)&&o,a=r&&t.isVoid(r)&&o;i?t.removeNodeByKey(n.key):a?t.removeNodeByKey(r.key):t.delete()}),n()},onDragEnd:function(t,n,r){Sd("onDragEnd",{event:t}),e=null,r()},onDragStart:function(t,n,r){Sd("onDragStart",{event:t}),e=!0;var o=n.value,i=o.document,a=hd(t.target,n),s=i.getAncestors(a.key),u=a&&(n.isVoid(a)||s.some(function(e){return n.isVoid(e)})),c=o.blocks.some(function(e){return e.key===a.key});u&&!c&&n.moveToRangeOfNode(a);var f=n.value.fragment;!function(e,t,n){var r=Ul[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(kv){var i="SLATE-DATA-EMBED::",a=o.getData(Od),s={};if(a.substring(0,i.length)===i)try{s=JSON.parse(a.substring(i.length))}catch(c){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[Od]=a;s[r]=n;var u=""+i+JSON.stringify(s);o.setData(Od,u)}}(t,"fragment",df.serializeNode(f)),r()},onDrop:function(t,n,r){var o=n.value,i=o.document,a=o.selection,s=sf(t.target),u=function(e,t){Nr(!Wu.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,r=n.x,o=n.y,i=n.target;if(null==r||null==o)return null;var a=t.value.document,s=hd(i,t);if(!s)return null;if(t.query("isVoid",s)){var u=i.getBoundingClientRect(),c="inline"==s.object?r-u.left<u.left+u.width-r:o-u.top<u.top+u.height-o,f=s.getFirstText(),l=a.createRange();if(c){var d=a.getPreviousText(f.key);if(d)return l.moveToEndOfNode(d)}var v=a.getNextText(f.key);return v?l.moveToStartOfNode(v):null}var h=sf(i),p=void 0;if(h.document.caretRangeFromPoint)p=h.document.caretRangeFromPoint(r,o);else if(h.document.caretPositionFromPoint){var y=h.document.caretPositionFromPoint(r,o);(p=h.document.createRange()).setStart(y.offsetNode,y.offset),p.setEnd(y.offsetNode,y.offset)}else if(h.document.body.createTextRange){p=h.document.body.createTextRange();try{p.moveToPoint(r,o)}catch(g){return null}}var m=yd(p,t);return m||null}(t,n);if(!u)return r();Sd("onDrop",{event:t});var c=Ad(t),f=c.type,l=c.fragment,d=c.text;if(n.focus(),e&&a.end.key==u.end.key&&a.end.offset<u.end.offset&&(u=u.moveForward(a.start.key==a.end.key?0-a.end.offset+a.start.offset:0-a.end.offset)),e&&n.delete(),n.select(u),"text"==f||"html"==f){var v=u.anchor,h=i.hasVoidParent(v.key,n);if(h){for(var p=i.getNode(v.key);h&&(p=i.getNextText(p.key));)h=i.hasVoidParent(p.key,n);p&&n.moveToStartOfNode(p)}d&&d.split("\n").forEach(function(e,t){t>0&&n.splitBlock(),n.insertText(e)})}"fragment"==f&&n.insertFragment(l);var y=Jl(i.getNode(u.focus.key),s);y&&y.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:!0,cancelable:!0})),r()},onInput:function(e,t,n){var r=sf(e.target),o=t.value,i=r.getSelection().anchorNode,a=ud(i,0,t);if(!a)return n();var s=o.document,u=o.selection,c=s.getDescendant(a.key),f=s.getClosestBlock(c.key),l=c.getLeaves(),d=f.getLastText(),v=l.last(),h=0,p=0,y=l.find(function(e){if(h=p,(p+=e.text.length)>a.offset)return!0})||v,m=y.text,g=i.textContent,k=c==d,_=y==v,b=g.charAt(g.length-1);if(k&&_&&"\n"==b&&(g=g.slice(0,-1)),g==m)return n();Sd("onInput",{event:e});var w=g.length-m.length,A=u.moveToEnd().moveForward(w),x=u.moveAnchorTo(a.key,h).moveFocusTo(a.key,p);x=s.resolveRange(x),t.insertTextAtRange(x,g,y.marks).select(A),n()},onKeyDown:function(e,t,n){Sd("onKeyDown",{event:e});var r=t.value,o=r.document,i=r.selection,a=o.hasVoidParent(i.start.path,t);if(dl.isSplitBlock(e)&&!Hf)return a?t.moveToStartOfNextText():t.splitBlock();if(dl.isDeleteBackward(e)&&!Hf)return t.deleteCharBackward();if(dl.isDeleteForward(e)&&!Hf)return t.deleteCharForward();if(dl.isDeleteLineBackward(e))return t.deleteLineBackward();if(dl.isDeleteLineForward(e))return t.deleteLineForward();if(dl.isDeleteWordBackward(e))return t.deleteWordBackward();if(dl.isDeleteWordForward(e))return t.deleteWordForward();if(dl.isRedo(e))return t.redo();if(dl.isUndo(e))return t.undo();if(dl.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(dl.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(dl.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(dl.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(dl.isMoveBackward(e))return e.preventDefault(),i.isCollapsed?t.moveBackward():t.moveToStart();if(dl.isMoveForward(e))return e.preventDefault(),i.isCollapsed?t.moveForward():t.moveToEnd();if(dl.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(dl.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(dl.isExtendBackward(e)){var s=r.previousText,u=r.startText,c=s&&o.hasVoidParent(s.key,t);if(a||c||""==u.text)return e.preventDefault(),t.moveFocusBackward()}if(dl.isExtendForward(e)){var f=r.nextText,l=r.startText,d=f&&o.hasVoidParent(f.key,t);if(a||d||""==l.text)return e.preventDefault(),t.moveFocusForward()}n()},onPaste:function(e,t,n){Sd("onPaste",{event:e});var r=t.value,o=Ad(e),i=o.type,a=o.fragment,s=o.text;if("fragment"==i&&t.insertFragment(a),"text"==i||"html"==i){if(!s)return n();var u=r.document,c=r.selection,f=r.startBlock;if(t.isVoid(f))return n();var l=f,d=u.getInsertMarksAtRange(c),v=pf.deserialize(s,{defaultBlock:l,defaultMarks:d}).document;t.insertFragment(v)}n()},onSelect:function(e,t,n){Sd("onSelect",{event:e});var r=sf(e.target),o=t.value,i=o.document,a=r.getSelection();if(a.rangeCount){var s=yd(a,t);if(s){var u=s,c=u.anchor,f=u.focus,l=i.getNode(c.key),d=i.getNode(f.key),v=i.getClosestInline(c.key),h=i.getClosestInline(f.key),p=i.getClosestBlock(f.key),y=i.getClosestBlock(c.key);if(y&&!t.isVoid(y)&&0==c.offset&&p&&t.isVoid(p)&&0!=f.offset&&(s=s.setFocus(f.setOffset(0))),v&&!t.isVoid(v)&&c.offset==l.text.length){var m=i.getClosestBlock(c.key).getNextText(c.key);m&&(s=s.moveAnchorTo(m.key,0))}if(h&&!t.isVoid(h)&&f.offset==d.text.length){var g=i.getClosestBlock(f.key).getNextText(f.key);g&&(s=s.moveFocusTo(g.key,0))}var k=i.createSelection(s);k=(k=k.setIsFocused(!0)).set("marks",o.selection.marks),t.select(k),n()}}else t.blur()}}}var Td=al("slate:before");function Nd(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).plugins,t=void 0===e?[]:e,n=function(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&Yf||(Td("onBeforeInput",{event:e}),n())},onBlur:function(t,n,o){if(!r&&!n.readOnly){var a=t.relatedTarget,s=t.target,u=sf(s);if(e!==u.document.activeElement){if(a){var c=i.a.findDOMNode(n);if(a===c)return;if(a.hasAttribute("data-slate-spacer"))return;var f=hd(a,n);if(c.contains(a)&&f&&!n.isVoid(f))return}Td("onBlur",{event:t}),o()}}},onClick:function(e,t,n){Td("onClick",{event:e}),n()},onCompositionEnd:function(e,r,o){var i=t;window.requestAnimationFrame(function(){t>i||(n=!1,r.state.isComposing&&r.setState({isComposing:!1}))}),Td("onCompositionEnd",{event:e}),o()},onCompositionStart:function(e,r,o){n=!0,t++,r.state.isComposing||r.setState({isComposing:!0}),r.value.selection.isCollapsed||r.delete(),Td("onCompositionStart",{event:e}),o()},onCopy:function(e,t,n){var o=sf(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Td("onCopy",{event:e}),n()},onCut:function(e,t,n){if(!t.readOnly){var o=sf(e.target);r=!0,o.requestAnimationFrame(function(){return r=!1}),Td("onCut",{event:e}),n()}},onDragEnd:function(e,t,n){o=!1,Td("onDragEnd",{event:e}),n()},onDragEnter:function(e,t,n){Td("onDragEnter",{event:e}),n()},onDragExit:function(e,t,n){Td("onDragExit",{event:e}),n()},onDragLeave:function(e,t,n){Td("onDragLeave",{event:e}),n()},onDragOver:function(e,t,n){var r=hd(e.target,t);t.isVoid(r)&&e.preventDefault(),Wf&&e.preventDefault(),o||(o=!0,Wf||(e.nativeEvent.dataTransfer.dropEffect="move")),Td("onDragOver",{event:e}),n()},onDragStart:function(e,t,n){o=!0,Td("onDragStart",{event:e}),n()},onDrop:function(e,t,n){t.readOnly||(e.preventDefault(),Td("onDrop",{event:e}),n())},onFocus:function(t,n,o){if(!r&&!n.readOnly){var a=i.a.findDOMNode(n),s=sf(t.target);e=s.document.activeElement,Uf&&t.target!=a?a.focus():(Td("onFocus",{event:t}),o())}},onInput:function(e,t,r){n||t.value.selection.isBlurred||(Td("onInput",{event:e}),r())},onKeyDown:function(e,t,r){t.readOnly||(n?dl.isCompose(e)&&e.preventDefault():(!Hf&&(dl.isBold(e)||dl.isDeleteBackward(e)||dl.isDeleteForward(e)||dl.isDeleteLineBackward(e)||dl.isDeleteLineForward(e)||dl.isDeleteWordBackward(e)||dl.isDeleteWordForward(e)||dl.isItalic(e)||dl.isRedo(e)||dl.isSplitBlock(e)||dl.isTransposeCharacter(e)||dl.isUndo(e))&&e.preventDefault(),Td("onKeyDown",{event:e}),r()))},onPaste:function(e,t,n){t.readOnly||(e.preventDefault(),Td("onPaste",{event:e}),n())},onSelect:function(t,o,i){if(!r&&!n&&!o.readOnly){var a=sf(t.target);e=a.document.activeElement,Td("onSelect",{event:t}),i()}}}}(),r=Ed();return[n].concat(Zl(t),[r])}var Cd=al("slate:leaves"),Fd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Bd.call(r),Xl(r,n)}return Gl(t,e),Hl(t,[{key:"shouldComponentUpdate",value:function(e){return e.index!=this.props.index||e.marks!=this.props.marks||e.text!=this.props.text||e.parent!=this.props.parent}},{key:"render",value:function(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=td.stringify({key:t.key,index:n});return s.a.createElement("span",{"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,i=e.editor,a=this.renderText(),s={"data-slate-leaf":!0};return t.reduce(function(e,a){var u={editor:i,mark:a,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return i.run("renderMark",u)||e},a)}},{key:"renderText",value:function(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,i=e.text,a=e.index,u=e.leaves;if(r.query("isVoid",o))return s.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");if(""===i&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return s.a.createElement("span",{"data-slate-zero-width":"n"},"\ufeff",s.a.createElement("br",null));if(""===i)return s.a.createElement("span",{"data-slate-zero-width":"z"},"\ufeff");var c=t.getLastText(),f=i.charAt(i.length-1),l=n===c,d=a===u.size-1;return l&&d&&"\n"===f?i+"\n":i}}]),t}(s.a.Component);Fd.propTypes={block:yl.block.isRequired,editor:c.a.object.isRequired,index:c.a.number.isRequired,leaves:yl.leaves.isRequired,marks:yl.marks.isRequired,node:yl.node.isRequired,offset:c.a.number.isRequired,parent:yl.node.isRequired,text:c.a.string.isRequired};var Bd=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Cd.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},jd=al("slate:node"),Pd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),zd.call(r),Xl(r,n)}return Gl(t,e),Hl(t,[{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,r=t.editor,o=t.node,i=t.style,a=r.value.document,u=o.key,c=n.filter(function(e){var t=e.start,n=e.end;if(t.key===u||n.key===u)return!0;if(t.key===n.key)return!1;var r=a.assertPath(u);return-1!==Ru.compare(r,t.path)&&1!==Ru.compare(r,n.path)}),f=0===c.size?o.getLeaves():o.getLeaves(c),l=0,d=f.map(function(t,n){var r=e.renderLeaf(f,t,n,l);return l+=t.text.length,r});return s.a.createElement("span",{"data-key":u,style:i},d)}}]),t}(s.a.Component);Pd.propTypes={block:yl.block,decorations:Ol.list.isRequired,editor:c.a.object.isRequired,node:yl.node.isRequired,parent:yl.node.isRequired,style:c.a.object},Pd.defaultProps={style:null};var zd=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node.key;jd.apply(void 0,[t,i+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!=r.node)return!0;if("block"==n.parent.object){var o=r.parent.nodes.last(),i=n.parent.nodes.last();if(r.node==o&&n.node!=i)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var i=e.props,a=i.block,u=i.node,c=i.parent,f=i.editor,l=n.text,d=n.marks;return s.a.createElement(Fd,{key:u.key+"-"+r,block:a,editor:f,index:r,marks:d,node:u,offset:o,parent:c,leaves:t,text:l})}},Id=al("slate:void"),Dd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Rd.call(r),Xl(r,n)}return Gl(t,e),Hl(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"==n.object?"div":"span",i=s.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),a=s.a.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),s.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!=n.object)&&null},r?null:i,a)}}]),t}(s.a.Component);Dd.propTypes={block:yl.block,children:c.a.any.isRequired,editor:c.a.object.isRequired,node:yl.node.isRequired,parent:yl.node.isRequired,readOnly:c.a.bool.isRequired};var Rd=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key+" ("+i.type+")";Id.apply(void 0,[t,""+a].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,i=t.readOnly,a=t.editor,u=o.getFirstText();return s.a.createElement(Pd,{block:"block"==o.object?o:n,decorations:r,editor:a,key:u.key,node:u,parent:o,readOnly:i})}};function Md(e,t){var n=Un().asMutable(),r=[];return function(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var n=$l({},e.key,0),r=1;e.forEachDescendant(function(e){n[e.key]=r,r+=1});var o=e.nodes.toArray(),i=o.map(function(e,t){return{child:e,index:t,order:n[e.key]}});return t.forEach(function(e){var t=n[e.start.key],a=void 0===t?0:function(e,t,n){var r=e.findIndex(function(e){return n<t[e.key]});if(r<=0)return 0;var o=e[r-1];return t[o.key]}(o,n,t);i.push({isRangeStart:!0,order:a-.5,decoration:e});var s=(n[e.end.key]||r)+.5;i.push({isRangeEnd:!0,order:s,decoration:e})}),i.sort(function(e,t){return e.order>t.order?1:-1})}(e,t).forEach(function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())}),r}var Ld=al("slate:node"),qd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),Kd.call(r),Xl(r,n)}return Gl(t,e),Hl(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;Sr(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!=o.readOnly||(r.node!=o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,i=t.node,a=t.decorations,u=t.parent,c=t.readOnly,f=n.value.selection,l=i.getSelectionIndexes(f,r),d=a.concat(i.getDecorations(n)),v=Md(i,d),h=[];i.nodes.forEach(function(t,n){var r=!!l&&l.start<=n&&n<l.end;h.push(e.renderNode(t,r,v[n]))});var p={"data-key":i.key};"block"==i.object&&"block"!=i.nodes.first().object&&("rtl"==i.getTextDirection()&&(p.dir="rtl"));var y={key:i.key,editor:n,isFocused:o,isSelected:r,node:i,parent:u,readOnly:c},m=n.run("renderPlaceholder",y);m&&(m=s.a.cloneElement(m,{key:i.key+"-placeholder"}),h=[m].concat(Zl(h)));var g=n.run("renderNode",Yl({},y,{attributes:p,children:h}));return n.query("isVoid",i)?s.a.createElement(Dd,this.props,g):g}}]),t}(s.a.Component);qd.propTypes={block:yl.block,decorations:Ol.list.isRequired,editor:c.a.object.isRequired,isFocused:c.a.bool.isRequired,isSelected:c.a.bool.isRequired,node:yl.node.isRequired,parent:yl.node.isRequired,readOnly:c.a.bool.isRequired};var Kd=function(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=e.props.node,a=i.key,s=i.type;Ld.apply(void 0,[t,a+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,i=o.block,a=o.editor,u=o.node,c=o.readOnly,f=o.isFocused,l="text"==t.object?Pd:qd;return s.a.createElement(l,{block:"block"==u.object?u:i,decorations:r,editor:a,isSelected:n,isFocused:f&&n,key:t.key,node:t,parent:u,readOnly:c})}};function Ud(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,i=e.isCollapsed,a=pd(n,t),s=i?a:pd(r,t);if(!a||!s)return null;var u=t.document.createRange(),c=o?s:a,f=o?a:s;return u.setStart(c.node,c.offset),u.setEnd(f.node,f.offset),u}var Jd=["auto","overlay","scroll"],Wd=Hf&&!!window.navigator.userAgent.match(/os 11_/i);function Vd(e){if(!Wd&&e.anchorNode){var t=sf(e.anchorNode),n=function(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(Jd.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n==t.document.body||n==t.document.documentElement,o=Sl(e),i=e.getRangeAt(0).cloneRange();i.collapse(o);var a=i.getBoundingClientRect();Jf&&i.collapsed&&0==a.top&&0==a.height&&(0==i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0==(a=i.getBoundingClientRect()).top&&0==a.height&&i.getClientRects().length&&(a=i.getClientRects()[0]));var s=void 0,u=void 0,c=void 0,f=void 0,l=0,d=0,v=0,h=0,p=0,y=0,m=0,g=0;if(r){s=t.innerWidth,u=t.innerHeight,c=t.pageYOffset,f=t.pageXOffset}else{var k=n.offsetWidth,_=n.offsetHeight,b=n.scrollTop,w=n.scrollLeft,A=t.getComputedStyle(n),x=A.borderTopWidth,O=A.borderBottomWidth,S=A.borderLeftWidth,E=A.borderRightWidth,T=A.paddingTop,N=A.paddingBottom,C=A.paddingLeft,F=A.paddingRight,B=n.getBoundingClientRect();s=k,u=_,l=B.top+parseInt(x,10),d=B.left+parseInt(S,10),v=parseInt(x,10)+parseInt(O,10),h=parseInt(S,10)+parseInt(E,10),p=parseInt(T,10),y=parseInt(N,10),m=parseInt(C,10),g=parseInt(F,10),c=b,f=w}var j=a.top+c-l,P=a.left+f-d,z=f,I=c;P<f?z=P-m:P+a.width+h>f+s&&(z=P+h+g-s),j<c?I=j-p:j+a.height+v>c+u&&(I=j+v+y+a.height-u),r?t.scrollTo(z,I):(n.scrollTop=I,n.scrollLeft=z)}}var Hd=/Permission denied to access property "nodeType"/,$d=al("slate:content"),Yd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.tmp={isUpdatingSelection:!1},r.handlers=Kl.reduce(function(e,t){return e[t]=function(e){return r.onEvent(t,e)},e},{}),r.updateSelection=function(){var e=r.props.editor.value.selection,t=e.isBackward,n=sf(r.element),o=n.getSelection();if(o){var i=o.rangeCount,a=o.anchorNode;if(i||!e.isBlurred){if(e.isBlurred){if(!r.isInEditor(a))return;return Wl(o),r.element.blur(),void $d("updateSelection",{selection:e,native:o})}if(!e.isUnset){var s=!!i&&o.getRangeAt(0),u=Ud(e,n);if(u){var c=u.startContainer,f=u.startOffset,l=u.endContainer,d=u.endOffset;s&&(c==s.startContainer&&f==s.startOffset&&l==s.endContainer&&d==s.endOffset||c==s.endContainer&&f==s.endOffset&&l==s.startContainer&&d==s.startOffset)||(r.tmp.isUpdatingSelection=!0,Wl(o),o.setBaseAndExtent?t?o.setBaseAndExtent(u.endContainer,u.endOffset,u.startContainer,u.startOffset):o.setBaseAndExtent(u.startContainer,u.startOffset,u.endContainer,u.endOffset):o.addRange(u),Vd(o),setTimeout(function(){Uf&&r.element&&r.element.focus(),r.tmp.isUpdatingSelection=!1}),$d("updateSelection",{selection:e,native:o}))}else Sr(!1,"Unable to find a native DOM range from the current selection.")}}}},r.ref=function(e){r.element=e},r.isInEditor=function(e){var t=r.element,n=void 0;try{if(8===e.nodeType)return!1;n=3===e.nodeType?e.parentNode:e}catch(kv){if(Uf&&Hd.test(kv.message))return!1;throw kv}return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)},r.onNativeSelectionChange=Ll(function(e){r.props.readOnly||sf(e.target).document.activeElement===r.element&&r.props.onEvent("onSelect",e)},100),r.renderNode=function(e,t,n){var o=r.props,i=o.editor,a=o.readOnly,u=i.value,c=u.document,f=u.selection.isFocused;return s.a.createElement(qd,{block:null,editor:i,decorations:n,isSelected:t,isFocused:f&&t,key:e.key,node:e,parent:c,readOnly:a})},Xl(r,n)}return Gl(t,e),Hl(t,[{key:"componentDidMount",value:function(){sf(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),Yf&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function(){var e=sf(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),Yf&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function(){this.updateSelection()}},{key:"onEvent",value:function(e,t){if($d("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!=e&&"onBlur"!=e&&"onFocus"!=e){if("onSelect"==e){var n=this.props.editor,r=n.value.selection,o=yd(sf(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"==e||"onDragEnter"==e||"onDragExit"==e||"onDragLeave"==e||"onDragOver"==e||"onDragStart"==e||"onDrop"==e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!=e&&"onBlur"!=e&&"onCompositionEnd"!=e&&"onCompositionStart"!=e&&"onCopy"!=e&&"onCut"!=e&&"onFocus"!=e&&"onInput"!=e&&"onKeyDown"!=e&&"onKeyUp"!=e&&"onPaste"!=e&&"onSelect"!=e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function(){var e=this,t=this.props,n=this.handlers,r=t.className,o=t.readOnly,i=t.editor,a=t.tabIndex,u=t.role,c=t.tagName,f=t.spellCheck,l=i.value,d=c,v=l.document,h=l.selection,p=l.decorations,y=v.getSelectionIndexes(h),m=v.getDecorations(i).concat(p),g=Md(v,m),k=v.nodes.toArray().map(function(t,n){var r=!!y&&y.start<=n&&n<y.end;return e.renderNode(t,r,g[n])}),_=Yl({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},o?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return $d("render",{props:t}),s.a.createElement(d,Yl({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":v.key,contentEditable:!o||null,suppressContentEditableWarning:!0,className:r,autoCorrect:t.autoCorrect?"on":"off",spellCheck:f,style:_,role:o?null:u||"textbox",tabIndex:a,"data-gramm":!1}),k)}}]),t}(s.a.Component);Yd.propTypes={autoCorrect:c.a.bool.isRequired,className:c.a.string,editor:c.a.object.isRequired,readOnly:c.a.bool.isRequired,role:c.a.string,spellCheck:c.a.bool.isRequired,style:c.a.object,tabIndex:c.a.number,tagName:c.a.string},Yd.defaultProps={style:{},tagName:"div"};var Gd=[].concat(Zl(Kl),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","renderPlaceholder","schema"]);var Xd=al("slate:editor"),Qd=function(e){function t(){var e,n,r;Vl(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Xl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={},r.tmp={mounted:!1,change:null,resolves:0,updates:0},r.resolveController=function(e,t){var n;void 0===t&&(t=ql);var r,o=[],i=!1,a=function(e,n){return t(e,o[n],n)};return function(){for(var t=arguments.length,s=new Array(t),u=0;u<t;u++)s[u]=arguments[u];return i&&n===this&&s.length===o.length&&s.every(a)?r:(r=e.apply(this,s),i=!0,n=this,o=s,r)}}(function(){Sr(r.tmp.resolves<5||r.tmp.resolves!==r.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands` or `queries` on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),r.tmp.resolves++;var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t;return[Nd({plugins:[Gd.reduce(function(t,n){return n in e&&(t[n]=e[n]),t},{})].concat(Zl(n))}),{renderEditor:function(e,t,n){return s.a.createElement(Yd,{autoCorrect:e.autoCorrect,className:e.className,editor:t,onEvent:function(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})},renderNode:function(e,t,n){var r=e.attributes,o=e.children,i=e.node.object;if("block"!=i&&"inline"!=i)return null;var a="block"==i?"div":"span";return s.a.createElement(a,Yl({},r,{style:{position:"relative"}}),o)},renderPlaceholder:function(e,t,n){var r=e.node;return t.props.placeholder?t.state.isComposing?null:"block"!=r.object?null:Su.isTextList(r.nodes)?""!=r.text?null:t.value.document.getBlocks().size>1?null:s.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.props.placeholder):null:null}}]}(r.props);r.controller=new Uc({plugins:[e],onChange:function(e){r.tmp.mounted?r.props.onChange(e):r.tmp.change=e}},{controller:r,construct:!1}),r.controller.run("onConstruct")}),Xl(r,n)}return Gl(t,e),Hl(t,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.props.onChange(this.tmp.change),this.tmp.change=null)}},{key:"render",value:function(){Xd("render",this);var e=Yl({},this.props,{editor:this}),t=e.commands,n=e.plugins,r=e.queries,o=e.schema;this.resolveController(n,o,t,r);var i=e.options,a=e.readOnly,s=e.value;return this.controller.setReadOnly(a),this.controller.setValue(s,i),this.controller.run("renderEditor",e)}},{key:"applyOperation",value:function(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"normalize",value:function(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){Nr(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){Nr(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),t}(s.a.Component);function Zd(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}Qd.propTypes=Yl({autoCorrect:c.a.bool,autoFocus:c.a.bool,className:c.a.string,onChange:c.a.func,options:c.a.object,placeholder:c.a.any,plugins:c.a.array,readOnly:c.a.bool,role:c.a.string,schema:c.a.object,spellCheck:c.a.bool,style:c.a.object,tabIndex:c.a.number,value:yl.value.isRequired},Kl.reduce(function(e,t){return e[t]=c.a.func,e},{})),Qd.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},plugins:[],readOnly:!1,schema:{},spellCheck:!0};var ev="styles_container__3Ellu";Zd(".styles_container__3Ellu {\n  position: absolute;\n  bottom: 100%;\n  width: 100%;\n  padding: 5px 13px;\n  border: 1px solid #ebebeb;\n  border-bottom: 0;\n  box-sizing: border-box;\n}\n");var tv=function(e){var t=e.children;return s.a.createElement("div",{className:ev},t)},nv="styles_container__2pRR5";Zd(".styles_container__2pRR5 {\n  width: 800px;\n  height: 300px;\n  border: 1px solid #ebebeb;\n  position: relative;\n  box-sizing: border-box;\n}\n");var rv=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,o=void 0===r?24:r,i=e.d,a=e.fillRule,u=void 0===a?"evenodd":a;return s.a.createElement("svg",{fill:"currentColor",width:n,height:o,viewBox:"0 0 "+n+" "+o},s.a.createElement("path",{d:i,fillRule:u}))},ov=function(){return s.a.createElement(rv,{d:"M9 17.025V13h4.418c1.19 0 2.415.562 2.415 2.012s-1.608 2.013-2.9 2.013H9zM9 7h4.336c1 0 1.814.888 1.814 2 0 .89-.814 2-1.814 2H9V7zm8.192 1.899a3.893 3.893 0 0 0-3.888-3.889S9.334 5 8.167 5C7 5 7 6.167 7 6.167v11.666C7 19 8.167 19 8.167 19l5.572.01c2.333 0 4.231-1.86 4.231-4.148a4.122 4.122 0 0 0-1.77-3.372 3.873 3.873 0 0 0 .992-2.591z"})},iv="styles_icon-button__2Jq2E",av="styles_icon-button-actived__3Cr6i";Zd(".styles_icon-button__2Jq2E {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  height: 26px;\n  margin: 0 2px;\n  white-space: nowarp;\n  background-color: transparent;\n  border: 1px solid transparent;\n  padding: 0;\n  color: #8590a6;\n  box-sizing: border-box;\n}\n\n.styles_icon-button__2Jq2E:hover {\n  border-color: #ebebeb;\n  background-color: #f6f6f6;\n}\n\n.styles_icon-button-actived__3Cr6i {\n  color: #0084ff;\n}\n");var sv=function(e){var t=e.active,n=e.children,r=d(e,["active","children"]);return s.a.createElement("button",l({className:iv+" "+(t?av:"")},r),n)};function uv(e){var t=e.type,n=e.hotkey;return function(e,r,o){if(!ul(n)(e))return o();e.preventDefault(),r.toggleMark(t)}}function cv(e){var t=e.type,n=e.tagName;return function(e,r,o){var i=e.children,a=e.mark,u=e.attributes;return a.type===t?s.a.createElement(n,u,i):o()}}var fv=function(e,t){return e.value.activeMarks.some(function(e){return e.type===t})},lv=function(e,t,n){t.preventDefault(),e.toggleMark(n)};function dv(e){var t=e.type,n=e.icon;return function(e){var r=fv(e,t),o=n;return{index:0,ui:s.a.createElement(s.a.Fragment,null,s.a.createElement(sv,{active:r,onMouseDown:function(n){return lv(e,n,t)}},s.a.createElement(o,null)))}}}var vv="bold";var hv,pv=Wu.fromJSON({document:{object:"document",nodes:[{object:"block",type:"paragraph",nodes:[{object:"text",leaves:[{text:"\u5728\u8fd9\u91cc\u8f93\u5165\u6587\u5b57"}]}]}]}}),yv=[(void 0===hv&&(hv={}),{onKeyDown:uv({type:vv,hotkey:"mod+b"}),renderMark:cv({type:vv,tagName:"strong"}),renderButton:dv({type:vv,icon:ov})})],mv=yv.map(function(e){e.renderButton;return d(e,["renderButton"])}),gv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:pv},t.editorRef=s.a.createRef(),t.onChange=function(e){var n=e.value;t.setState({value:n})},t.renderEditor=function(e,t,n){var r=n(),o=function(e,t){var n=[];return e.forEach(function(e){var r={},o=e[t];void 0!==o&&(r[t]=o),n.push(r)}),n}(yv,"renderButton").filter(Boolean);o.sort(function(e,t){return e.index<t.index?-1:1});var i=o.map(function(e){var n=(0,e.renderButton)(t),r=n.index,o=n.ui;return s.a.createElement(s.a.Fragment,{key:r},o)});return s.a.createElement(s.a.Fragment,null,r,s.a.createElement(tv,null,i))},t}return function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e=d(this.props,[]);return s.a.createElement("div",l({className:nv},e),s.a.createElement(Qd,{plugins:mv,ref:this.editorRef,value:this.state.value,onChange:this.onChange,renderEditor:this.renderEditor,style:{width:"100%",height:"100%"}}))},t}(s.a.Component);t.a=gv}).call(this,n(3),n(23))},14:function(e,t,n){e.exports=n(30)},19:function(e,t,n){},21:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(7),a=n.n(i),s=(n(19),n(8)),u=n(9),c=n(12),f=n(10),l=n(13),d=(n(21),n(11)),v=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(d.a,{style:{width:500,height:500}}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.9051c1f9.chunk.js.map